!function(){var n={2583:function(e,t,n){var a={"./twoStepVerificationComponent.js":6032};function i(e){e=o(e);return n(e)}function o(e){if(n.o(a,e))return a[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}i.keys=function(){return Object.keys(a)},i.resolve=o,(e.exports=i).id=2583},9731:function(e,t,n){var a={"./displayNameConstants.js":1566,"./itemTradeTwoStepResources.js":1510,"./resources.js":2482,"./robuxSpendTwoStepResources.js":4661,"./settingsEventStreamConstants.js":5944,"./twoStepVerificationConstants.js":7849};function i(e){e=o(e);return n(e)}function o(e){if(n.o(a,e))return a[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}i.keys=function(){return Object.keys(a)},i.resolve=o,(e.exports=i).id=9731},9073:function(e,t,n){var a={"./accountSettingsModalChangeBirthdateController.js":9054,"./accountSettingsModalEmailSetController.js":6678,"./accountSettingsModalEmailVerifyController.js":696,"./accountSettingsModalKoreanIdVerificationController.js":5501,"./accountSettingsModalPasswordSetController.js":5038,"./accountSettingsModalPhoneSetController.js":530,"./accountSettingsModalPinCreateController.js":6922,"./accountSettingsModalPinUnlockController.js":6879,"./accountSettingsModalSocialDisconnectController.js":7426,"./accountSettingsModalTwoStepController.js":4828,"./accountSettingsModalUsernameUpdateController.js":1802,"./accountsContentController.js":9014,"./accountsController.js":4579,"./changeDisplayNameController.js":2142,"./displayNameController.js":6980,"./enableAuthenticatorModalController.js":1273,"./enableTwoStepVerificationModalController.js":5707,"./personalController.js":8136,"./recoveryCodesModalController.js":8619,"./robuxSpendVerifyChallengeModalController.js":8161,"./twoStepVerificationController.js":3441};function i(e){e=o(e);return n(e)}function o(e){if(n.o(a,e))return a[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}i.keys=function(){return Object.keys(a)},i.resolve=o,(e.exports=i).id=9073},1765:function(e,t,n){var a={"./accountPinStatusDirective.js":6490,"./accountsStatePropertiesDirective.js":7034,"./accountsValidUsernameDirective.js":4693,"./userAccountBaseDirective.js":9722};function i(e){e=o(e);return n(e)}function o(e){if(n.o(a,e))return a[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}i.keys=function(){return Object.keys(a)},i.resolve=o,(e.exports=i).id=1765},2625:function(e,t,n){var a={"./accountsService.js":5294,"./commonConstantsService.js":7500,"./displayNameLayout.js":9873,"./formFieldsMappingService.js":906,"./koreaIdVerificationService.js":2138,"./modalConstantsService.js":5809,"./notificationConstantsService.js":816,"./screentimeConstantsService.js":5210,"./twoStepVerificationService.js":7181,"./usersService.js":8514};function i(e){e=o(e);return n(e)}function o(e){if(n.o(a,e))return a[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}i.keys=function(){return Object.keys(a)},i.resolve=o,(e.exports=i).id=2625},360:function(e,t,n){var a={"./components/templates/twoStepVerification.html":7549,"./controllers/templates/accountBilling.html":7986,"./controllers/templates/accountFastTrack.html":1762,"./controllers/templates/accountInfo.html":4919,"./controllers/templates/accountNotifications.html":1467,"./controllers/templates/accountParentalControls.html":1924,"./controllers/templates/accountPrivacy.html":5997,"./controllers/templates/accountSecurity.html":1195,"./controllers/templates/accountSocial.html":592,"./controllers/templates/changeDisplayNameModal.html":7466,"./controllers/templates/modalAuthenticatorEnable.html":6431,"./controllers/templates/modalBirthdateAgeDown.html":9445,"./controllers/templates/modalEmailSet.html":9011,"./controllers/templates/modalEmailVerify.html":8878,"./controllers/templates/modalKoreanIdVerification.html":4140,"./controllers/templates/modalPasswordSet.html":3008,"./controllers/templates/modalPhoneDelete.html":9854,"./controllers/templates/modalPhoneSet.html":7265,"./controllers/templates/modalPhoneUpdate.html":9494,"./controllers/templates/modalPhoneVerify.html":5713,"./controllers/templates/modalPinCreate.html":2016,"./controllers/templates/modalPinUnlock.html":8790,"./controllers/templates/modalRecoveryCodes.html":3164,"./controllers/templates/modalRobuxSpendVerifyChallenge.html":3712,"./controllers/templates/modalSocialDisconnect.html":4349,"./controllers/templates/modalTwoStepDisable.html":6161,"./controllers/templates/modalTwoStepEnable.html":916,"./controllers/templates/modalUsernameUpdate.html":2360,"./directives/templates/accountPinStatus.html":9399,"./directives/templates/userAccountBase.html":9804};function i(e){e=o(e);return n(e)}function o(e){if(n.o(a,e))return a[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}i.keys=function(){return Object.keys(a)},i.resolve=o,(e.exports=i).id=360},4395:function(e,t,n){"use strict";var c=n(792),a=n(5734),a=n.n(a)().module("accounts",["robloxApp","ui.router","cursorPagination","premium","systemFeedback","verticalMenu","modal","phoneValidation"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","accountConstantsResources","robuxSpendTwoStepResources","itemTradeTwoStepResources","languageResourceProvider",function(e,t,n,a,i,o,s){var r=window.location.href;-1!=r.indexOf("#")&&-1==r.indexOf("#!")&&(window.location.href=r.replace("#","#!")),n.html5Mode(!1),n.hashPrefix("!"),t.otherwise("/info"),e.state("info",{url:"/info",label:"Account Info",templateUrl:a.templates.accountInfo}).state("social",{url:"/social",label:"Social",templateUrl:a.templates.accountSocial}).state("security",{url:"/security",label:"Security",templateUrl:a.templates.accountSecurity}).state("privacy",{url:"/privacy",label:"Privacy",templateUrl:a.templates.accountPrivacy}).state("parental-controls",{url:"/parental-controls",label:"Parental Controls",templateUrl:a.templates.accountParentalControls}).state(a.accountTabsNames.parentalControlsCheckStatus,{url:"/parental-controls/check-status",label:"Parental Controls",templateUrl:a.templates.accountParentalControls}).state("billing",{url:"/billing",label:"Billing",templateUrl:a.templates.accountBilling}).state("notifications",{url:"/notifications",label:"Notifications",templateUrl:a.templates.accountNotifications}).state("fast-track",{url:"/fast-track",label:"Fast Track",templateUrl:a.templates.accountFastTrack});a=c.Lang.AccountSettingsResources,a={"Label.Notifications.GroupJoinRequestAccepted":a&&a["Label.Notifications.GroupJoinRequestAccepted"]||"Someone accepts my group join request","Response.Dialog.EnableTwoStepVerification":a&&a["Response.Dialog.EnableTwoStepVerification"]||"Turn on 2 Step Verification","Response.Dialog.EnableTwoStepVerificationMessage":a&&a["Response.Dialog.EnableTwoStepVerificationMessage"]||"To turn on 2-Step Verification, please verify account password.","Message.RobuxSpendTwoStepVerificationMessage":a&&a["Message.RobuxSpendTwoStepVerificationMessage"]||"Verification is required to continue with your virtual transaction.","Message.ItemTradeTwoStepVerificationMessage":a&&a["Message.ItemTradeTwoStepVerificationMessage"]||"Verification is required to continue with your trade.","Label.USDCurrency":a&&a["Label.USDCurrency"]||"USD","Label.ChatFilteringLevel":a&&a["Label.ChatFilteringLevel"]||"Chat Filtering Level","Label.ToolTip.ChatFilteringLevel":a&&a["Label.ToolTip.ChatFilteringLevel"]||"All text chat is scanned for language that is inappropriate within the Roblox community. This setting controls what you can send and receive while chatting with others on Roblox.","Label.DropDown.MaximumFiltering":a&&a["Label.DropDown.MaximumFiltering"]||"Maximum Filtering","Label.DropDown.13PlusFiltering":a&&a["Label.DropDown.13PlusFiltering"]||"13+ Filtering"};s.setLanguageKeysFromFile(c.Lang.AccountSettingsResources),s.setLanguageKeysFromFile(a),s.setLanguageKeysFromFile(c.Lang.ControlsResources),s.setLanguageKeysFromFile(c.Lang["Authentication.Social"]),s.setLanguageKeysFromFile(c.Lang.PremiumResources),s.setLanguageKeysFromFile(c.Lang.DisplayNameResources),s.setLanguageKeysFromFile(c.Lang.TwoStepVerificationResources),s.setLanguageKeysFromFile(c.Lang.IdVerificationResources)}]);t.Z=a},6032:function(e,t,n){"use strict";n.r(t);var a={templateUrl:"two-step-verification",bindings:{pinLocked:"<",unlockPin:"<",emailStatus:"<",email:"<"},controller:"twoStepVerificationController"};n(4395).Z.component("twoStepVerification",a),t.default=a},1566:function(e,t,n){"use strict";n.r(t);var a={changeDisplayNameModal:{templateUrl:"change-display-name-modal",controllerName:"changeDisplayNameController"},eventstreamParams:{changeDisplayNameEvent:"changeDisplayname",successCtx:"success",cancelCtx:"cancel"}};n(4395).Z.constant("displayNameConstants",a),t.default=a},1510:function(e,t,n){"use strict";n.r(t);var a={urls:{support:"/info/account-safety"},actionTypes:{itemTrade:"ItemTrade"},codeLength:6,events:{frictionEventType:"buttonClick",twoStepVerificationCtx:"2svItemTrade",resendCodeBtn:"resendCode",verifyCodeBtn:"verifyCode",verifySecurityPageBtn:"verifySecurityPage",verificationWarningSecurityPageTriggered:"verificationWarningSecurityPageTriggered",codeInputModalTriggered:"codeInputModalTriggered",successfulVerification:"successfulVerification",invalidCodeInput:"invalidCodeInput"}};n(4395).Z.constant("itemTradeTwoStepResources",a),t.default=a},2482:function(e,t,n){"use strict";n.r(t);var a={controllers:{modal:{changeBirthdate:"accountSettingsModalChangeBirthdateController",emailSet:"accountSettingsModalEmailSetController",emailVerify:"accountSettingsModalEmailVerifyController",enableAuthenticator:"enableAuthenticatorModalController",enableTwoStepVerification:"enableTwoStepVerificationModalController",passwordSet:"accountSettingsModalPasswordSetController",phoneSet:"accountSettingsModalPhoneSetController",twoStepSet:"accountSettingsModalTwoStepController",pinCreate:"accountSettingsModalPinCreateController",pinUnlock:"accountSettingsModalPinUnlockController",recoveryCodes:"recoveryCodesModalController",usernameUpdate:"accountSettingsModalUsernameUpdateController",socialDisconnect:"accountSettingsModalSocialDisconnectController",robuxSpendVerifyChallenge:"robuxSpendVerifyChallengeModalController",koreanIDVerification:"accountSettingsModalKoreanIdVerificationController"}},templates:{accountInfo:"account-info",accountBilling:"account-billing",accountNotifications:"account-notifications",accountParentalControls:"account-parental-controls",accountPrivacy:"account-privacy",accountSecurity:"account-security",accountSocial:"account-social",accountPinStatus:"account-pin-status",accountFastTrack:"account-fasttrack",modal:{changeBirthdate:"modal-birthdate-age-down",emailSet:"modal-email-set",emailVerify:"modal-email-verify",enableAuthenticator:"modal-authenticator-enable",enableTwoStepVerification:"modal-two-step-enable",passwordSet:"modal-password-set",phoneSet:"modal-phone-set",twoStepSet:"modal-two-step-disable",pinCreate:"modal-pin-create",pinUnlock:"modal-pin-unlock",recoveryCodes:"modal-recovery-codes",usernameUpdate:"modal-username-update",socialDisconnect:"modal-social-disconnect",robuxSpendVerifyChallenge:"modal-robux-spend-verify-challenge",koreanIDVerification:"modal-korean-id-verification"},userAccountBase:"user-account-base"},paymentType:{paypal:"paypal"},paymentsPerPage:10,maxPaymentsLoaded:25,paymentProviderTypeToClass:{Visa:"visa",Discover:"discover",MasterCard:"masterCard",AmericanExpress:"americanExpress",Paypal:"paypal",Credit:"robloxCredit"},updateThemeEventContext:"select",defaultThemeType:"Classic",updateThemeEvent:"Roblox.ThemeUpdate",themeTypes:{classic:"Classic",light:"Light"},birthdayPicker:{year:{id:"YearDropdown",class:"year",name:"birthYear",type:"year"},month:{id:"MonthDropdown",class:"month",name:"birthMonth",type:"month"},day:{id:"DayDropdown",class:"day",name:"birthDay",type:"day"}},defaultDateParts:{0:{options:[{label:"Month",value:null}],id:"MonthDropdown",class:"month",name:"birthdayMonth",type:"month"},1:{options:[{label:"Day",value:null}],id:"DayDropdown",class:"day",name:"birthdayDay",type:"day"},2:{options:[{label:"Year",value:null}],id:"YearDropdown",class:"year",name:"birthdayYear",type:"year"}},accountSettingsPolicyDefault:{displayTwoStepVerification:!0,displayAccountPIN:!0,displayPrivacyModeToolTip:!0,displayEmailAddress:!0,displayWeChat:!1,displayQQ:!1,displayConnectedAccounts:!0,displayNotificationStream:!0,displayDesktopPush:!0,displayMobilePush:!0,displayPhoneNumber:!0,displaySocialMedia:!0,displayDescription:!0,displayAccountRestrictions:!0,displayWhoCanMessageMe:!0,displayWhoCanInviteMeToVIPServers:!0,displayWhoCanTradeWithMe:!0,displayTradeQualityFilter:!0,displayCountryList:!0,displayLanguageList:!0,displayChangeUsername:!0,displayChangePassword:!0,displayBillingTab:!0,displayIdentityVerification:!1,displayVoiceChatSettings:!1,displayVisibilitySettings:!0,displayPasswordRow:!0,displayChatFilteringSetting:!1},accountSettingsPolicyLeastPrivileged:{displayTwoStepVerification:!1,displayAccountPIN:!1,displayPrivacyModeToolTip:!1,displayEmailAddress:!1,displayWeChat:!1,displayQQ:!1,displayConnectedAccounts:!1,displayNotificationStream:!1,displayDesktopPush:!1,displayMobilePush:!1,displayPhoneNumber:!1,displaySocialMedia:!1,displayDescription:!1,displayAccountRestrictions:!1,displayWhoCanMessageMe:!1,displayWhoCanInviteMeToVIPServers:!1,displayWhoCanTradeWithMe:!1,displayTradeQualityFilter:!1,displayCountryList:!1,displayLanguageList:!1,displayChangeUsername:!1,displayChangePassword:!1,displayBillingTab:!1,displayIdentityVerification:!1,displayVoiceChatSettings:!1,displayVisibilitySettings:!1,displayPasswordRow:!1,displayChatFilteringSetting:!1},accountSettingsPolicyNotificationDestinations:{NotificationStream:"displayNotificationStream",DesktopPush:"displayDesktopPush",MobilePush:"displayMobilePush"},counters:{accountSettingPolicyPrefix:"WebsiteAccountSettingsPolicy_",success:"Success",failure:"Failure"},socialAuth:{providers:{facebook:"facebook",weChat:"wechat",qq:"qq"}},emailStatus:{none:"none",unverified:"unverified",verified:"verified"},socialErrorCode:{11:"Message.Error.InvalidFacebookUrl ",12:"Message.Error.InvalidTwitterUrl",13:"Message.Error.InvalidYouTubeUrl",14:"Message.Error.InvalidTwitchUrl"},events:{formInteractionEventType:"formInteraction",settingsCtx:"settings",addEmailBtn:"addEmail",verifyEmailBtn:"verifyEmail",addPhoneBtn:"addPhone",changeEmailBtn:"changeEmail",changePhoneBtn:"changePhone",toggle2SVOn:"turn2SVon",toggle2SVOff:"turn2SVoff"},accountTabsDefault:[{name:"info",label:"Account Info"},{name:"security",label:"Security"},{name:"privacy",label:"Privacy"}],accountTabsNames:{parentalControlsCheckStatus:"parental-controls-check-status"},visibilityTypes:{invalid:0,visible:1,invisible:2},spendNotificationSettingTypes:{allNotifications:"NotificationsEveryAmountSpent",notificationsOff:"NotificationsOff",defaultNotifications:"NotificationsOnlyOnThresholdPassed"}};n(4395).Z.constant("accountConstantsResources",a),t.default=a},4661:function(e,t,n){"use strict";n.r(t);var a={urls:{support:"/info/account-safety"},actionTypes:{robuxSpend:"RobuxSpend"},codeLength:6,events:{frictionEventType:"buttonClick",twoStepVerificationCtx:"2svRobuxSpend",resendCodeBtn:"resendCode",verifyCodeBtn:"verifyCode",verifySecurityPageBtn:"verifySecurityPage",verificationWarningSecurityPageTriggered:"verificationWarningSecurityPageTriggered",codeInputModalTriggered:"codeInputModalTriggered",successfulVerification:"successfulVerification",invalidCodeInput:"invalidCodeInput"}};n(4395).Z.constant("robuxSpendTwoStepResources",a),t.default=a},5944:function(e,t,n){"use strict";n.r(t),n.d(t,{events:function(){return i},accountSettingsOrigin:function(){return a}});var a="AccountSettings",i={verifyAgeButtonClicked:{name:"verifyAgeButtonClicked",type:"buttonClick",context:"Settings",params:{btn:"verifyMyAge"}}}},7849:function(e,t,n){"use strict";n.r(t);var a=n(4720),n={alreadyEnabled:"alreadyEnabled",featureDisabled:"featureDisabled",invalidCode:"invalidCode",invalidEmail:"invalidEmail",invalidPassword:"invalidPassword",invalidMediaType:"invalidMediaType",invalidSetupToken:"invalidSetupToken",pinLocked:"pinLocked",tooManyRequests:"tooManyRequests"};t.default={digitRegex:/^[0-9]$/,mediaTypes:{Email:"Email",Authenticator:"Authenticator",RecoveryCode:"RecoveryCode"},urls:{authenticatorHelp:a.urlService.getAbsoluteUrl("/info/2sv")},errorCodes:{internal:n,api:{3:n.invalidEmail,4:n.invalidPassword,5:n.tooManyRequests,6:n.pinLocked,7:n.featureDisabled,10:n.invalidCode,11:n.alreadyEnabled,12:n.invalidSetupToken}}}},9054:function(e,t,n){"use strict";n.r(t);n=n(4395);function a(t,n,a){t.layout={password:"",errorMessage:"",debounce:!1},t.canSubmit=function(){return t.layout.password&&!t.layout.errorMessage&&!t.layout.debounce},t.clearErrorMessage=function(){t.layout.errorMessage=""},t.dismiss=function(){n.dismiss()},t.submit=function(e){t.layout.debounce||e.$valid&&(e.$setPristine(),t.clearErrorMessage(),t.layout.debounce=!0,a.updateBirthdate(t.layout.password).then(function(){n.close(!0)}).catch(function(e){t.layout.errorMessage=a.getBirthdateErrorMessageFromCode(e),t.layout.debounce=!1}))}}a.$inject=["$scope","$uibModalInstance","modalData"],n.Z.controller("accountSettingsModalChangeBirthdateController",a),t.default=a},6678:function(e,t,n){"use strict";n.r(t);var a=n(5734),s=n.n(a),n=n(4395);function i(t,e,n,a,i,o){s().extend(t,i),t.userInfo={},t.emailSetSuccess=!1,t.regexData={},a.getEmailRegex().then(function(e){e&&(t.regexData.email=e.Regex)}),t.showPasswordField=i.isEmailVerified&&i.doesPasswordExist,t.modalConstants=o,t.title=function(){return t.emailRequired?o.emailSet.emailRequiredMessage:t.emailSetSuccess?o.emailSet.emailSetSuccessMessage:t.changeEmail?t.over13?o.emailSet.changeEmailO13Label:o.emailSet.changeEmailU13Label:t.over13?o.emailSet.addEmailO13Label:o.emailSet.addEmailU13Label},t.toggleEmailRequired=function(e){t.emailRequired=e},t.submitButtonText=function(){return t.changeEmail?o.emailSet.changeEmailLabel:o.emailSet.addEmailLabel},t.emailErrorMessage=function(e){return e["userInfo.emailAddress"].$error.required?null:e["userInfo.emailAddress"].$invalid?o.emailSet.invalidEmailAddressMessage:e.$pristine&&t.error?t.error:null},t.submit=function(e){e.$setPristine(),t.error="",t.isProcessing=!0,n.beginAccountAddEmailAddress(t.userInfo).then(function(){t.emailSetSuccess=!0},function(e){t.error=n.getEmailErrorMessageFromCode(e)}).finally(function(){t.isProcessing=!1})},t.dismiss=function(){t.passwordSet?e.close(!0):e.dismiss()}}i.$inject=["$scope","$uibModalInstance","accountsService","regexService","modalData","modalConstantsService"],n.Z.controller("accountSettingsModalEmailSetController",i),t.default=i},696:function(e,t,n){"use strict";n.r(t);var a=n(5734),i=n.n(a),n=n(4395);function o(t,n,e){i().extend(t,e),t.verificationEmailSent=!1,t.verificationEmailError=!1,t.beginAccountVerifyEmailAddress=function(){n.beginAccountVerifyEmailAddress().then(function(){t.verificationEmailSent=!0},function(e){t.verificationEmailError=!0,t.error=n.getEmailErrorMessageFromCode(e)})},t.sendVerificationEmail=function(){t.verifiedEmailRequired=!1,t.beginAccountVerifyEmailAddress()},t.verifiedEmailRequired||t.beginAccountVerifyEmailAddress()}o.$inject=["$scope","accountsService","modalData"],n.Z.controller("accountSettingsModalEmailVerifyController",o),t.default=o},5501:function(e,t,n){"use strict";n.r(t);var a=n(5734),u=n.n(a),g=n(292),n=n(4395);function i(s,e,r,t,c,l,d){u().extend(s,t),s.verificationOptions=l.verificationOptions,s.verificationHandler=function(a){var e=l.localStorageConstants,i=e.MDL_TOKEN,o=e.METHOD,t=e.PARENTAL_RESTRICTED_HOURS,n=e.PARENTAL_TIME_ZONE,e=e.UPDATED_TIME_ZONE;g.localStorageService.setLocalStorage(t,u().toJson(s.parentalRestrictedHours)),g.localStorageService.setLocalStorage(n,s.parentalTimezone),g.localStorageService.setLocalStorage(e,s.updatedTimezone),c.beginStartKoreaIdVerification(a).then(function(e){var t=e.data,n=t.url,e=t.parameters,t="phone"===a?e.mdl_tkn:e.mdlTkn;g.localStorageService.setLocalStorage(i,t),g.localStorageService.setLocalStorage(o,a);e=c.formPostHelper(n,e);document.body.appendChild(e),e.submit()},function(e){console.debug("Error starting korea id verification from identity verification service",u().toJson(e)),r.open({titleText:d.default.error.title,bodyText:d.default.error.body})})}}i.$inject=["$scope","$log","modalService","modalData","koreaIdVerificationService","screentimeConstantsService","modalConstantsService"],n.Z.controller("accountSettingsModalKoreanIdVerificationController",i),t.default=i},5038:function(e,t,n){"use strict";n.r(t);var a=n(5734),o=n.n(a),n=n(4395);function i(t,e,n,a,i){o().extend(t,a),t.passwordInfo={},t.passwordSetSuccess=!1,t.passwordSetSuccessTitle=i.passwordSet.changePasswordSuccess,t.doesPasswordExist=a.doesPasswordExist&&t.changePassword,t.changePassword?t.title=i.passwordSet.changePasswordMessage:t.title=i.passwordSet.addPasswordMessage,t.passwordErrorMessage=function(e){return e["passwordInfo.newPassword"].$error.required||e["passwordInfo.confirmPassword"].$error.required?null:e["passwordInfo.confirmPassword"].$error.matchField?i.passwordSet.matchErrorMessage:e.$pristine&&t.error?t.error:null},t.submit=function(e){e.$setPristine(),t.error="",t.doesPasswordExist||(t.passwordInfo.oldPassword="placeholder"),n.beginAccountChangePassword(t.passwordInfo).then(function(){t.title=i.default.success.title,t.passwordSetSuccess=!0},function(e){switch(e&&e.errors&&0<e.errors.length&&e.errors[0].code||0){case 2:t.error=i.passwordChange.tooManyRequests;break;case 7:t.error=i.passwordChange.invalidPassword;break;case 8:t.error=i.passwordChange.invalidCurrentPassword;break;case 9:t.error=i.passwordChange.pinLocked;break;default:t.error=i.default.error.body}})},t.dismiss=function(){t.passwordSetSuccess?e.close(!0):e.dismiss()}}i.$inject=["$scope","$uibModalInstance","accountsService","modalData","modalConstantsService"],n.Z.controller("accountSettingsModalPasswordSetController",i),t.default=i},530:function(e,t,n){"use strict";n.r(t);n=n(4395);function a(t,e,n,a,i,o,s,r,c){t.phoneInfo={},t.doesPasswordExist=t.accountContent.userInfo.data.HasValidPasswordSet,t.layout={showEditModal:!0,isUpdatePhoneBusy:!1,isVerifyPhoneBusy:!1},t.getPhonePrefix=function(){return t.phoneInfo.phonePrefix?r.phonePrefixCharacter+t.phoneInfo.phonePrefix.prefix:""},t.clearDeletePhoneError=function(){t.layout.deletePhoneError=null},t.clearUpdatePhoneError=function(){t.layout.updatePhoneError=null},t.clearCodeError=function(){t.layout.codeError=null},t.clearPhone=function(){t.phoneInfo.phone=null},t.updatePhone=function(){t.layout.isUpdatePhoneBusy=!0,t.clearUpdatePhoneError(),t.doesPasswordExist||(t.phoneInfo.password="placeholder");var e={countryCode:t.phoneInfo.phonePrefix.code,prefix:t.phoneInfo.phonePrefix.prefix,phone:t.phoneInfo.phone,password:t.phoneInfo.password};a.beginAccountUpdatePhone(e).then(function(){t.layout.showEditModal=!1,t.layout.showVerifyModal=!0,t.layout.focusOnCodeInput=!0},function(e){t.layout.updatePhoneError=a.getPhoneErrorMessageFromCode(e)}).finally(function(){t.layout.isUpdatePhoneBusy=!1})},t.initiateDeletePhone=function(){t.layout.showEditModal=!1,t.layout.showDeleteModal=!0},t.deletePhone=function(){t.layout.isDeletePhoneBusy=!0,t.clearDeletePhoneError();var e={password:t.phoneInfo.password};a.beginAccountDeletePhone(e).then(function(){var e={message:c.phoneSet.deleteSuccessMessage};n.close(e)},function(e){t.layout.deletePhoneError=a.getPhoneErrorMessageFromCode(e)}).finally(function(){t.layout.isDeletePhoneBusy=!1})},t.submitCode=function(){var e;t.layout.isVerifyPhoneBusy=!0,t.clearCodeError(),i.checkCode(t.phoneInfo.code,t.phoneModalData.codeLength)?(e={code:t.phoneInfo.code},a.beginAccountVerifyPhone(e).then(function(){var e={message:c.phoneSet.updateSuccessMessage};n.close(e)},function(e){t.layout.codeError=a.getPhoneErrorMessageFromCode(e)}).finally(function(){t.layout.isVerifyPhoneBusy=!1})):(t.layout.isVerifyPhoneBusy=!1,t.layout.codeError="Code must be ".concat(t.phoneModalData.codeLength," digits"))},t.resendCode=function(){t.layout.isVerifyPhoneBusy=!0,t.clearCodeError(),a.beginAccountResendPhoneCode().then(function(e){e.isValid||(t.layout.codeError=e.data)},function(e){t.layout.codeError=c.phoneSet.getMessageFromResendCodeError(e)}).finally(function(){t.layout.isVerifyPhoneBusy=!1})},t.selectPhonePrefix=function(){t.phoneInfo.phonePrefix=_.find(t.accountInfoSettings.phonePrefixes,function(e){return e.prefix===t.phoneModalData.prefix&&e.code===t.phoneModalData.countryCode}),t.phoneInfo.phonePrefix||(t.phoneInfo.phonePrefix=t.accountInfoSettings.phonePrefixes[0])},t.init=function(){var e;t.phoneModalData.maskedNumber&&(e=t.phoneModalData.maskedNumber?t.phoneModalData.maskedNumber.match(/\d+$/):null,t.phoneModalData.lastDigits=e?e[0]:null),t.accountInfoSettings.phonePrefixes?t.selectPhonePrefix():s.getPhonePrefixes(t.accountContent.userInfo.data.ApiProxyDomain).then(function(e){t.accountInfoSettings.phonePrefixes=e,t.accountInfoSettings.phonePrefixes?t.selectPhonePrefix():t.layout.countryError=c.phoneSet.countryListErrorMessage},function(){t.layout.countryError=c.phoneSet.countryListErrorMessage})},t.init()}a.$inject=["$scope","$log","$uibModalInstance","accountsService","numericCodeService","urlService","phoneService","phoneConstants","modalConstantsService"],n.Z.controller("accountSettingsModalPhoneSetController",a),t.default=a},6922:function(e,t,n){"use strict";n.r(t);var a=n(5734),o=n.n(a),n=n(4395);function i(t,e,n,a,i){o().extend(t,a),t.pinInfo={},t.pinCreateSuccess=!1,t.pinErrorMessage=function(e){return e.newPin.$error.required||e.newPin.$error.minlength||e.newPinConfirm.$error.required||e.newPinConfirm.$error.minlength?null:e.$dirty&&e.newPinConfirm.$error.matchField?i.pinCreate.matchErrorMessage:e.$pristine&&t.error?t.error:null},t.submit=function(e){e.$valid&&(e.$setPristine(),t.error="",n.beginCreateAccountPinSetting(t.pinInfo.newPin).then(function(){t.pinCreateSuccess=!0},function(e){t.error=n.getPinErrorMessageFromCode(e)}))},t.dismiss=function(){t.pinCreated?e.close(!0):e.dismiss()}}i.$inject=["$scope","$uibModalInstance","accountsService","modalData","modalConstantsService"],n.Z.controller("accountSettingsModalPinCreateController",i),t.default=i},6879:function(e,t,n){"use strict";n.r(t);var a=n(5734),o=n.n(a),n=n(4395);function i(t,e,n,a,i){o().extend(t,i),t.pinInfo={},t.pinErrorMessage=function(e){return e.$pristine&&t.error?t.error:null},t.submit=function(e){e.$valid&&(e.$setPristine(),t.error="",a.beginUnlockAccountPinSetting(t.pinInfo.pin).then(function(e){n.close(e)},function(e){t.error=a.getPinErrorMessageFromCode(e)}))}}i.$inject=["$scope","$log","$uibModalInstance","accountsService","modalData"],n.Z.controller("accountSettingsModalPinUnlockController",i),t.default=i},7426:function(e,t,n){"use strict";n.r(t);var a=n(5734),o=n.n(a),n=n(4395);function i(t,n,a,e,i){o().extend(t,e),t.data={},t.layout={isProcessing:!1,error:""},t.getTitle=function(){return i.socialDisconnect.unlinkTitle(t.provider)},t.getPasswordErrorMessage=function(e){return e.$pristine&&t.layout.error?t.layout.error:null},t.hasPasswordError=function(){return""!==t.layout.error},t.clearPasswordError=function(){t.layout.error=""},t.submit=function(e){e.$setPristine(),t.clearPasswordError(),t.layout.isProcessing=!0,a.beginUpdateSocialDisconnect(t.provider,t.data.password).then(function(){n.close(!0)},function(e){t.layout.error=i.socialDisconnect.getMessageFromError(e)}).finally(function(){t.layout.isProcessing=!1})},t.dismiss=function(){n.dismiss()}}i.$inject=["$scope","$uibModalInstance","accountsService","modalData","modalConstantsService"],n.Z.controller("accountSettingsModalSocialDisconnectController",i),t.default=i},4828:function(e,t,n){"use strict";n.r(t);var a=n(4395),o=n(7849);function i(t,n,a,i){t.disableWarning="Response.Dialog.TwoStepDisableWarning",1<a.enabledMediaTypes.length&&(a.mediaType===o.default.mediaTypes.Email?t.disableWarning="Response.Dialog.TwoStepDisableWarningEmail":a.mediaType===o.default.mediaTypes.Authenticator&&(t.disableWarning="Response.Dialog.TwoStepDisableWarningAuthenticator")),t.layout={password:"",errorMessage:"",disableTwoStepWarningMessage:t.disableWarning,debounce:!1},t.canSubmit=function(){return t.layout.password&&!t.layout.errorMessage&&!t.layout.debounce},t.clearErrorMessage=function(){t.layout.errorMessage=""},t.dismiss=function(){n.dismiss()},t.submit=function(e){t.layout.debounce||e.$valid&&(e.$setPristine(),t.clearErrorMessage(),t.layout.debounce=!0,i.disableTwoStepVerification(a.mediaType,t.layout.password).then(function(){n.close(!0)}).catch(function(e){t.layout.errorMessage=e.message,t.layout.debounce=!1}))}}i.$inject=["$scope","$uibModalInstance","modalData","twoStepVerificationService"],a.Z.controller("accountSettingsModalTwoStepController",i),t.default=i},1802:function(e,t,n){"use strict";n.r(t);var a=n(5734),s=n.n(a),n=n(4395);function i(n,e,t,a,i,o){s().extend(n,a),n.user={},n.usernameUpdateSuccess=!1,n.doesPasswordExist=a.doesPasswordExist,n.isFreeUsernameChangeAllowed=a.isFreeUsernameChangeAllowed,n.usernameErrorMessage=function(e){return e.$pristine&&n.error?n.error:null},n.getChangePriceText=function(){return n.isFreeUsernameChangeAllowed?o.get("Description.Dialog.ChangeUsernameForFree"):o.get("Description.Dialog.ChangeUsernamePageText",{robuxIcon:"<span class=icon-robux-16x16></span>",price:"1000"})},n.changeUsernameV2=function(){t.beginAccountChangeUsernameV2(n.user).then(function(e){n.usernameUpdateSuccess=!0},function(e){var t=i.default.error.body;e&&e.errors&&e.errors[0]&&e.errors[0].message&&(t=e.errors[0].message),n.error=t})},n.submit=function(e){e.$setPristine(),n.error="",n.doesPasswordExist||(n.user.password="placeholder"),n.changeUsernameV2()},n.dismiss=function(){n.usernameUpdateSuccess?e.close(!0):e.dismiss()}}i.$inject=["$scope","$uibModalInstance","accountsService","modalData","modalConstantsService","languageResource"],n.Z.controller("accountSettingsModalUsernameUpdateController",i),t.default=i},9014:function(e,t,n){"use strict";n.r(t);var Y=n(292),X=n(792),a=n(4395),J=n(5944);function Q(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,i=!1,o=void 0;try{for(var s,r=e[Symbol.iterator]();!(a=(s=r.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(i)throw o}}return n}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function te(e,t,n,a,i,o,s){try{var r=e[o](s),c=r.value}catch(e){return void n(e)}r.done?t(c):Promise.resolve(c).then(a,i)}function s(c,i,o,n,r,a,t,e,s,l,d,u,g,p,f,m,b,v,h,y,S,C,P){var w,E,T,D="Custom",A="Default",M="Off",x="AllUsers",I="Friends",k="NoOne",U=!1,R=X.Intl&&new X.Intl,L=v.validation.invalid.socialMedia,V={isAvailable:N,isEnabled:function(e){return!!N()&&(T?w:(E||(t=e,E=!(w=T=!1),X.PushNotificationRegistrar&&X.PushNotificationRegistrar.isPushEnabled(function(e){T=!(E=!1),w=e,a(function(){}),t(!0)})),!1));var t},enable:function(e){N()&&X.PushNotificationRegistrationUI.enable(function(){X.PushNotificationRegistrar.getEventPublisher().Publish(X.PushNotificationEventPublishers.RegistrationEventTypes.settingsPageEnabled),F(),e()})},disable:function(e){N()&&X.PushNotificationRegistrationUI.disable(function(){X.PushNotificationRegistrar.getEventPublisher().Publish(X.PushNotificationEventPublishers.RegistrationEventTypes.settingsPageDisabled),F(),e()})},isToggleable:function(){return!0}};function F(){w=T=!1}function N(){return X.PushNotificationRegistrar&&X.PushNotificationRegistrar.isPushSupported()&&X.PushNotificationRegistrationUI}var O,B,G,H=(G=B=O=T=E=w=!1,{isAvailable:function(){return!0},isToggleable:function(){return X.NotificationSettingsAuthority.canToggleMobilePushNotifications()},enable:function(){e.triggerHandler("Roblox.Settings.PushEnabledOnDevice"),O=!0},disable:function(e){X.NotificationSettingsAuthority.deregisterCurrentDevice(function(){O=G=!1,e(!0)})},isEnabled:function(e){return G?O:(B||(t=e,B=!(O=G=!1),X.NotificationSettingsAuthority.isPushEnabled(function(e){G=!(B=!1),O=e,a(function(){}),t(!0)})),!1);var t}});var q,j=100,W=g.notificationSourceTypeMapping,z=g.receiverDestinationTypeMapping;function Z(){var e;c.accountContent.userInfo.data&&((e=c.accountContent.userInfo.data).isPremiumUser=c.accountContent.subscriptionInfo,e.isPremiumUser&&(e.subscriptionTypeName=C.getMembershipMapping(c.accountContent.subscriptionInfo.subscriptionTypeName),e.subscriptionRenewal=c.accountContent.subscriptionInfo.renewal?h.intl.d(new Date(c.accountContent.subscriptionInfo.renewal),"short"):null,e.subscriptionExpiration=h.intl.d(new Date(c.accountContent.subscriptionInfo.expiration),"short")))}function _(e,t){return u.open({titleText:e,bodyText:t})}function K(e){r.sendButtonClickEvent(e)}z.forEach(function(e){"DesktopPush"===e.destinationType&&(e.getUnavailableReason=function(){var e="Google Chrome versions ".concat(c.desktopPushSettings.minimumChromeVersion," and above"),t=c.desktopPushSettings.enabledOnFirefox?", and Firefox versions 46 and above":"";return"Desktop Push is currently only supported on ".concat(e).concat(t,".")},e.areSourcesShown=!0,e.availabilityCheck=V.isAvailable,e.customEnablement=V.enable,e.customDisablement=V.disable,e.customEnabledCheck=V.isEnabled,e.isToggleable=V.isToggleable),"MobilePush"===e.destinationType&&(e.availabilityCheck=H.isAvailable,e.customEnablement=H.enable,e.customDisablement=H.disable,e.customEnabledCheck=H.isEnabled,e.isToggleable=H.isToggleable)}),c.defaultHelpUrl="https://en.help.roblox.com/entries/22631829",c.localizedHelpUrl={zh_cn:"https://en.help.roblox.com/hc/zh-cn/articles/203313120",zh_cjv:"https://en.help.roblox.com/hc/zh-cn/articles/203313120"},c.cancelRenewalUrl=angular.element(document.getElementById("state-properties")).attr("data-cancelrenewalurl"),c.showBlockedUsers=!1,c.populateAccount=r.populateAccount,c.populateAccount.timeMappings=f.generateTimeMappings(),c.populateAccount.dayMappings=f.generateDayMappings(R.getWeekdaysList("long")),c.themeContent={newThemeType:b.defaultThemeType,oldThemeType:b.defaultThemeType,availableThemes:[]},c.accountSettingsMetadata={isMonthlyLimitSettingVisible:!1,isNotificationSettingVisible:!1,maximumMonthlySpendLimitInUSD:1e4,hasError:!0},c.accountPinContent={isEnabled:!1,isUnlocked:!1,unlockedUntil:null,pinLength:4},c.parentContent={accountRestrictions:{isFeatureEnabled:!1}},c.connectedAccounts={isConnectedAccountsBoxShown:!1,providerName:"",userName:""},c.processErrorMessage=function(e){var t=e;return e&&e.errors&&e.errors[0]&&e.errors[0].message&&(t=e.errors[0].message),t},c.gigyaUserInfo=function(){gigya.socialize.getUserInfo({callback:function(e){var t=e&&e.user?e.user.nickname:"";a(function(){c.connectedAccounts.providers.forEach(function(e){e.provider.toLowerCase()===b.socialAuth.providers.facebook&&(e.identifier=t)})})}})},c.xbox={isDisconnectXboxEnabled:!1,isDisconnectXboxBoxShown:!1},c.accountContent={userInfo:{},hasEmailButNotVerified:!1,hasVerfiedEmail:!1,emailStatus:b.emailStatus.none,email:""},c.pinFields={pinOne:"",pinTwo:"",pinThree:"",pinFour:""},c.passwordInfo={newPassword:"",currentPassword:""},c.notificationSettings={notificationBandSettings:[],optedOutNotificationSourceTypes:[],optedOutReceiverDestinationTypes:[],updatedDestinationTypeOptOuts:{}},c.notificationSourceTypeMapping={},c.receiverDestinationTypeMapping=[],c.contactSettings={},c.ageRestrictedSettings={},c.visibilitySettings={},c.joinSettings={},c.parentalSettings={screentime:{parentalRestrictedHours:null,curfewRestrictedHours:null,koreanIdVerified:!1}},c.accountRestrictions={},c.socialNetworks={},c.tradeSettings={},c.inventorySettings={},c.accountInfoSettings={},c.accountSettingsPolicy=b.accountSettingsPolicyLeastPrivileged,c.personal={description:"",birthdate:{},gender:{},country:{},birthdateVerified:!1,showIdentityVerification:!1},c.isV2Enabled={socialNetworks:!1},c.allActiveCountryList={},c.accountInformationMetadata={isAllowedNotificationsEndpointDisabled:!1,isAccountSettingsPolicyEnabled:!1,isPhoneNumberEnabled:!1,isIDVerificationEnabled:!1},c.addOrChangePhone=function(){var e;c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.addOrChangePhone,j):(c.phoneModalData=angular.extend(c.phoneModalData,{codeLength:c.accountInfoSettings.verificationCodeLength}),e={templateUrl:b.templates.modal.phoneSet,controller:b.controllers.modal.phoneSet,scope:c},d.open(e).result.then(function(e){X.BootstrapWidgets.ToggleSystemMessage($(".alert-success"),100,3e3,e.message),c.getPhoneNumber()}))},c.showSuccess=function(){var e=h.get("Description.SuccessDialogMessage");y.success(e,100,1e3)},c.setAccountInfo=function(e){var t;c.accountContent.userInfo={data:e,hasError:!1},Z(),c.accountContent.hasVerifiedEmail=c.accountContent.userInfo.data.IsEmailOnFile&&c.accountContent.userInfo.data.IsEmailVerified,c.accountContent.hasEmailButNotVerified=c.accountContent.userInfo.data.IsEmailOnFile&&!c.accountContent.userInfo.data.IsEmailVerified,c.accountContent.emailStatus=c.getEmailStatus(),c.accountContent.email=c.accountContent.userInfo.data.UserEmail,c.setXboxConnectionUrls(c.accountContent.userInfo.data.AuthDomain),c.setNotificationSettingsUrls(c.accountContent.userInfo.data.NotificationSettingsDomain),angular.forEach(c.accountContent.userInfo.data.AllowedNotificationSourceTypes,function(e){c.notificationSourceTypeMapping[e]=W[e]}),c.receiverDestinationTypeMapping=z.filter(function(e){if(-1!==c.accountContent.userInfo.data.AllowedReceiverDestinationTypes.indexOf(e.destinationType)){e=b.accountSettingsPolicyNotificationDestinations[e.destinationType];if(e)return c.accountSettingsPolicy[e]}return!1}),c.desktopPushSettings={minimumChromeVersion:e.MinimumChromeVersionForPushNotifications,enabledOnFirefox:e.PushNotificationsEnabledOnFirefox},c.percentTranslator=function(e){return null==e?"-":h.intl.n(e,"percent")},c.dateMonthTranslator=function(e){return h.intl.d(new Date(e),{month:"long"})},c.dateYearTranslator=function(e){return h.intl.d(new Date(e),{year:"numeric"})},c.getNotificationSettings(),c.setAccountSettingsApiUrl(c.accountContent.userInfo.data.AccountSettingsApiDomain),c.setAuthDomainUrl(c.accountContent.userInfo.data.AuthDomain),c.accountContent.userInfo.data.IsAccountPinEnabled&&c.getAccountPinSetting(),c.setUpSocialDisconnect(),c.getXboxConnection(),c.getAccountRestrictions(),c.getCurrentTheme(),c.getAvailableThemes(),c.getAccountSettingsMetadata(),c.prepForV2(e),U||(U=!0,(t=s.search()).changepassword?c.setPassword():t.confirmemail&&(e=modalConstants.emailVerify[t.confirmemail+modalConstants.emailVerify.messageSuffix]||modalConstants.emailVerify.unspecifiedMessage,t=modalConstants.emailVerify[t.confirmemail+modalConstants.emailVerify.actionSuffix]||"",c.confirmEmail(e,t)))},c.getAccountInfo=function(){r.beginGetAccountInfo().then(function(e){c.setAccountInfo(e)},function(e){c.accountContent.userInfo={data:e,hasError:!0}})},c.getAccountSubscription=function(){C.getUserStatus().then(function(e){c.accountContent.subscriptionInfo=e?e.subscriptionProductModel:null,Z()})},c.handleCancelBtnClicked=function(){var e=c.accountContent.userInfo.data.PremiumFeatureId;X.FormEvents&&e&&X.FormEvents.SendInteractionClick("cancelRenewal",{pid:e})},c.isAnyMembership=function(){return!!(c.accountContent&&c.accountContent.userInfo&&c.accountContent.userInfo.data)&&c.accountContent.userInfo.data.isPremiumUser},c.isMembershipRenewal=function(){return!!(c.accountContent&&c.accountContent.userInfo&&c.accountContent.userInfo.data)&&c.accountContent.userInfo.data.subscriptionRenewal},c.prepForV2=function(e){c.isV2Enabled.socialNetworks=e.IsAccountSettingsSocialNetworksV2Enabled,c.accountContent.isPhoneFeatureEnabled=e.IsPhoneFeatureEnabled,c.getAccountInfoSettings(),c.getPersonalSettings(),c.getJoinSettings(),c.getTradeSettings(),c.getInventorySettings(),c.getAgeRestrictedSettings(),c.getVisibilitySettings(),c.getContactSettings(),c.getParentalSettings(),c.getScreentimePolicy(),c.getScreentimeRestrictions(),c.getSocialNetworks()},c.getAccountInfoSettings=function(){c.getPhoneNumber()},c.getPhoneNumber=function(){r.beginGetPhone().then(function(e){c.accountContent.userInfo.data.UserAbove13&&(c.accountInfoSettings.isPhoneNumberVisible=!0,c.accountInfoSettings.countryCode=e.countryCode,c.accountInfoSettings.prefix=e.prefix,c.accountInfoSettings.phone=e.phone,c.accountInfoSettings.isPhoneVerified=e.isVerified,c.accountInfoSettings.verificationCodeLength=e.verificationCodeLength)},function(e){o.debug("Error getting phone")})},c.getBirthdate=function(){r.beginGetBirthdate().then(function(e){var t=c.personal.birthdate;t.birthDay=e.birthDay,t.birthMonth=e.birthMonth,t.birthYear=e.birthYear,c.personal.birthdate.fullBirthdate=function(){return new Date(t.birthYear,t.birthMonth-1,t.birthDay)},c.populateDays(),c.populateMonths(),c.populateYears(),t.originalBirthdate=t.fullBirthdate()},function(e){o.debug("Error getting personal birthdate")})},c.getPersonalSettings=function(){c.isDateTimeI18nPickerEnabled()&&(c.populateAccount.orderedBirthdayParts={parts:b.defaultDateParts,typeOrder:(new X.Intl).getDateTimeFormatter().getOrderedDateParts()}),r.beginGetDescription().then(function(e){c.personal.description=e.description},function(e){o.debug("Error getting personal description")}),c.getBirthdate(),r.beginGetCountry().then(function(e){var t;e.success?(t=0,e.countryId&&(t=e.countryId),c.personal.country.countryId=t):o.debug("Failed to get personal country. Message : ".concat(e.errorMessage))},function(e){o.debug("Error getting personal country")}),r.beginGetGender().then(function(e){c.personal.gender=e.gender.toString()},function(e){o.debug("Error getting personal gender")}),c.accountSettingsPolicy.displayIdentityVerification&&c.accountInformationMetadata.isIDVerificationEnabled&&null!==X.IdentityVerificationService&&void 0!==X.IdentityVerificationService&&X.IdentityVerificationService.getVerifiedAge().then(function(e){c.personal.birthdateVerified=e.isVerified,c.personal.showIdentityVerification=!0,c.$apply()},function(e){o.debug("Error getting birthdate verification status")})},c.verifyAge=function(){X.IdentityVerificationService.sendIdVerificationEvent(J.events.verifyAgeButtonClicked,{origin:J.accountSettingsOrigin}),X.IdentityVerificationService.getVerifiedAge().then(function(){var r,t=(r=regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isVerified){e.next=8;break}return e.next=3,X.IdentityVerificationService.startVerificationFlow();case 3:n=e.sent,n=ee(n,2),n[0],n[1]&&(c.personal.birthdateVerified=!0,c.personal.showIdentityVerification=!0,c.getBirthdate(),c.$apply());case 8:case"end":return e.stop()}},e)}),function(){var e=this,s=arguments;return new Promise(function(t,n){var a=r.apply(e,s);function i(e){te(a,t,n,i,o,"next",e)}function o(e){te(a,t,n,i,o,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}(),function(e){_(p.default.error.title,p.default.error.body),o.debug("Error checking identity verification status")})},c.updateDescription=function(){c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.updateDescription,j):r.beginUpdateDescription(c.personal.description).then(function(e){_(p.default.success.title,p.default.success.body)},function(e){_(p.default.error.title,p.default.error.body),o.debug("Error updating personal description")})},c.updateBirthdate=function(){function a(){c.personal.birthdate.birthMonth=c.personal.birthdate.originalBirthdate.getMonth()+1,c.personal.birthdate.birthDay=c.personal.birthdate.originalBirthdate.getDate(),c.personal.birthdate.birthYear=c.personal.birthdate.originalBirthdate.getFullYear(),c.populateDays()}var n,t,e=function(e,t,n){var a=n,i=t-1,o=new Date(e,i,n,0,0,0,0);if(o.getMonth()>i)for(;o.getMonth()!==i;)a--,o=new Date(e,i,a,0,0,0,0);return o}(c.personal.birthdate.birthYear,c.personal.birthdate.birthMonth,c.personal.birthdate.birthDay);c.personal.birthdate.birthMonth=e.getMonth()+1,c.personal.birthdate.birthDay=e.getDate(),c.personal.birthdate.birthYear=e.getFullYear(),c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.updateBirthdate,j,a):(n=function(n,e){e=r.beginUpdateBirthdate(c.personal.birthdate,e).then(function(e){n&&i.location.reload();var t=c.personal.birthdate;t.fullBirthdate=function(){return new Date(t.birthYear,t.birthMonth-1,t.birthDay)},t.originalBirthdate=t.fullBirthdate(),c.populateDays(),c.personal.birthdateVerified=!1});return c.accountInformationMetadata.isPasswordRequiredForAgingDown&&n||e.catch(function(e){_(p.default.error.title,p.default.error.body),a(),o.debug("Error updating personal birthdate")}),e},c.personal.birthdate.fullBirthdate().setHours(0,0,0,0)>=(new Date).setHours(0,0,0,0)&&(a(),_(p.default.error.title,h.get("Response.InvalidBirthday"))),t=function(){var t=c.personal.birthdate.originalBirthdate&&13<=c.calculateAge(c.personal.birthdate.originalBirthdate)&&c.calculateAge(c.personal.birthdate.fullBirthdate())<13;t?c.accountContent.userInfo.data.IsAgeDownEnabled?r.beginGetSocialConnected().then(function(e){e=e&&e.providers&&e.providers[0]&&e.providers[0].provider.toLowerCase()===b.socialAuth.providers.facebook?c.accountContent.userInfo.data.IsSetPasswordNotificationEnabled?u.open({titleText:p.birthdayChange.needPassword.title,bodyText:p.birthdayChange.needPassword.body}):u.open({titleText:p.birthdayChange.default.title,bodyText:p.birthdayChange.withSocialSignOn.body,actionButtonShow:!0,actionButtonText:p.birthdayChange.withSocialSignOn.positiveBtnText,neutralButtonText:p.birthdayChange.withSocialSignOn.negativeBtnText}):c.accountInformationMetadata.isPasswordRequiredForAgingDown?d.open({templateUrl:b.templates.modal.changeBirthdate,controller:b.controllers.modal.changeBirthdate,resolve:{modalData:{updateBirthdate:function(e){return n(t,e)},getBirthdateErrorMessageFromCode:r.getBirthdateErrorMessageFromCode}}}):u.open({titleText:p.birthdayChange.default.title,bodyText:p.birthdayChange.default.body,actionButtonShow:!0,actionButtonText:p.default.positiveBtnText,neutralButtonText:p.default.negativeBtnText});return e.result}).then(function(){c.accountInformationMetadata.isPasswordRequiredForAgingDown||n(t)}).catch(a):(a(),_(p.default.error.title,h.get("ResponseAgeDownError"))):n(t)},c.personal.showIdentityVerification&&c.personal.birthdateVerified&&null!==X.IdentityVerificationService&&void 0!==X.IdentityVerificationService&&X.IdentityVerificationService.showBirthdayChangeWarning?X.IdentityVerificationService.showBirthdayChangeWarning().then(function(e){(e?t:a)(),c.$apply()}):t())},c.updateGender=function(){c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.updateGender,j):r.beginUpdateGender(c.personal.gender).then(function(e){c.showSuccess()},function(e){o.debug("Error updating gender")})},c.updateCountry=function(){c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.updateCountry,j):c.personal.country.countryId<=0||r.beginUpdateCountry(c.personal).then(function(e){e.success||o.debug("Failed to update country. Message: ".concat(e.errorMessage))},function(e){o.debug("Error updating country")})},c.getCurrentTheme=function(){r.beginGetConsumerThemes().then(function(e){e=e.themeType;e===b.themeTypes.classic&&(e=c.accountData.stateProperties.defaultThemeType),c.themeContent.newThemeType=e,c.themeContent.oldThemeType=e},function(){u.open({titleText:p.default.error.title,bodyText:p.default.error.body})})},c.getAvailableThemes=function(){r.beginGetAvailableThemeTypes().then(function(t){var e=c.populateAccount.themes,n=[];e.forEach(function(e){-1!==t.data.indexOf(e.value)&&n.push(e)}),c.themeContent.availableThemes=n},function(){u.open({titleText:p.default.error.title,bodyText:p.default.error.body})})},c.getAgeRestrictedSettings=function(){r.beginGetAgeRestrictedSettings().then(function(e){c.ageRestrictedSettings.isVoiceChatEnabled=e.isVoiceChatEnabled,c.ageRestrictedSettings.isVerifiedForVoice=e.isVerifiedForVoice,c.ageRestrictedSettings.isVoiceChatUserOptIn=e.isVoiceChatUserOptIn,c.ageRestrictedSettings.isOptInDisabled=e.isOptInDisabled},function(e){o.debug("Error getting age restricted settings")})},c.toggleVoiceChatEnabledSetting=function(){c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.toggleVoiceChatEnabledSetting,j):c.ageRestrictedSettings.isOptInDisabled&&!c.ageRestrictedSettings.isVoiceChatUserOptIn||r.toggleVoiceChatEnabledSetting(!c.ageRestrictedSettings.isVoiceChatUserOptIn).then(function(e){c.ageRestrictedSettings.isVoiceChatUserOptIn=e.isUserOptIn,c.getAgeRestrictedSettings()},function(e){o.debug("Error updating user voice chat opt in setting")})},c.getVisibilitySettings=function(){r.beginGetVisibilityPrivacy().then(function(e){c.visibilitySettings.isInvisible=e.isInvisible},function(){o.debug("Error getting user visibility setting")})},c.toggleVisibilityPrivacy=function(){c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.toggleVisibilityPrivacy,j):r.toggleVisibilityPrivacy(!c.visibilitySettings.isInvisible).then(function(e){c.visibilitySettings.isInvisible=e},function(){o.debug("Error updating user visibility setting")})},c.getContactSettings=function(){r.beginGetContactSettings().then(function(e){c.contactSettings.AppChatPrivacy=e.appChatPrivacy,c.contactSettings.GameChatPrivacy=e.gameChatPrivacy,c.contactSettings.PrivateMessagePrivacy=e.privateMessagePrivacy,c.setContactSettingsMasterSetting()},function(e){o.debug("Error getting contact settings")})},c.getParentalSettings=function(){r.beginGetContentRatings().then(function(e){c.parentalSettings.ContentRatings=e.contentRestrictionLevel},function(e){o.debug("Error getting parental settings")}),r.beginGetParentalSpendControls().then(function(e){e?(c.parentalSettings.MonthlySpendLimitInUSD=e.monthlySpendLimitInUSD,null==c.parentalSettings.MonthlySpendLimitInUSD||void 0===c.parentalSettings.MonthlySpendLimitInUSD?c.parentalSettings.MonthlyLimitEnabled=!1:c.parentalSettings.MonthlyLimitEnabled=!0,c.parentalSettings.SpendNotificationSetting=e.spendNotificationSetting,c.parentalSettings.SpendNotificationSetting===b.spendNotificationSettingTypes.notificationsOff?c.parentalSettings.NotificationSettingEnabled=!1:c.parentalSettings.NotificationSettingEnabled=!0):(c.parentalSettings.MonthlySpendLimitInUSD=null,c.parentalSettings.MonthlyLimitEnabled=!1,c.parentalSettings.SpendNotificationSetting=b.spendNotificationSettingTypes.defaultNotifications,c.parentalSettings.NotificationSettingEnabled=!0),c.parentalSettings.currentMonthlyLimit=c.parentalSettings.MonthlySpendLimitInUSD},function(e){o.debug("Error getting parental settings")})},c.getScreentimeRestrictions=function(){c.parentalSettings.screentime.deviceTimezone=R.getDateTimeFormatter().getTimeZone();var a=c.parentalSettings.screentime;r.beginGetScreentimeRestrictions().then(function(e){a.curfewRestrictedHours=e.curfewRestrictedHours||[],a.parentalTimezone=e.parentalTimezone||a.deviceTimezone,a.parentalRestrictedHours=e.parentalRestrictedHours||[];var t=c.populateAccount.timeMappings,n=f.generateRestrictionBeginTimes,e=f.generateRestrictionEndTimes;a.curfewRestrictedHours?(c.populateAccount.restrictionBeginTimes=n(t,a.curfewRestrictedHours),c.populateAccount.restrictionEndTimes=e(t,a.curfewRestrictedHours)):(c.populateAccount.restrictionBeginTimes=n(t),c.populateAccount.restrictionEndTimes=e(t)),c.populateDaysOfWeek(),c.getKoreaIdVerificationResult()},function(e){o.debug("Error getting screentime restrictions from restricted hours service: ".concat(e)),a.parentalTimezone=a.deviceTimezone})},c.getKoreaIdVerificationResult=function(){var e=f.localStorageConstants,t=e.MDL_TOKEN,n=e.METHOD,a=e.PARENTAL_RESTRICTED_HOURS,i=e.PARENTAL_TIME_ZONE,o=e.UPDATED_TIME_ZONE,t=Y.localStorageService.getLocalStorage(t);t&&(n=Y.localStorageService.getLocalStorage(n),m.beginGetKoreaIdVerificationResult(t,n).then(function(e){18<=e.data.information.age?((e=c.parentalSettings.screentime).koreanIdVerified=!0,e.parentalTimezone=Y.localStorageService.getLocalStorage(i),e.parentalRestrictedHours=JSON.parse(Y.localStorageService.getLocalStorage(a)),e=JSON.parse(Y.localStorageService.getLocalStorage(o)),c.saveRestrictionsHandler(e)):_(p.default.error.title,p.screentime.saveRestrictions.error.under18IDVerified),f.localStorageCleanUp()},function(e){console.debug("Error getting korea id verification result from identity verification service",angular.toJson(e)),_(p.default.error.title,p.default.error.body)}))},c.getScreentimePolicy=function(){r.beginGetScreentimeAuthorizationPolicy().then(function(e){c.parentalSettings.screentime.isKoreaScreentimeEnabled="Korea"==e.screentimeType},function(e){o.debug("Error getting screentime authorization policy from Universal App Configuration (GUAC): ".concat(angular.toJson(e)))}),r.beginGetScreentimeRolloutPolicy().then(function(e){c.parentalSettings.screentime.enableParentalScreenTimeControls=e.enableParentalScreenTimeControls},function(e){o.debug("Error getting screentime rollout policy from Universal App Configuration (GUAC): ".concat(angular.toJson(e)))})},c.populateDaysOfWeek=function(){c.populateAccount.dayMappings.forEach(function(e,t){return c.populateAccount.daysOfWeek.push({name:e,value:t})})},c.deleteRestriction=function(e){e=c.parentalSettings.screentime.parentalRestrictedHours.indexOf(e);c.parentalSettings.screentime.parentalRestrictedHours.splice(e,1)},c.updateRestrictionBeginTime=function(e,t){e.begin=t;var n=f.dateTimes,a=(0,f.generateTimestamp)(new Date(n.arbitraryDate+t).getTime()+n.oneHourInMs),a=t==n.elevenPmTimestamp||t==n.elevenThirtyPmTimestamp?n.twentyFourHourTimestamp:a;c.updateRestrictionEndTime(e,a)},c.updateRestrictionEndTime=function(e,t){e.end=t},c.toggleRestrictionDay=function(e,t){var n=e.days.indexOf(t);-1!=n?e.days.splice(n,1):(e.days.push(t),e.days.sort())},c.dayString=function(n){var e=f.dropdownText,t=e.everyday,a=e.every;switch(n.length){case 0:return"";case 7:return t;default:var i=a;return n.forEach(function(e,t){i+=c.populateAccount.dayMappings.get(e),t!=n.length-1&&(i+=", ")}),i}},c.addRestriction=function(){var e=c.parentalSettings.screentime.parentalRestrictedHours;e?e.push({begin:f.defaultRestriction.begin,end:f.defaultRestriction.end,days:Q(f.defaultRestriction.days)}):_(p.default.error.title,p.default.error.body)},c.launchKoreanIdVerificationModal=function(e){var t=c.parentalSettings.screentime,n=t.parentalRestrictedHours,t=t.parentalTimezone;d.open({templateUrl:b.templates.modal.koreanIDVerification,controller:b.controllers.modal.koreanIDVerification,resolve:{modalData:{parentalRestrictedHours:n,parentalTimezone:t,updatedTimezone:e}}})},c.updateTimezoneAndSaveRestrictions=function(){c.saveRestrictionsHandler(!0)},c.saveRestrictionsHandler=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(function(){var e=c.parentalSettings.screentime.parentalRestrictedHours;{if(e){for(var t=0;t<e.length;t++){var n=e[t];if(0==n.days.length)return _(p.default.error.title,p.screentime.saveRestrictions.error.missingDaySelection),!1;if(n.begin>=n.end)return _(p.default.error.title,p.screentime.saveRestrictions.error.blockedTimesWrongOrder),!1;var a=f.dateTimes,i=a.arbitraryDate,a=a.twentyThreeHoursInMs,n=new Date(i+n.end)-new Date(i+n.begin);if(a<n)return _(p.default.error.title,p.screentime.saveRestrictions.error.atLeastOneHourAllowed),!1}return!0}return _(p.default.error.title,p.default.error.body),!1}}()){var n,e=c.parentalSettings.screentime,a=e.isKoreaScreentimeEnabled,i=e.deviceTimezone,o=e.koreanIdVerified,s=e.parentalTimezone;if(t&&(c.parentalSettings.screentime.parentalTimezone=i),c.pinIsEnabledAndLocked())return c.parentalSettings.screentime.parentalTimezone=s,void(t?c.unlockAccountPinSetting(c.updateTimezoneAndSaveRestrictions,j):c.unlockAccountPinSetting(c.saveRestrictionsHandler,j));if(a&&!o)return c.parentalSettings.screentime.parentalTimezone=s,void c.launchKoreanIdVerificationModal(t);n=new Set,c.parentalSettings.screentime.parentalRestrictedHours.forEach(function(e){e.days.sort(),n.add(angular.toJson(e))}),c.parentalSettings.screentime.parentalRestrictedHours=Array.from(n).map(function(e){return JSON.parse(e)});a=c.parentalSettings.screentime,o=a.parentalRestrictedHours,a=a.parentalTimezone;r.beginSaveRestrictedHours(a,o).then(function(e){_(p.default.success.title,p.default.success.body),t&&_(p.default.success.title,p.screentime.updatedTimezone.success.body)},function(e){_(p.default.error.title,p.default.error.body),t&&(c.parentalSettings.screentime.parentalTimezone=s,_(p.default.error.title,p.screentime.updatedTimezone.error.body))})}},c.onContactSettingsMasterSettingChange=function(){if(c.pinIsEnabledAndLocked())c.unlockAccountPinSetting(c.onContactSettingsMasterSettingChange,j);else{var e=c.contactSettings.MasterSetting;if(e===A?(c.contactSettings.PrivateMessagePrivacy=I,c.contactSettings.AppChatPrivacy=I,c.contactSettings.GameChatPrivacy=x):e===M&&(c.contactSettings.PrivateMessagePrivacy=k,c.contactSettings.AppChatPrivacy=k,c.contactSettings.GameChatPrivacy=k),e!==D){var t=r.beginUpdateAppChatPrivacy(c.contactSettings);t.then(function(e){},function(e){o.debug("Error updating app chat privacy")});var n=r.beginUpdateGameChatPrivacy(c.contactSettings);n.then(function(e){},function(e){o.debug("Error updating game chat privacy")});e=r.beginUpdatePrivateMessagePrivacy(c.contactSettings);e.then(function(e){},function(e){o.debug("Error updating private message privacy")});e=S.all([t,n,e]);return e.then(function(){c.showSuccess()},function(){o.debug("Error switching master contact setting");var e=h.get("MessageUnknownError");y.warning(e,100,5e3)}),e}}},c.updateAppChatPrivacy=function(){c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.updateAppChatPrivacy,j):(c.contactSettings.MasterSetting=D,r.beginUpdateAppChatPrivacy(c.contactSettings).then(function(e){c.showSuccess()},function(e){o.debug("Error updating app chat privacy")}))},c.updateGameChatPrivacy=function(){c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.updateGameChatPrivacy,j):(c.contactSettings.MasterSetting=D,r.beginUpdateGameChatPrivacy(c.contactSettings).then(function(e){c.showSuccess()},function(e){o.debug("Error updating game chat privacy")}))},c.updatePrivateMessagePrivacy=function(){c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.updatePrivateMessagePrivacy,j):(c.contactSettings.MasterSetting=D,r.beginUpdatePrivateMessagePrivacy(c.contactSettings).then(function(e){c.showSuccess()},function(e){o.debug("Error updating private message privacy")}))},c.getJoinSettings=function(){r.beginGetPrivateServerInvitePrivacy().then(function(e){c.joinSettings.privateServerInvitePrivacy=e.PrivateServerInvitePrivacy},function(e){o.debug("Error getting private server invite privacy")}),r.beginGetFollowMePrivacy().then(function(e){c.joinSettings.followMePrivacy=e.FollowMePrivacy},function(e){o.debug("Error getting follow me privacy")})},c.updatePrivateServerInvitePrivacy=function(){c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.updatePrivateServerInvitePrivacy,j):r.beginUpdatePrivateServerInvitePrivacy(c.joinSettings).then(function(e){c.showSuccess()},function(e){o.debug("Error updating private server invite privacy")})},c.updateFollowMePrivacy=function(){c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.updateFollowMePrivacy,j):r.beginUpdateFollowMePrivacy(c.joinSettings).then(function(e){c.showSuccess()},function(e){o.debug("Error updating follow me privacy")})},c.getTradeSettings=function(){r.beginGetTradePrivacy().then(function(e){c.tradeSettings.tradePrivacy=e.tradePrivacy},function(e){o.debug("Error getting trade privacy")}),r.beginGetTradeValue().then(function(e){c.tradeSettings.tradeValue=e.tradeValue},function(e){o.debug("Error getting trade value")})},c.updateTradePrivacy=function(){c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.updateTradePrivacy,j):r.beginUpdateTradePrivacy(c.tradeSettings).then(function(e){"Conflict"===e.privacySettingResponse?(c.inventorySettings.inventoryPrivacy=e.inventoryPrivacy,e=r.getUpdateInventoryPrivacyMessageWhenConflict(),y.success(e,300,5e3)):c.showSuccess()},function(e){o.debug("Error updating trade privacy")})},c.updateTradeValue=function(){c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.updateTradeValue,j):r.beginUpdateTradeValue(c.tradeSettings).then(function(e){c.showSuccess()},function(e){o.debug("Error updating trade value")})},c.updateContentRatings=function(){c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.updateContentRatings,j):r.beginUpdateContentRatings(c.parentalSettings).then(function(e){c.showSuccess()},function(e){o.debug("Error updating content ratings")})},c.updateParentalSpendControls=function(){c.accountPinSetupAndEnable()&&(c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.updateParentalSpendControls,j):(c.parentalSettings.currentMonthlyLimit=c.parentalSettings.MonthlySpendLimitInUSD,r.beginUpdateParentalSpendControls(c.parentalSettings).then(function(e){c.showSuccess()},function(e){o.debug("Error updating notification settings")})))},c.updateNotificationFrequency=function(){c.accountPinSetupAndEnable()&&(c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.updateNotificationFrequency,j):r.beginUpdateNotificationFrequency(c.parentalSettings).then(function(e){c.showSuccess()},function(e){o.debug("Error updating notification settings")}))},c.isContentRatingsSettingVisible=function(){return c.accountContent.userInfo.data&&c.accountContent.userInfo.data.IsContentRatingsSettingEnabled},c.isMonthlyLimitBelowZero=function(){return c.parentalSettings.MonthlySpendLimitInUSD<0},c.isMonthlyLimitAboveMax=function(){return c.parentalSettings.MonthlySpendLimitInUSD>c.accountSettingsMetadata.maximumMonthlySpendLimitInUSD},c.isSaveButtonVisible=function(){return!c.isMonthlyLimitAboveMax()&&!c.isMonthlyLimitBelowZero()},c.setAccountSettingsMetadata=function(e){c.accountSettingsMetadata={isMonthlyLimitSettingVisible:e.IsParentalMonthlyLimitInUIEnabled,isNotificationSettingVisible:e.IsParentalNotificationSettingsInUIEnabled,maximumMonthlySpendLimitInUSD:e.MaximumParentalControlsMonthlySpendLimitInUSD||1e4,hasError:!1}},c.getAccountSettingsMetadata=function(){r.beginGetAccountSettingsMetadata().then(function(e){c.setAccountSettingsMetadata(e)},function(e){o.debug("Error getting AccountSettingsMetadata")})},c.getSocialNetworks=function(){r.beginGetPromotionChannels().then(function(e){c.socialNetworks.SocialNetworksVisibilityPrivacy=e.promotionChannelsVisibilityPrivacy,c.socialNetworks.FacebookUrl=e.facebook,c.socialNetworks.TwitterUrl=e.twitter,c.socialNetworks.YouTubeUrl=e.youtube,c.socialNetworks.TwitchUrl=e.twitch},function(e){o.debug("Error getting social networks")})},c.getInventorySettings=function(){r.beginGetInventoryPrivacy().then(function(e){c.inventorySettings.inventoryPrivacy=e.inventoryPrivacy},function(e){o.debug("Error getting inventory privacy")})},c.updateInventoryPrivacy=function(){c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.updateInventoryPrivacy,j):r.beginUpdateInventoryPrivacy(c.inventorySettings).then(function(e){"Conflict"===e.privacySettingResponse?(c.tradeSettings.tradePrivacy=e.tradePrivacy,e=r.getUpdateTradePrivacyMessageWhenConflict(),y.success(e,300,5e3)):c.showSuccess()},function(e){o.debug("Error updating inventory privacy")})},c.updateSocialNetworks=function(){c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.updateSocialNetworks,j):r.beginUpdatePromotionChannels(c.socialNetworks).then(function(){_(p.default.success.title,p.default.success.body)},function(e){var t=e||L;e&&e.errors&&e.errors[0]&&e.errors[0].message&&(e=e.errors[0].code,t=(e=b.socialErrorCode[e])?h.get(e):h.get("MessageUnknownError")),_(p.default.error.title,t)})},c.convertDate=function(e){e=parseInt(e.replace(/(^.*\()|([+-].*$)/g,"")),e=new Date(e),e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());return n("datetime")(e)},c.currentDate=new Date,c.calculateAge=function(e){e=Date.now()-e.getTime(),e=new Date(e);return Math.abs(e.getUTCFullYear()-1970)},c.isAsianBirthdayPickerEnabled=function(){return R&&R.isAsianLanguage()},c.isDateTimeI18nPickerEnabled=function(){return c.accountContent.userInfo.data&&c.accountContent.userInfo.data.IsDateTimeI18nPickerEnabled},c.populateYears=function(){for(var e=parseInt(n("date")(new Date,"yyyy")),t=0;t<100;t++)c.populateAccount.years[t]={name:c.isAsianBirthdayPickerEnabled()?R.getFormattedDateString(e-t,h.get("Label.Year")):e-t,value:e-t};c.isDateTimeI18nPickerEnabled()&&c.setOrderedBirthdayPart("year",c.populateAccount.years)},c.populateDays=function(){var e=c.personal.birthdate.birthYear,t=c.personal.birthdate.birthMonth-1,n=new Date(e,1+t,0);c.personal.birthdate.birthDay>n.getDate()&&(c.personal.birthdate.birthDay=n.getDate()),c.populateAccount.days=[];for(var a=0;a<n.getDate();a++)c.populateAccount.days[a]={name:c.isAsianBirthdayPickerEnabled()?R.getFormattedDateString(a+1,h.get("Label.Day")):a+1,value:a+1};c.isDateTimeI18nPickerEnabled()&&c.setOrderedBirthdayPart("day",c.populateAccount.days)},c.populateMonths=function(){var e;c.isDateTimeI18nPickerEnabled()&&(e=(e=X.Intl&&new X.Intl)?e.getMonthsI18n("short",h.get("Label.Month")):h.intl.getMonthsList(),c.setOrderedBirthdayPart("month",e))},c.setOrderedBirthdayPart=function(e,t){var n=c.populateAccount.orderedBirthdayParts.typeOrder[e];c.populateAccount.orderedBirthdayParts.parts[n]={options:t,idName:b.birthdayPicker[e].id,className:b.birthdayPicker[e].class,birthdayName:b.birthdayPicker[e].name}},c.signOutFromSessions=function(){r.beginAccountSignOut().then(function(e){_(p.default.success.title,p.secureSignOut.success.body)},function(e){_(p.default.error.title,p.secureSignOut.error.body)})},c.disconnectFromFb=function(){r.beginUpdateSocialDisconnect(b.socialAuth.providers.facebook).then(function(e){c.refreshPage()},function(e){console.info(e),_(p.default.error.title,c.processErrorMessage(e))})},c.initiateFbDisconnect=function(){c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.initiateFbDisconnect,j):c.accountContent.userInfo.data.IsSetPasswordNotificationEnabled?d.open({templateUrl:b.templates.modal.passwordSet,controller:b.controllers.modal.passwordSet,resolve:{modalData:{facebookDisconnect:!0,changePassword:!c.accountContent.userInfo.data.IsSetPasswordNotificationEnabled,doesPasswordExist:c.accountContent.userInfo.data.HasValidPasswordSet}}}).result.finally(function(){r.beginGetAccountInfo().then(function(e){c.setAccountInfo(e),c.accountContent.userInfo.data.IsSetPasswordNotificationEnabled||c.disconnectFromFb()},function(e){c.accountContent.userInfo={data:e,hasError:!0}})}):c.disconnectFromFb()},c.disconnectFromProvider=function(e){e.toLowerCase()===b.socialAuth.providers.facebook?c.initiateFbDisconnect():d.open({templateUrl:b.templates.modal.socialDisconnect,controller:b.controllers.modal.socialDisconnect,resolve:{modalData:{provider:e}}}).result.then(function(){i.location.reload()},angular.noop)},c.disconnectFromXbox=function(){c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.disconnectFromXbox,j):r.beginDisconnectXbox().then(function(e){e.success?c.refreshPage():_(p.default.success.title,p.disconnectXbox.error.body)})},c.chooseGender=function(e){c.personal.gender=c.personal.gender===e?c.populateAccount.gender.UNKNOWN:e,c.updateGender()},c.privacyModeInfo=function(){var e=c.localizedHelpUrl[R.getRobloxLocale()];e?i.open(e,"_blank"):i.open(c.defaultHelpUrl,"_blank")},c.buyRobux=function(e){i.location.href=e},c.refreshPage=function(){c.getAccountSubscription(),c.getAccountInfo()},c.setPassword=function(){c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.setPassword,j):d.open({templateUrl:b.templates.modal.passwordSet,controller:b.controllers.modal.passwordSet,resolve:{modalData:{facebookDisconnect:!1,changePassword:!c.accountContent.userInfo.data.IsSetPasswordNotificationEnabled,doesPasswordExist:c.accountContent.userInfo.data.HasValidPasswordSet}}}).result.finally(function(){c.refreshPage()})},c.changeUsername=function(){var e;c.accountContent.userInfo.data.IsEmailOnFile||!1!==c.accountContent.userInfo.data.HasFreeNameChange?c.accountContent.userInfo.data.IsEmailVerified||!1!==c.accountContent.userInfo.data.HasFreeNameChange?c.accountContent.userInfo.data.HasCurrencyOperationError&&!1===c.accountContent.userInfo.data.HasFreeNameChange?_("Currency Service Error",c.accountContent.userInfo.data.CurrencyOperationErrorMessage||"There was an error with the currency service. Try again later."):null===c.accountContent.userInfo.data.HasFreeNameChange?_(p.default.error.title,p.default.error.body):0<c.accountContent.userInfo.data.RobuxRemainingForUsernameChange&&!1===c.accountContent.userInfo.data.HasFreeNameChange?(e='<span class="'.concat("icon-robux-16x16",'"></span><span>').concat(c.accountContent.userInfo.data.RobuxRemainingForUsernameChange,"</span>"),u.open({titleText:p.changeUsername.changeUsernameTitle,bodyHtmlUnsafe:p.changeUsername.changeUsernameMessage({robuxToBuy:e}),actionButtonText:p.changeUsername.changeUsernameBuy,actionButtonShow:!0,actionButtonClass:"btn-primary-md",neutralButtonShow:!1,cssClass:"modal-insufficient-funds"}).result.then(function(){c.buyRobux(c.accountData.stateProperties.buyRobuxUrl)})):c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.changeUsername,j):d.open({templateUrl:b.templates.modal.usernameUpdate,controller:b.controllers.modal.usernameUpdate,resolve:{modalData:{userEmail:c.accountContent.userInfo.data.UserEmail,accountPinLength:c.accountPinContent.pinLength,doesPasswordExist:c.accountContent.userInfo.data.HasValidPasswordSet,isFreeUsernameChangeAllowed:c.accountContent.userInfo.data.HasFreeNameChange}}}).result.finally(function(){c.refreshPage()}):c.verifyEmailAddress(!0,p.changeUsername.unverifiedEmail):c.setEmailAddress(p.changeUsername.missingEmail)},c.getEmailStatus=function(){var e;return c.accountContent.hasVerifiedEmail?b.emailStatus.verified:null!==(e=c.accountContent.userInfo.data)&&void 0!==e&&e.IsEmailOnFile?b.emailStatus.unverified:b.emailStatus.none},c.verifyEmailAddress=function(e,t){K(b.events.verifyEmailBtn),d.open({templateUrl:b.templates.modal.emailVerify,controller:b.controllers.modal.emailVerify,resolve:{modalData:{contextForVerification:t,verifiedEmailRequired:e}}})},c.setEmailAddress=function(e){c.accountContent.userInfo.data.IsEmailOnFile?K(b.events.changeEmailBtn):K(b.events.addEmailBtn),c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.setEmailAddress,j):d.open({templateUrl:b.templates.modal.emailSet,controller:b.controllers.modal.emailSet,resolve:{modalData:{isEmailVerified:c.accountContent.userInfo.data.IsEmailVerified,emailRequired:!c.accountContent.userInfo.data.IsEmailOnFile&&e,action:e,changeEmail:c.accountContent.userInfo.data.IsEmailOnFile,over13:c.accountContent.userInfo.data.UserAbove13,doesPasswordExist:c.accountContent.userInfo.data.HasValidPasswordSet}}}).result.finally(function(){c.refreshPage()})},c.confirmEmail=function(e,t){c.accountContent.hasEmailButNotVerified?u.open({titleText:modalConstants.emailVerify.verifiedEmailRequiredTitle,bodyText:e,actionButtonShow:!0,actionButtonText:modalConstants.emailVerify.unverifiedEmailButtonText,neutralButtonShow:!1}).result.then(function(){c.verifyEmailAddress(!1)},function(){}):c.setEmailAddress(t)},c.addPhone=function(){K(b.events.addPhoneBtn),c.phoneModalData={action:p.phoneSet.addActionLabel,isAttemptToChangePhone:!1},c.addOrChangePhone()},c.changePhone=function(){K(b.events.changePhoneBtn),c.phoneModalData={action:p.phoneSet.editActionLabel,isAttemptToChangePhone:!0,countryCode:c.accountInfoSettings.countryCode,prefix:c.accountInfoSettings.prefix,maskedNumber:c.accountInfoSettings.phone},c.addOrChangePhone()},c.toggleBlockedUsers=function(){c.showBlockedUsers=!c.showBlockedUsers},c.unBlock=function(e){r.beginAccountUnblockUser(e.uid).then(function(){c.accountContent.userInfo.data&&--c.accountContent.userInfo.data.BlockedUsersModel.Total,e.hidden=!0},function(e){var t;o.error("Failed to unblock user.",e);e=0<(null==e||null===(t=e.errors)||void 0===t?void 0:t.length)&&e.errors[0].userFacingMessage||h.get("Response.Dialog.DefaultErrorMessage");y.warning(e,100,5e3)})},c.getNotificationSettings=function(){c.receiverDestinationTypeMapping.length<1||angular.equals(c.notificationSourceTypeMapping,{})||r.beginGetNotificationSettings().then(function(e){c.notificationSettings=e,c.notificationSettings.updatedDestinationTypeOptOuts={}},function(e){o.debug(e)})},c.destinationNotificationBands=function(t){return c.notificationSettings.notificationBandSettings.filter(function(e){return e.receiverDestinationType===t})},c.isNotificationBandBlacklisted=function(e,t){return"MobilePush"===t&&0<=c.accountContent.userInfo.data.BlacklistedNotificationSourceTypesForMobilePush.indexOf(e)},c.setNotificationSettingsUrls=function(e){r.setNotificationSettingsUrls(e)},c.setXboxConnectionUrls=function(e){r.setXboxConnectionUrls(e)},c.setAuthDomainUrl=function(e){r.setAuthDomainUrl(e)},c.setAccountSettingsApiUrl=function(e){r.setAccountSettingsApiUrl(e)},c.isAvailable=function(e){return!e.availabilityCheck||e.availabilityCheck()},c.isToggleable=function(e){return void 0===e.isToggleable||e.isToggleable()},c.isDestinationTypeOptedOut=function(e){if(e.customEnabledCheck)return!e.customEnabledCheck(function(e){c.$apply()});var t=e.destinationType;return 0<c.notificationSettings.optedOutReceiverDestinationTypes.filter(function(e){return e===t}).length},c.toggleDestinationTypeOptOut=function(e){var t=e.destinationType;if(c.isDestinationTypeOptedOut(e))if(e.customEnablement)e.customEnablement(function(e){c.$apply()});else{c.notificationSettings.updatedDestinationTypeOptOuts[t]=e;for(var n=0;n<c.notificationSettings.optedOutReceiverDestinationTypes.length;n++)if(c.notificationSettings.optedOutReceiverDestinationTypes[n]===t)return void c.notificationSettings.optedOutReceiverDestinationTypes.splice(n,1)}else e.customDisablement?e.customDisablement(function(e){c.$apply()}):(c.notificationSettings.updatedDestinationTypeOptOuts[t]=e,c.notificationSettings.optedOutReceiverDestinationTypes.push(t))},c.toggleNotificationBand=function(e){e.isOverridable&&(e.isSetByReceiver=!0,e.isEnabled=!e.isEnabled)},c.updateNotificationSettings=function(){if(c.pinIsEnabledAndLocked())c.unlockAccountPinSetting(c.updateNotificationSettings,j);else{var e,t=c.notificationSettings.notificationBandSettings.filter(function(e){return e.isSetByReceiver}),n=[],a=[];for(e in c.notificationSettings.updatedDestinationTypeOptOuts)(c.isDestinationTypeOptedOut(c.notificationSettings.updatedDestinationTypeOptOuts[e])?a:n).push(e);r.beginUpdateNotificationSettings(t,a,n).then(function(){c.refreshPage(),_(g.modalText.success.title,g.modalText.success.body)},function(){_(g.modalText.error.title,g.modalText.error.body)})}},c.setAccountPinSetting=function(e){c.accountPinContent.isEnabled=e.isEnabled,c.accountPinContent.unlockedUntil=e.unlockedUntil,c.accountPinContent.isUnlocked=!1,e.isEnabled&&e.unlockedUntil&&(c.accountPinContent.isUnlocked=!0,c.startTimer(e.unlockedUntil))},c.pinIsEnabledAndLocked=function(){return c.accountPinContent.isEnabled&&!c.accountPinContent.isUnlocked&&c.accountContent.userInfo.data.IsAccountPinEnabled},c.getAccountPinSetting=function(){r.beginGetAccountPinSetting().then(function(e){e&&c.setAccountPinSetting(e)},function(e){o.debug(e)})},c.lockAccountPinSetting=function(){r.beginLockAccountPinSetting().then(function(e){e&&(c.accountPinContent.isUnlocked=!1,c.accountPinContent.unlockedUntil=null,c.clearTimer())},function(e){o.debug(e)})},c.unlockAccountPinSetting=function(t,e,n){d.open({templateUrl:b.templates.modal.pinUnlock,controller:b.controllers.modal.pinUnlock,resolve:{modalData:{accountPinLength:c.accountPinContent.pinLength}}}).result.then(function(e){null!=e.unlockedUntil&&(c.accountPinContent.isEnabled=!0,c.accountPinContent.isUnlocked=!0,c.accountPinContent.unlockedUntil=e.unlockedUntil,c.startTimer(Math.floor(e.unlockedUntil)),t&&t.apply())},function(e){n&&n.apply()})},c.startTimer=function(e){c.clearTimer(),c.accountPinContent.timeRemaining=e,c.accountPinContent.timeRemainingMin="--",c.accountPinContent.timeRemainingSec="--",q=t(function(){c.accountPinContent.timeRemaining=c.accountPinContent.timeRemaining-1,c.accountPinContent.timeRemainingMin=Math.floor(c.accountPinContent.timeRemaining/60),c.accountPinContent.timeRemainingSec=Math.floor(c.accountPinContent.timeRemaining-60*c.accountPinContent.timeRemainingMin),c.accountPinContent.timeRemaining<=0&&(c.accountPinContent.isUnlocked=!1,c.accountPinContent.unlockedUntil=null,c.clearTimer())},1e3)},c.clearTimer=function(){t.cancel(q)},c.toggleAccountPinLockSetting=function(){c.accountPinContent.isUnlocked?c.lockAccountPinSetting():c.unlockAccountPinSetting()},c.promptForCreateAccountPin=function(){d.open({templateUrl:b.templates.modal.pinCreate,controller:b.controllers.modal.pinCreate,resolve:{modalData:{userEmail:c.accountContent.userInfo.data.UserEmail,accountPinLength:c.accountPinContent.pinLength}}}).result.then(function(){c.getAccountPinSetting()},function(){}).finally(function(){c.getAccountPinSetting()})},c.accountPinSetupAndEnable=function(){return c.accountContent.userInfo.data.IsEmailOnFile?c.accountContent.hasVerifiedEmail?!!c.accountPinContent.isEnabled||(c.promptForCreateAccountPin(),!1):(c.verifyEmailAddress(!0,p.pinCreate.unverifiedEmail),!1):(c.setEmailAddress(p.pinCreate.missingEmail),!1)},c.restoreDefaultParentalSpendControls=function(){return null!==c.parentalSettings.MonthlySpendLimitInUSD||c.parentalSettings.SpendNotificationSetting!==b.spendNotificationSettingTypes.defaultNotifications?(c.parentalSettings.MonthlySpendLimitInUSD=null,c.parentalSettings.currentMonthlyLimit=null,c.parentalSettings.SpendNotificationSetting=b.spendNotificationSettingTypes.defaultNotifications,c.parentalSettings.MonthlyLimitEnabled=!1,c.parentalSettings.NotificationSettingEnabled=!0,r.beginUpdateParentalSpendControls(c.parentalSettings)):Promise.resolve()},c.toggleAccountPinEnabledSetting=function(){c.accountContent.userInfo.data.IsEmailOnFile?c.accountContent.hasVerifiedEmail?c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.toggleAccountPinEnabledSetting,j):c.accountPinContent.isEnabled?c.restoreDefaultParentalSpendControls().then(function(e){r.beginDeleteAccountPinSetting().then(function(e){e&&(c.accountPinContent.isEnabled=!1,c.accountPinContent.isUnlocked=!0,c.accountPinContent.unlockedUntil=null)},function(e){_("Error",c.processErrorMessage(e)),o.debug(e)})},function(e){_("Error",c.processErrorMessage(e)),o.debug(e)}):c.promptForCreateAccountPin():c.verifyEmailAddress(!0,p.pinCreate.unverifiedEmail):c.setEmailAddress(p.pinCreate.missingEmail)},c.getAccountRestrictions=function(){c.parentContent.accountRestrictions.isFeatureEnabled=c.accountContent.userInfo.data.IsAccountRestrictionsFeatureEnabled,r.beginGetAccountRestrictions().then(function(e){c.accountRestrictions=e},function(e){o.debug("Error getting account restrictions settings")})},c.toggleAccountRestrictionsSetting=function(){c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.toggleAccountRestrictionsSetting,j):c.parentContent.accountRestrictions.isFeatureEnabled&&(c.accountRestrictions.IsEnabled?r.beginUpdateAccountRestrictions(!c.accountRestrictions.IsEnabled).then(function(){c.accountRestrictions.IsEnabled=!c.accountRestrictions.IsEnabled,c.showSuccess()},function(e){_(p.default.error.title,r.beginProcessErrorMessage(e))}):(c.parentalSettings.ContentRatings="Child",r.beginUpdateContentRatings(c.parentalSettings).then(function(e){},function(e){_(p.default.error.title,r.beginProcessErrorMessage(e))}),c.contactSettings.MasterSetting=M,c.onContactSettingsMasterSettingChange().then(r.beginUpdateAccountRestrictions(!c.accountRestrictions.IsEnabled).then(function(){c.accountRestrictions.IsEnabled=!c.accountRestrictions.IsEnabled,c.showSuccess()},function(e){_(p.default.error.title,r.beginProcessErrorMessage(e))}))))},c.toggleMonthlyLimitSetting=function(){c.accountPinSetupAndEnable()&&(c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.toggleMonthlyLimitSetting,j):(null==c.parentalSettings.MonthlyLimitEnabled?(c.parentalSettings.MonthlyLimitEnabled=!0,c.parentalSettings.MonthlySpendLimitInUSD=0):(c.parentalSettings.MonthlyLimitEnabled=!c.parentalSettings.MonthlyLimitEnabled,c.parentalSettings.MonthlyLimitEnabled?c.parentalSettings.MonthlySpendLimitInUSD=0:c.parentalSettings.MonthlySpendLimitInUSD=null),c.updateParentalSpendControls()))},c.toggleNotificationSettingEnabled=function(){c.accountPinSetupAndEnable()&&(c.pinIsEnabledAndLocked()?c.unlockAccountPinSetting(c.toggleNotificationSettingEnabled,j):(null==c.parentalSettings.NotificationSettingEnabled?(c.parentalSettings.NotificationSettingEnabled=!0,c.parentalSettings.SpendNotificationSetting=b.spendNotificationSettingTypes.defaultNotifications):(c.parentalSettings.NotificationSettingEnabled=!c.parentalSettings.NotificationSettingEnabled,c.parentalSettings.NotificationSettingEnabled?c.parentalSettings.SpendNotificationSetting=b.spendNotificationSettingTypes.defaultNotifications:c.parentalSettings.SpendNotificationSetting=b.spendNotificationSettingTypes.notificationsOff),c.updateNotificationFrequency()))},c.setUpSocialDisconnect=function(){r.beginGetSocialConnected().then(function(e){e&&(c.connectedAccounts.providers=e.providers,e.providers&&e.providers[0]?(c.connectedAccounts.isConnectedAccountsBoxShown=!0,e.providers.forEach(function(e){e.provider.toLowerCase()===b.socialAuth.providers.facebook&&(c.hideConnectedAccountsDescription=!0,c.gigyaUserInfo())})):c.connectedAccounts.isConnectedAccountsBoxShown=!1)},function(e){_(p.default.error.title,r.beginProcessErrorMessage(e))})},c.getXboxConnection=function(){c.xbox.isDisconnectXboxEnabled=c.accountContent.userInfo.data.IsDisconnectXboxEnabled,c.xbox.isDisconnectXboxEnabled&&r.beginGetXboxConnection().then(function(e){e&&e.hasConnectedXboxAccount?c.xbox.isDisconnectXboxBoxShown=!0:c.xbox.isDisconnectXboxBoxShown=!1})},c.setContactSettingsMasterSetting=function(){var e=D;c.accountContent.userInfo.data.UserAbove13,c.contactSettings.PrivateMessagePrivacy===I&&c.contactSettings.AppChatPrivacy===I&&c.contactSettings.GameChatPrivacy===x?e=A:c.contactSettings.PrivateMessagePrivacy===k&&c.contactSettings.AppChatPrivacy===k&&c.contactSettings.GameChatPrivacy===k&&(e=M),c.contactSettings.MasterSetting=e},c.getCountryList=function(){r.beginGetCountryList().then(function(e){e.success?(c.allActiveCountryList=e.countryList,e={countryId:0,countryName:v.label.country,localizedName:v.label.country,disabled:!0},c.allActiveCountryList.unshift(e)):o.debug("Failed to get list of countries.")},function(e){o.debug(e)})},c.getAccountSettingsPolicy=function(e){if(!e)return c.accountSettingsPolicy=b.accountSettingsPolicyLeastPrivileged,void c.initializeController();var t;c.accountInformationMetadata.isAccountSettingsPolicyEnabled?(t=!0,r.beginGetAccountSettingsPolicy().then(function(e){c.accountSettingsPolicy=e},function(e){t=!1}).finally(function(){c.incrementAccountSettingsPolicyCounter(t),c.initializeController()})):(c.accountSettingsPolicy=b.accountSettingsPolicyDefault,c.initializeController())},c.incrementAccountSettingsPolicyCounter=function(e){var t=b.counters,e=e?t.success:t.failure;P.fireEvent(t.accountSettingPolicyPrefix+e)},c.initializeController=function(){c.accountSettingsPolicy.displayCountryList&&c.getCountryList(),c.getAccountSubscription(),c.getAccountInfo()},c.getAccountInformationMetadataAndInitializeController=function(){var t=!0;r.beginGetAccountInformationMetadata().then(function(e){c.accountInformationMetadata=e},function(e){t=!1}).finally(function(){c.getAccountSettingsPolicy(t)})},c.getAccountInformationMetadataAndInitializeController()}s.$inject=["$scope","$window","$log","$filter","accountsService","$timeout","$interval","$document","$location","$state","$uibModal","modalService","notificationConstantsService","modalConstantsService","screentimeConstantsService","koreaIdVerificationService","accountConstantsResources","commonConstantsService","languageResource","systemFeedbackService","$q","premiumService","eventTrackerService"],a.Z.controller("accountsContentController",s),t.default=s},4579:function(e,t,n){"use strict";n.r(t);n=n(4395);function a(o,e,t,n,a,s,r,c){o.accountsTabs=[],o.currentData={activeTab:"",stateLabel:""},o.initTabs=function(){o.accountsTabs=r.accountTabsDefault,a.getGroupsAndPolicy().then(function(e){o.accountsTabs=[];for(var t=0;t<e.tabsListing.length;t++)!e.getPolicy.displayBillingTab&&"billing"===e.tabsListing[t].suffix||o.accountsTabs.push({name:e.tabsListing[t].suffix,label:e.tabsListing[t].title})},function(e){t.debug("Error getting account info.")})},o.mappedDestinationTypes=[],o.destinationTypes=n.destinationTypes;a.beginGetAccountInformationMetadata().then(function(e){e.isAllowedNotificationsEndpointDisabled||this.getAllowedNotificationDestinationTypes()},function(e){this.getAllowedNotificationDestinationTypes()}),o.accountData=o.accountData||{stateProperties:{}},o.$on("$stateChangeSuccess",function(e,t,n,a,i){o.currentData.activeTab=t.name,o.currentData.stateLabel=s.tabs[t.name],t.name===r.accountTabsNames.parentalControlsCheckStatus?o.currentData.activeTab="parental-controls":c.localStorageCleanUp()}),o.$watch("accountData",function(e,t){o.hideMobileTabList=o.accountData.stateProperties.hideMobileTabList}),o.initTabs()}a.$inject=["$scope","$state","$log","notificationConstantsService","accountsService","commonConstantsService","accountConstantsResources","screentimeConstantsService"],n.Z.controller("accountsController",a),t.default=a},2142:function(e,t,n){"use strict";n.r(t);var a=n(5734),g=n.n(a),p=n(957),n=n(4395);function i(a,i,o,e,s,r,t,c){var l=e.pageData;a.modalData={originalDisplayName:g().copy(l.DisplayName),newDisplayName:"",currentDisplayName:g().copy(l.DisplayName),displayNameNeedsValidating:"",maxRetryOnMissingValidation:5,countOnMissingValidationRetry:0},a.modalLayout=g().copy(r.changeDisplayNameLayout);var t=t.eventstreamParams,d=t.changeDisplayNameEvent,u=t.successCtx,n=t.cancelCtx;a.handleResponseFailure=function(e){var t,n;null!=e&&e.errors&&0<(null==e?void 0:e.errors.length)&&(n=(null==e?void 0:e.errors[0]).code,e=(t=r.changeDisplayNameResponse).errorMessages,n=t.errorCodeMapMsg[n],a.modalLayout.displayErrorMsg=e[n])},a.saveDisplayName=function(){var e=a.modalData,t=e.originalDisplayName,n=e.currentDisplayName;i.updateDisplayName(null===p.authenticatedUser||void 0===p.authenticatedUser?void 0:p.authenticatedUser.id,n).then(function(){a.modalLayout.isRequestFailed=!1,l.DisplayName=n,s.sendEventWithTarget(d,u,{currentDisplayName:n,originalDisplayName:t}),o.dismiss()},function(e){a.modalLayout.isRequestFailed=!0,a.modalData.currentDisplayName=t,a.handleResponseFailure(e)})},a.close=function(){var e=a.modalData.originalDisplayName;s.sendEventWithTarget(d,n,{newDisplayName:null,originalDisplayName:e}),a.modalData.currentDisplayName=e,c.cancel(a.timeoutValidateDisplayName),a.modalData.displayNameNeedsValidating="",o.dismiss()},a.sendingDNValidation=function(e){a.modalLayout.isValidating=!0,a.timeoutValidateDisplayName=c(function(){i.validateDisplayName(null===p.authenticatedUser||void 0===p.authenticatedUser?void 0:p.authenticatedUser.id,e).then(function(){a.modalLayout.isValidated=!0},function(e){a.modalLayout.isValidated=!1,a.handleResponseFailure(e)}).finally(function(){a.modalLayout.isValidating=!1,c.cancel(a.timeoutValidateDisplayName);var e=a.modalData,t=e.displayNameNeedsValidating,n=e.maxRetryOnMissingValidation,e=e.countOnMissingValidationRetry;console.debug("displayNameNeedsValidating -- ".concat(t)),t&&(e<n?(a.modalData.countOnMissingValidationRetry=e+1,a.sendingDNValidation(t)):a.modalData.countOnMissingValidationRetry=0,a.modalData.displayNameNeedsValidating="")})},0)},a.validateInputChange=function(){a.modalLayout.isRequestFailed=!1,console.debug("making change - ".concat(a.modalData.currentDisplayName," - isValidating - ").concat(a.modalLayout.isValidating," "));var e,t=a.modalData.currentDisplayName;t.length<a.modalLayout.minCharactersForDisplayName?(a.modalLayout.isValidated=!1,e=r.changeDisplayNameResponse.errorMessages,a.modalLayout.displayErrorMsg=e.nameTooShort):a.modalLayout.isValidating?a.modalData.displayNameNeedsValidating=t:a.sendingDNValidation(t)},a.isInputFormInvalidated=function(){return a.modalLayout.isRequestFailed||!a.modalLayout.isValidated}}i.$inject=["$scope","usersService","$uibModalInstance","injectedData","eventStreamService","displayNameLayout","displayNameConstants","$timeout"],n.Z.controller("changeDisplayNameController",i),t.default=i},6980:function(e,t,n){"use strict";n.r(t);var a=n(4395),i=n(1566);function o(n,a){n.changeDisplayName=function(){var e=i.default.changeDisplayNameModal.templateUrl,t={pageData:n.accountContent.userInfo.data},t={animation:!1,templateUrl:e,controller:i.default.changeDisplayNameModal.controllerName,resolve:{injectedData:t}};a.open(t).result.then(function(){},function(){})}}o.$inject=["$scope","$uibModal"],a.Z.controller("displayNameController",o),t.default=o},1273:function(e,t,n){"use strict";n.r(t);var a=n(4395),o=n(7849);function i(t,n,a,i){t.layout={code:"",setupToken:a.setupToken||"",qrCodeImage:a.qrCodeImage||"",manualEntryKey:a.manualEntryKey||"",errorMessage:"",passwordErrorMessage:"",password:a.password||"",debounce:!1,viewQrCode:!0,authenticatorCodeLength:a.metadata.authenticatorCodeLength,helpLink:a.metadata.authenticatorHelpSiteAddress,passwordRequired:a.metadata.isPasswordRequiredForEnablingAuthenticator&&!a.password},t.canVerify=function(){return!t.layout.errorMessage&&!t.layout.debounce&&t.layout.code&&t.layout.code.length===a.metadata.authenticatorCodeLength&&(!t.layout.passwordRequired||t.layout.password)},t.clearErrorMessage=function(){t.layout.errorMessage=""},t.clearPasswordErrorMessage=function(){t.layout.passwordErrorMessage=""},t.dismiss=function(){n.dismiss()},t.onKeyDown=function(e){o.default.digitRegex.test(e.key)||e.originalEvent.preventDefault()},t.toggleQrCode=function(){t.layout.viewQrCode=!t.layout.viewQrCode},t.openHelpLink=function(){window.open(t.layout.helpLink)},t.submit=function(e){t.layout.debounce||e.$valid&&(e.$setPristine(),t.clearErrorMessage(),t.layout.debounce=!0,i.enableVerifyAuthenticator(t.layout.setupToken,t.layout.code,t.layout.password).then(function(){a.output.password=t.layout.password,n.close(!0)}).catch(function(e){e.code==o.default.errorCodes.internal.invalidPassword?(t.layout.passwordRequired=!0,t.layout.passwordErrorMessage=e.message):t.layout.errorMessage=e.message,t.layout.debounce=!1}))},a.metadata.isPasswordRequiredForEnablingAuthenticator||i.enableAuthenticator(t.layout.password).then(function(e){t.layout.setupToken=e.setupToken,t.layout.manualEntryKey=e.manualEntryKey,t.layout.qrCodeImage=e.qrCodeImageUrl}).catch(function(e){t.layout.errorMessage=e.message})}i.$inject=["$scope","$uibModalInstance","modalData","twoStepVerificationService"],a.Z.controller("enableAuthenticatorModalController",i),t.default=i},5707:function(e,t,n){"use strict";n.r(t);var a=n(4395),o=n(7849);function i(t,n,a,i){t.layout={password:"",errorMessage:"",debounce:!1},t.canSubmit=function(){return t.layout.password&&!t.layout.errorMessage&&!t.layout.debounce},t.clearErrorMessage=function(){t.layout.errorMessage=""},t.dismiss=function(){n.dismiss()},t.submit=function(e){t.layout.debounce||e.$valid&&(e.$setPristine(),t.clearErrorMessage(),t.layout.debounce=!0,a.mediaType===o.default.mediaTypes.Email?i.enableEmailTwoStepVerification(t.layout.password).then(function(){n.close(!0)}).catch(function(e){t.layout.errorMessage=e.message,t.layout.debounce=!1}):a.mediaType===o.default.mediaTypes.Authenticator&&i.enableAuthenticator(t.layout.password).then(function(e){a.output&&(a.output.password=t.layout.password,a.output.setupToken=e.setupToken,a.output.manualEntryKey=e.manualEntryKey,a.output.qrCodeImage=e.qrCodeImageUrl),n.close(!0)}).catch(function(e){t.layout.errorMessage=e.message,t.layout.debounce=!1}))}}i.$inject=["$scope","$uibModalInstance","modalData","twoStepVerificationService"],a.Z.controller("enableTwoStepVerificationModalController",i),t.default=i},8136:function(e,t,n){"use strict";n.r(t);n(957);n=n(4395);function a(e,t,n,a,i,o,s,r,c,l){e.chooseThemes=function(){i.beginSetConsumerThemes(e.themeContent.newThemeType).then(function(){a.triggerHandler(s.updateThemeEvent)},function(){c.open({titleText:l.default.error.title,bodyText:l.default.error.body})})},e.sendThemeUpdateEvent=function(e,t){o.sendEventWithTarget(o.eventNames.account.updateTheme,s.updateThemeEventContext,{newThemeType:e,oldThemeType:t})};var d={};d[r.notificationTypes.userThemeTypeChangeNotification.themeUpdate]=function(){e.themeContent.oldThemeType!==e.themeContent.newThemeType?(e.sendThemeUpdateEvent(e.themeContent.newThemeType,e.themeContent.oldThemeType),e.themeContent.oldThemeType=e.themeContent.newThemeType):e.getCurrentTheme()},r.listenToNotification(r.realTimeTypes.userThemeTypeChangeNotification,d)}a.$inject=["$scope","$window","$log","$document","accountsService","eventStreamService","accountConstantsResources","realtimeService","modalService","modalConstantsService"],n.Z.controller("personalController",a),t.default=a},8619:function(e,t,n){"use strict";n.r(t);var a=n(4395),i=n(7849);function o(t,e,n,a){t.layout={password:n.password||"",recoveryCodes:null,recoveryCodesLeft:[],recoveryCodesRight:[],activeRecoveryCodeCount:0,errorMessage:"",loadErrorMessage:"",loading:!0,debounce:!1,confirmSavedCodes:!1,passwordRequired:!n.password},t.canContinue=function(){return t.layout.password&&!t.layout.errorMessage&&!t.layout.debounce},t.clearErrorMessage=function(){t.layout.errorMessage=""},t.dismiss=function(){e.dismiss()},t.close=function(){e.close(!0)},t.formatRecoveryCodes=function(e){return e.join("\n")},t.submit=function(e){t.layout.debounce||e.$valid&&(e.$setPristine(),t.clearErrorMessage(),t.layout.debounce=!0,a.generateRecoveryCodes(t.layout.password).then(function(e){t.layout.recoveryCodes=e,t.layout.recoveryCodesLeft=e.slice(0,e.length/2),t.layout.recoveryCodesRight=e.slice(e.length/2)}).catch(function(e){e.code==i.default.errorCodes.internal.invalidPassword&&(t.layout.passwordRequired=!0),t.layout.errorMessage=e.message,t.layout.debounce=!1}))},a.getRecoveryCodesStatus().then(function(e){t.layout.activeRecoveryCodeCount=e.activeCount,t.layout.passwordRequired||t.layout.activeRecoveryCodeCount?t.layout.loading=!1:a.generateRecoveryCodes(t.layout.password).then(function(e){t.layout.recoveryCodes=e,t.layout.recoveryCodesLeft=e.slice(0,e.length/2),t.layout.recoveryCodesRight=e.slice(e.length/2)}).catch(function(e){e.code==i.default.errorCodes.internal.invalidPassword&&(t.layout.passwordRequired=!0),t.layout.errorMessage=e.message,t.layout.debounce=!1}).finally(function(){t.layout.loading=!1})}).catch(function(e){t.layout.loadErrorMessage=e.message,t.layout.loading=!1})}o.$inject=["$scope","$uibModalInstance","modalData","twoStepVerificationService"],a.Z.controller("recoveryCodesModalController",o),t.default=o},8161:function(e,t,n){"use strict";n.r(t);var a=n(4395),l=n(7849);function i(n,t,a,e,i,o,s){function r(){n.dismiss();var e=o.get("Response.VerificationError");s.warning(e,100,6e3)}function c(e){var t=o.get("Response.VerificationError");e===l.default.errorCodes.internal.invalidCode&&(t=o.get("Response.InvalidCodeTryAgain")),n.layout.invalidCodeError=!0,n.layout.invalidCodeErrorMessage=t,a.sendFrictionEvent(i.events.invalidCodeInput)}n.layout={codeSent:!1,isPendingVerification:!1,invalidCodeError:!1,invalidCodeErrorMessage:"",supportPageUrl:e.getAbsoluteUrl(i.urls.support),supportPageLinkPhrase:"",codeInputPlaceholder:o.get("Label.CodeInputPlaceholderText",{codeLength:i.codeLength}),codeLength:i.codeLength,isChallengeVerified:!1},n.properties={challengeToken:"",code:""},n.dismiss=function(){var e;n.layout.isChallengeVerified?(e=o.get("Response.SuccessfulVerificationV2"),s.success(e,100,6e3),t.close(!0)):t.dismiss()},n.resendCode=function(){a.sendFrictionEvent(i.events.resendCodeBtn),a.resendEmailCode(n.properties.challengeToken).then(function(){n.layout.codeSent=!0}).catch(function(e){c(e.code)})},n.verifyChallengeCode=function(){a.sendFrictionEvent(i.events.verifyCodeBtn),n.layout.isPendingVerification=!0,a.verifyChallengeCode(n.properties.challengeToken,n.properties.code).then(function(e){a.sendFrictionEvent(i.events.successfulVerification),n.layout.isChallengeVerified=!0,a.redeemVerificationChallengeForSpend(n.properties.challengeToken,e).then(function(e){e?n.dismiss():r()}).catch(function(){r()})}).catch(function(e){c(e.code),n.layout.isPendingVerification=!1})},n.generateChallengeCode=function(){var e;n.layout.supportPageLinkPhrase=(e=n.layout.supportPageUrl,e="<a class='text-name text-footer contact' href='".concat(e,"' target='_blank'>").concat(o.get("Label.RobloxSupport"),"</a>"),o.get("Label.NeedHelpContactSupport",{supportLink:e})),a.generateChallengeForSpend().then(function(e){n.properties.challengeToken=e}).catch(function(){r()})},n.generateChallengeCode()}i.$inject=["$scope","$uibModalInstance","twoStepVerificationService","urlService","robuxSpendTwoStepResources","languageResource","systemFeedbackService"],a.Z.controller("robuxSpendVerifyChallengeModalController",i),t.default=i},3441:function(e,t,n){"use strict";n.r(t);var g=n(792),p=n(957),a=n(4395),f=n(7849),i=n(5734),m=n.n(i);function o(n,a,i,o,s,t,r,c,e,l){var d=this;d.numberOfFailedTwoStepVerificationChallengeAttempts=0,d.layout={loading:!1,loadError:"",showRobuxSpendTwoStepVerificationContainer:!1,showItemTradeTwoStepVerificationContainer:!1},d.authenticatorDisabledHelp={aTagStart:'<a href="'.concat(f.default.urls.authenticatorHelp,'" target="_blank">'),aTagEnd:"</a>"},d.metadata={},d.mediaTypes=f.default.mediaTypes,d.enabledMediaTypes=[],d.showVerifyButtonForSpend=function(){n.getStatusSpendFriction().then(function(e){e&&n.sendFrictionEvent(c.events.verificationWarningSecurityPageTriggered),d.layout.showItemTradeTwoStepVerificationContainer||(d.layout.showRobuxSpendTwoStepVerificationContainer=e)}).catch(function(){})},d.showVerifyButtonForTrade=function(){n.getStatusTradeFriction().then(function(e){d.layout.showRobuxSpendTwoStepVerificationContainer||(d.layout.showItemTradeTwoStepVerificationContainer=e)}).catch(function(){})},d.shouldShowRecoveryCodesSection=function(){return d.metadata.authenticatorEnabled&&0<d.enabledMediaTypes.length},d.isMediaTypeEnabled=function(e){return d.enabledMediaTypes.includes(e)},d.showEmailWarning=!1,d.areBothEmailAndAuthenticatorEnabled=function(){return d.enabledMediaTypes.includes(f.default.mediaTypes.Email)&&d.enabledMediaTypes.includes(f.default.mediaTypes.Authenticator)},d.enableEmailTwoStepVerification=function(){var e;(e=d.metadata.isPasswordRequiredForEnablingEmailTwoStepVerification?r.open({templateUrl:s.templates.modal.enableTwoStepVerification,controller:s.controllers.modal.enableTwoStepVerification,resolve:{modalData:{mediaType:d.mediaTypes.Email}}}).result:n.enableEmailTwoStepVerification()).then(function(){d.isMediaTypeEnabled(f.default.mediaTypes.Email)||d.enabledMediaTypes.push(f.default.mediaTypes.Email),d.showVerifyButtonForSpend(),d.showVerifyButtonForTrade()}),d.metadata.isPasswordRequiredForEnablingEmailTwoStepVerification?e.catch(function(){}):e.catch(function(e){e.code===f.default.errorCodes.internal.invalidPassword?(d.metadata.isPasswordRequiredForEnablingEmailTwoStepVerification=!0,d.enableEmailTwoStepVerification()):a.open({titleText:i.default.error.title,bodyText:e.message})})},d.enableAuthenticator=function(){function e(){d.isMediaTypeEnabled(f.default.mediaTypes.Authenticator)||(d.enabledMediaTypes.push(f.default.mediaTypes.Authenticator),d.generateRecoveryCodes(!1,t.password)),d.showVerifyButtonForSpend(),d.showVerifyButtonForTrade()}var t={password:"",setupToken:"",qrCodeImage:"",manualEntryKey:""};(d.metadata.isPasswordRequiredForEnablingAuthenticator?r.open({templateUrl:s.templates.modal.enableTwoStepVerification,controller:s.controllers.modal.enableTwoStepVerification,resolve:{modalData:{mediaType:d.mediaTypes.Authenticator,output:t}}}).result.then(function(){r.open({templateUrl:s.templates.modal.enableAuthenticator,controller:s.controllers.modal.enableAuthenticator,resolve:{modalData:{metadata:d.metadata,output:t,password:t.password,setupToken:t.setupToken,qrCodeImage:t.qrCodeImage,manualEntryKey:t.manualEntryKey}}}).result.then(e).catch(function(){})}):r.open({templateUrl:s.templates.modal.enableAuthenticator,controller:s.controllers.modal.enableAuthenticator,resolve:{modalData:{metadata:d.metadata,output:t}}}).result.then(e)).catch(function(){})},d.toggleTwoStepVerification=function(t,e){var n=d.isMediaTypeEnabled(t);if(g.FormEvents&&(n?o.sendButtonClickEvent(s.events.toggle2SVOff):o.sendButtonClickEvent(s.events.toggle2SVOn)),!d.pinLocked||e)if(n)r.open({templateUrl:s.templates.modal.twoStepSet,controller:s.controllers.modal.twoStepSet,resolve:{modalData:{mediaType:t,enabledMediaTypes:d.enabledMediaTypes}}}).result.then(function(){var e=d.enabledMediaTypes.indexOf(t);0<=e&&d.enabledMediaTypes.splice(e,1)}).catch(function(){});else if(d.emailStatus===s.emailStatus.verified)switch(t){case f.default.mediaTypes.Email:d.enableEmailTwoStepVerification();break;case f.default.mediaTypes.Authenticator:d.enableAuthenticator()}else a.open({titleText:i.emailSet.emailRequiredMessage,bodyText:i.twoStepVerification.missingEmail});else d.unlockPin(function(){return d.toggleTwoStepVerification(t,!0)})},d.generateRecoveryCodes=function(e,t){!d.pinLocked||e?r.open({templateUrl:s.templates.modal.recoveryCodes,controller:s.controllers.modal.recoveryCodes,backdrop:"static",keyboard:!1,resolve:{modalData:{password:t}}}).result.then(function(){}).catch(function(){}).finally(function(){n.getRecoveryCodesStatus().then(function(e){d.activeRecoveryCodeCount=e.activeCount,d.recoveryCodeCreated=e.created}).catch(function(){d.activeRecoveryCodeCount=null,d.recoveryCodeCreated=null})}):d.unlockPin(function(){return d.generateRecoveryCodes(!0,t)})},d.showErrorBanner=function(){var e=t.get("Response.VerificationError");l.warning(e,100,6e3)},d.receiveTwoStepChallengeTokenForSpend=function(e){n.redeemVerificationChallengeForSpend(d.challengeToken,e.verificationToken).then(function(e){e?(e=t.get("Response.SuccessfulVerificationV2"),l.success(e,100,6e3),d.layout.showRobuxSpendTwoStepVerificationContainer=!1,d.layout.showItemTradeTwoStepVerificationContainer=!1):d.showErrorBanner()}).catch(function(){d.showErrorBanner()})},d.receiveTwoStepChallengeTokenForTrade=function(e){n.redeemVerificationChallengeForTrade(d.challengeToken,e.verificationToken).then(function(e){e?(e=t.get("Response.SuccessfulVerificationV2"),l.success(e,100,6e3),d.layout.showRobuxSpendTwoStepVerificationContainer=!1,d.layout.showItemTradeTwoStepVerificationContainer=!1):d.showErrorBanner()}).catch(function(){d.showErrorBanner()})},d.handleInvalidatedTwoStepVerificationChallengeForSpend=function(){d.numberOfFailedTwoStepVerificationChallengeAttempts<3?d.renderTwoStepVerificationChallengeForSpend():d.showErrorBanner(),d.numberOfFailedTwoStepVerificationChallengeAttempts+=1},d.handleInvalidatedTwoStepVerificationChallengeForTrade=function(){d.numberOfFailedTwoStepVerificationChallengeAttempts<3?d.renderTwoStepVerificationChallengeForTrade():d.showErrorBanner(),d.numberOfFailedTwoStepVerificationChallengeAttempts+=1},d.renderTwoStepVerificationChallengeForSpend=function(){n.generateChallengeForSpend().then(function(e){var t=g.AccountIntegrityChallengeService.TwoStepVerification;d.challengeToken=e,t.renderChallenge({containerId:"2sv-popup-container",userId:p.authenticatedUser.id,challengeId:e,actionType:t.ActionType.RobuxSpend,renderInline:!1,shouldShowRememberDeviceCheckbox:!1,shouldDynamicallyLoadTranslationResources:!1,onChallengeCompleted:d.receiveTwoStepChallengeTokenForSpend,onChallengeInvalidated:d.handleInvalidatedTwoStepVerificationChallengeForSpend,onModalChallengeAbandoned:m().noop})}).catch(function(){d.showErrorBanner()})},d.renderTwoStepVerificationChallengeForTrade=function(){n.generateChallengeForTrade().then(function(e){var t=g.AccountIntegrityChallengeService.TwoStepVerification;d.challengeToken=e,t.renderChallenge({containerId:"2sv-popup-container",userId:p.authenticatedUser.id,challengeId:e,actionType:t.ActionType.ItemTrade,renderInline:!1,shouldShowRememberDeviceCheckbox:!1,shouldDynamicallyLoadTranslationResources:!1,onChallengeCompleted:d.receiveTwoStepChallengeTokenForTrade,onChallengeInvalidated:d.handleInvalidatedTwoStepVerificationChallengeForTrade,onModalChallengeAbandoned:m().noop})}).catch(function(){d.showErrorBanner()})},d.robuxSpendVerifyChallenge=function(){n.sendFrictionEvent(c.events.codeInputModalTriggered),n.sendFrictionEvent(c.events.verifySecurityPageBtn),d.metadata.isUsingTwoStepWebviewComponent?d.renderTwoStepVerificationChallengeForSpend():r.open({templateUrl:s.templates.modal.robuxSpendVerifyChallenge,controller:s.controllers.modal.robuxSpendVerifyChallenge}).result.then(function(e){e?(d.layout.showRobuxSpendTwoStepVerificationContainer=!1,d.layout.showItemTradeTwoStepVerificationContainer=!1):a.open({titleText:i.default.error.title,bodyText:i.default.error.body})}).catch(function(){})},d.itemTradeVerifyChallenge=function(){n.sendFrictionEvent(e.events.codeInputModalTriggered),n.sendFrictionEvent(e.events.verifySecurityPageBtn),d.renderTwoStepVerificationChallengeForTrade()};function u(){d.layout.loadError=t.get("Response.GeneralError"),d.layout.loading=!1}d.$onInit=function(){d.layout.loading=!0,n.getMetadata().then(function(e){(d.metadata=e).twoStepVerificationEnabled?(n.getTwoStepVerificationConfiguration().then(function(e){var t=[];e.methods.forEach(function(e){e.enabled&&f.default.mediaTypes[e.mediaType]&&t.push(e.mediaType)}),d.enabledMediaTypes=t,d.layout.loading=!1}).catch(u),d.showVerifyButtonForSpend(),d.showVerifyButtonForTrade()):(d.layout.loadError=t.get("Response.FeatureDisabled"),d.layout.loading=!1),e.authenticatorEnabled&&n.getRecoveryCodesStatus().then(function(e){d.activeRecoveryCodeCount=e.activeCount,d.recoveryCodeCreated=e.created}).catch(function(){d.activeRecoveryCodeCount=null,d.recoveryCodeCreated=null})}).catch(u)}}o.$inject=["twoStepVerificationService","modalService","modalConstantsService","accountsService","accountConstantsResources","languageResource","$uibModal","robuxSpendTwoStepResources","itemTradeTwoStepResources","systemFeedbackService"],a.Z.controller("twoStepVerificationController",o),t.default=o},6490:function(e,t,n){"use strict";n.r(t);n=n(4395);function a(e){return{restrict:"A",templateUrl:e.templates.accountPinStatus}}a.$inject=["accountConstantsResources"],n.Z.directive("accountPinStatus",a),t.default=a},7034:function(e,t,n){"use strict";function a(){return{restrict:"A",link:function(e,t,n){e.accountData=e.accountData||{stateProperties:{}},e.accountData.stateProperties={cancelRenewalUrl:n.cancelrenewalurl,upgradeMemberShipUrl:n.upgrademembershipurl,isRobloxCreditEnabled:n.isRobloxCreditEnabled,hideMobileTabList:"true"===n.hidemobiletablist,buyRobuxUrl:n.buyrobuxurl,isTwoStepToggleEnabled:n.isTwoStepToggleEnabled,inApp:"true"===n.inApp,isPersonalSettingRefactorEnabled:"true"===n.isCountryLocaleRefactorEnabled,defaultThemeType:n.defaultThemeType,isMyAccountSectionHeaderHidden:"true"===n.isMyAccountSectionHeaderHidden}}}}n.r(t),n(4395).Z.directive("accountStateProperties",a),t.default=a},4693:function(e,t,n){"use strict";n.r(t);var a=n(4395),r=n(792);function i(n,e){return{restrict:"A",require:"ngModel",link:function(o,e,t,s){o.usernameValidationRequestNum=0,o.onChange=function(){var i=++o.usernameValidationRequestNum,e="",t=!1;""===o.user.username||angular.isUndefined(o.user.username)?(t=!0,e=r.Resources.AnimatedSignupFormValidator.usernameRequired):""!==(e=Roblox.SignupFormValidatorGeneric.getInvalidUsernameMessage(o.user.username))&&(t=!0),s.$setValidity("validusername",!t),t?s.$usernameMessage=e:(t={url:(s.$usernameMessage="").concat(Roblox.EnvironmentUrls.authApi,"/v1/usernames/validate")},e={username:o.user.username,context:"UsernameChange"},n.httpPost(t,e).then(function(e){var t,n,a;i===o.usernameValidationRequestNum&&(n=t=!0,a="",1===e.code&&(t=!1,a=r.Resources.AnimatedSignupFormValidator.alreadyTaken),2===e.code&&(n=!1,a=r.Resources.AnimatedSignupFormValidator.cantBeUsed),10===e.code&&(n=!1,a=r.Resources.AnimatedSignupFormValidator.cantBeUsedPii),s.$setValidity("unique",t),s.$setValidity("moderated",n),s.$invalid?""!==a&&(s.$usernameMessage=a):s.$usernameMessage="")}))}}}}i.$inject=["httpService","modalConstantsService"],a.Z.directive("accountValidUsername",i),t.default=i},9722:function(e,t,n){"use strict";n.r(t);n=n(4395);function a(e){return{restrict:"A",scope:!0,templateUrl:e.templates.userAccountBase}}a.$inject=["accountConstantsResources"],n.Z.directive("userAccountBase",a),t.default=a},5294:function(e,t,n){"use strict";n.r(t);var p=n(792),f=n(957),n=n(4395);function a(r,e,s,a,t,n,i){function c(e,t,n,a){var i,o={url:e,withCredentials:!0};switch(n){case s.methods.get:return o.noCache=!a,s.httpGet(o,t);case s.methods.post:return o.headers={"Content-Type":"application/x-www-form-urlencoded"},null!=t&&(i=$.param(t)),s.httpPost(o,i);case s.methods.patch:return o.headers={"Content-Type":"application/x-www-form-urlencoded"},null!=t&&(i=$.param(t)),s.httpPatch(o,i);case s.methods.delete:return s.httpDelete(o,t)}}var l={getAccountInfoUrl:"/my/settings/json",accountSignoutUrl:"/authentication/signoutfromallsessionsandreauthenticate",accountAskParentToVerifyAge:"/my/account/AskParentVerifyAge",getAllowedDestinationTypes:"/account/settings/allowed-notification-destinations",getAccountSettingsGroups:"/account/settings/settings-groups",getAccountSubscriptionUrl:"".concat(p.EnvironmentUrls.premiumFeaturesApi,"/v1/users/{userid}/subscriptions"),accountAppChatPrivacy:"/account/settings/app-chat-privacy",accountGameChatPrivacy:"/account/settings/game-chat-privacy",accountPrivateMessagePrivacy:"/account/settings/private-message-privacy",accountPrivateServerInvitePrivacy:"/account/settings/private-server-invite-privacy",accountFollowMePrivacy:"/account/settings/follow-me-privacy",accountAccountRestrictions:"/account/settings/account-restrictions",accountCountry:"/account/settings/account-country",accountPhone:"".concat(p.EnvironmentUrls.accountInformationApi,"/v1/phone"),accountPhoneDelete:"".concat(p.EnvironmentUrls.accountInformationApi,"/v1/phone/delete"),accountResendPhoneCode:"".concat(p.EnvironmentUrls.accountInformationApi,"/v1/resendphone"),accountVerifyPhone:"".concat(p.EnvironmentUrls.accountInformationApi,"/v1/phoneverification"),getCountryListUrl:"/account/settings/countries",accountDescription:"".concat(p.EnvironmentUrls.accountInformationApi,"/v1/description"),accountBirthdate:"".concat(p.EnvironmentUrls.accountInformationApi,"/v1/birthdate"),accountGender:"".concat(p.EnvironmentUrls.accountInformationApi,"/v1/gender"),accountPromotionChannels:"".concat(p.EnvironmentUrls.accountInformationApi,"/v1/promotion-channels"),accountInformationMetadata:"".concat(p.EnvironmentUrls.accountInformationApi,"/v1/metadata"),accountChangeUsernameV2:"".concat(p.EnvironmentUrls.accountInformationApi,"/v1/username"),authenticationMetadata:"".concat(p.EnvironmentUrls.accountInformationApi,"/v1/metadata"),accountSettingsPolicy:"".concat(p.EnvironmentUrls.universalAppConfigurationApi,"/v1/behaviors/account-settings-ui/content"),screentimeAuthorizationPolicy:"".concat(p.EnvironmentUrls.universalAppConfigurationApi,"/v1/behaviors/intl-auth-compliance/content"),screentimeRolloutPolicy:"".concat(p.EnvironmentUrls.universalAppConfigurationApi,"/v1/behaviors/parent-screen-time-restrictions/content"),restrictedHoursServiceUrl:"".concat(p.EnvironmentUrls.restrictedHoursServiceApi,"/v1/restrictions"),accountVoiceChatPolicyUrl:"".concat(p.EnvironmentUrls.voiceApi,"/v1/settings"),accountVoiceChatUserOptInUrl:"".concat(p.EnvironmentUrls.voiceApi,"/v1/voice/v1/user-opt-in"),getParentalSpendControlsUrl:"".concat(p.EnvironmentUrls.billingApi,"/v1/parental-controls/get-settings"),updateParentalSpendControlsUrl:"".concat(p.EnvironmentUrls.billingApi,"/v1/parental-controls/update")},o=i.createErrorMapper({0:n.get("Message.Error.System"),1:n.get("Message.Error.NoPin"),2:n.get("Message.Error.AccountLocked"),3:n.get("Message.Error.TooManyRequests"),4:n.get("Message.Error.IncorrectPin"),5:n.get("Message.Error.AccountHasPin"),6:n.get("Message.Error.NoVerifiedEmail"),7:n.get("Message.Error.InvalidPinFormat")},n.get("Message.Error.Default")),d=i.createErrorMapper({0:n.get("Response.GeneralError"),1:n.get("Response.FeatureDisabled"),2:n.get("Response.InvalidPhoneTryAgain"),3:n.get("Response.NumberAlreadyAssociated"),4:n.get("Response.PinRequired"),5:n.get("Response.IncorrectPasswordTryAgain"),6:n.get("Response.IncorrectCodeTooManyTimes"),7:n.get("Response.FeatureDisabled"),8:n.get("Respones.InvalidCodePhone")},n.get("Message.Error.Default")),u=i.createErrorMapper({0:n.get("Message.Error.Email.Unknown"),1:n.get("Message.Error.Email.PinLocked"),2:n.get("Message.Error.Email.FeatureDisabled"),3:n.get("Message.Error.Email.TooManyAccounts"),4:n.get("Message.Error.Email.SameEmail"),5:n.get("Message.Error.Email.AlreadyVerified"),6:n.get("Message.Error.Email.TooManyUpdates"),7:n.get("Message.Error.Email.TooManyVerify"),8:n.get("Message.Error.Email.IncorrectPassword"),9:n.get("Message.Error.Email.InvalidEmail"),10:n.get("Message.Error.Email.NoEmailAssociated")},n.get("Message.Error.Default")),g=i.createErrorMapper({0:n.get("Response.GeneralError"),2:n.get("Response.PinRequired"),3:n.get("Response.FeatureDisabled"),8:n.get("Response.IncorrectPasswordTryAgain")},n.get("Message.Error.Default"));return{setNotificationSettingsUrls:function(e){l.getNotificationSettings="".concat(e,"/v2/notifications/get-settings"),l.updateNotificationBandSettings="".concat(e,"/v2/notifications/update-notification-settings"),l.removeDestinationTypeOptOut="".concat(e,"/v2/notifications/receiver-destination-types/allow"),l.addDestinationTypeOptOut="".concat(e,"/v2/notifications/receiver-destination-types/opt-out")},setXboxConnectionUrls:function(e){l.xboxConnection="".concat(e,"/v1/xbox/connection"),l.disconnectXbox="".concat(e,"/v1/xbox/disconnect")},setAccountSettingsApiUrl:function(e){l.accountTradePrivacyUrl="".concat(e,"/v1/trade-privacy"),l.accountTradeValueUrl="".concat(e,"/v1/trade-value"),l.accountInventoryPrivacyUrl="".concat(e,"/v1/inventory-privacy"),l.contentRatingsUrl="".concat(e,"/v1/content-restriction"),l.getOrUpdateEmailUrl="".concat(e,"/v1/email"),l.sendVerifyEmailUrl="".concat(e,"/v1/email/verify"),l.accountSettingsApiDomain=e,l.accountConsumerThemesUrl="".concat(e,"/v1/themes/user"),l.accountAvailableThemesUrl="".concat(e,"/v1/themes/types"),l.updatePromotionChannelsUrl="".concat(e,"/v1/promotion-channels"),l.accountVisibilityPrivacyUrl="".concat(e,"/v1/visibility-privacy"),l.accountSettingsMetadataUrl="".concat(e,"/v1/account/settings/metadata")},setAccountInformationUrl:function(e){l.accountDescription="".concat(e,"/v1/description"),l.accountBirthdate="".concat(e,"/v1/birthdate"),l.accountGender="".concat(e,"/v1/gender"),l.accountPromotionChannels="".concat(e,"/v1/promotion-channels"),l.accountInformationMetadata="".concat(e,"/v1/metadata"),l.accountPhone="".concat(e,"/v1/phone"),l.accountPhoneDelete="".concat(e,"/v1/phone/delete"),l.accountResendPhoneCode="".concat(e,"/v1/resendphone"),l.accountVerifyPhone="".concat(e,"/v1/phoneverification")},setAuthDomainUrl:function(e){l.accountPinUrl="".concat(e,"/v1/account/pin"),l.accountPinLockUrl="".concat(e,"/v1/account/lockpin"),l.accountPinUnlockUrl="".concat(e,"/v1/account/unlockpin"),l.connectedSocialAuthUrl="".concat(e,"/v1/social/connected-providers"),l.socialAuthDomainUrl="".concat(e,"/v1/social"),l.accountChangePasswordUrl="".concat(e,"/v2/user/passwords/change"),l.authenticationMetadata="".concat(e,"/v1/metadata"),l.accountChangeUsernameV2="".concat(e,"/v1/username")},setUniversalAppConfigurationUrl:function(e){l.accountSettingsPolicy="".concat(e,"/v1/behaviors/account-settings-ui/content"),l.screentimeAuthorizationPolicy="".concat(e,"/v1/behaviors/intl-auth-compliance/content"),l.screentimeRolloutPolicy="".concat(e,"/v1/behaviors/parent-screen-time-restrictions/content")},templateUrls:{passwordChangedUrl:"user-account-password-changed.html",passwordErrorUrl:"user-account-password-error.html",accountPhoneChangedUrl:"user-account-phone-changed.html",accountVerifySmsSentUrl:"user-account-verify-sms-sent.html",accountEmailChangedUrl:"user-account-email-changed.html",accountVerifySentUrl:"user-account-verify-sent.html",accountParentNeedNeedEmailUrl:"user-account-parent-need-email.html",accountAgeChangeConfirmationUrl:"user-account-age-change-confirmation.html",account2SvEnabledUrl:"user-account-2sv-enabled.html",account2SvDisableConfirmationUrl:"user-account-2sv-disable-confirmation.html"},populateAccount:t,beginGetCountryList:function(){var e=l.getCountryListUrl;return c(e,void 0,"GET")},beginGetAccountInfo:function(){var e=l.getAccountInfoUrl;return c(e,void 0,"GET")},beginGetAccountSubscription:function(){var e=l.getAccountSubscriptionUrl.replace("{userid}",f.authenticatedUser.id);return c(e,void 0,"GET")},beginGetAllowedNotificationDestinationTypes:function(){var e=l.getAllowedDestinationTypes;return c(e,void 0,"GET")},beginAccountSignOut:function(){var e=l.accountSignoutUrl,t={__RequestVerificationToken:angular.element("[name=__RequestVerificationToken]").val()};return c(e,t,"POST")},beginAccountChangePassword:function(e){var t=l.accountChangePasswordUrl,e={currentPassword:e.currentPassword,newPassword:e.newPassword};return c(t,e,"POST")},beginAccountAddEmailAddress:function(e){var t=l.getOrUpdateEmailUrl,e={emailAddress:e.emailAddress,password:e.password};return c(t,e,"POST")},beginAccountVerifyEmailAddress:function(){var e=l.sendVerifyEmailUrl;return c(e,null,"POST")},beginGetEmail:function(){var e=l.getOrUpdateEmailUrl;return c(e,null,"GET")},beginGetPhone:function(){var e=l.accountPhone;return c(e,null,"GET")},beginAccountUpdatePhone:function(e){var t=l.accountPhone,e={countryCode:e.countryCode,prefix:e.prefix,phone:e.phone,password:e.password};return c(t,e,"POST")},beginAccountDeletePhone:function(e){var t=l.accountPhoneDelete,e={password:e.password};return c(t,e,"POST")},beginAccountResendPhoneCode:function(){var e=l.accountResendPhoneCode;return c(e,null,"POST")},beginAccountVerifyPhone:function(e){var t=l.accountVerifyPhone,e={code:e.code};return c(t,e,"POST")},beginAccountUnblockUser:function(e){e="".concat(p.EnvironmentUrls.accountSettingsApi,"/v1/users/").concat(e,"/unblock");return c(e,null,"POST")},beginAccountAskParentToVerifyAge:function(){var e=l.accountAskParentToVerifyAge;return c(e,null,"POST")},beginGetAuthenticationMetadata:function(){var e=l.authenticationMetadata;return c(e,null,"GET",!0)},beginAccountChangeUsernameV2:function(e){var t=l.accountChangeUsernameV2,e={username:e.username,password:e.password};return c(t,e,"POST")},beginGetNotificationSettings:function(){var e=l.getNotificationSettings;return c(e,null,"GET",!0)},beginUpdateNotificationSettings:function(e,t,n){var a=[],i=l.updateNotificationBandSettings;0<e.length&&a.push(c(i,{updatedSettings:e},"POST",!0));var o=l.removeDestinationTypeOptOut;angular.forEach(n,function(e){a.push(c(o,{destinationType:e},"POST",!0))});var s=l.addDestinationTypeOptOut;return angular.forEach(t,function(e){a.push(c(s,{destinationType:e},"POST",!0))}),r.all(a)},beginGetSocialConnected:function(){var e=l.connectedSocialAuthUrl;return c(e,null,"GET",!0)},beginUpdateSocialDisconnect:function(e,t){var n="".concat(l.socialAuthDomainUrl,"/").concat(e,"/disconnect"),e={};return t&&(e.password=t),c(n,e,"POST")},beginGetXboxConnection:function(){var e=l.xboxConnection;return c(e,null,"GET",!0)},beginDisconnectXbox:function(){var e=l.disconnectXbox;return c(e,null,"POST")},beginProcessErrorMessage:function(e){var t=e||"Something went wrong, please try again later.";return e&&e.errors&&e.errors[0]&&e.errors[0].message&&(t=e.errors[0].message),t},getPinErrorMessageFromCode:function(e){return o.getErrorMessageFromResponse(e)},getEmailErrorMessageFromCode:function(e){return u.getErrorMessageFromResponse(e)},getPhoneErrorMessageFromCode:function(e){return d.getErrorMessageFromResponse(e)},getBirthdateErrorMessageFromCode:function(e){return g.getErrorMessageFromResponse(e)},beginGetAccountInformationMetadata:function(){var e=l.accountInformationMetadata;return c(e,null,"GET",!0)},beginGetDescription:function(){var e=l.accountDescription;return c(e,null,"GET",!0)},beginUpdateDescription:function(e){var t=l.accountDescription;return c(t,{description:e},"POST")},beginGetBirthdate:function(){var e=l.accountBirthdate;return c(e,null,"GET",!0)},beginUpdateBirthdate:function(e,t){var n=l.accountBirthdate,t={birthDay:e.birthDay,birthMonth:e.birthMonth,birthYear:e.birthYear,password:t};return c(n,t,"POST")},beginGetGender:function(){var e=l.accountGender;return c(e,null,"GET",!0)},beginUpdateGender:function(e){var t=l.accountGender;return c(t,{gender:e},"POST")},beginGetCountry:function(){var e=l.accountCountry;return c(e,null,"GET",!0)},beginUpdateCountry:function(e){var t=l.accountCountry,e={countryId:e.country.countryId};return c(t,e,"POST")},beginGetConsumerThemes:function(){var e=l.accountConsumerThemesUrl;return c(e,null,"GET",!0)},beginSetConsumerThemes:function(e){var t=l.accountConsumerThemesUrl;return c(t,{themeType:e},"PATCH")},beginGetAvailableThemeTypes:function(){var e=l.accountAvailableThemesUrl;return c(e,null,"GET",!0)},beginGetPromotionChannels:function(){var e=l.accountPromotionChannels;return c(e,null,"GET",!0)},beginUpdatePromotionChannels:function(e){var t=l.accountPromotionChannels,e={facebook:e.FacebookUrl,twitter:e.TwitterUrl,youtube:e.YouTubeUrl,twitch:e.TwitchUrl,promotionChannelsVisibilityPrivacy:e.SocialNetworksVisibilityPrivacy};return c(t,e,"POST")},beginGetAgeRestrictedSettings:function(){var e=l.accountVoiceChatPolicyUrl,e={voiceChatPolicy:c(e,null,"GET")};return r.all(e).then(function(e){var t={};return t.isVoiceChatEnabled=e.voiceChatPolicy.isVoiceChatEnabled,t.isVerifiedForVoice=e.voiceChatPolicy.isVerifiedForVoice,t.isVoiceChatUserOptIn=e.voiceChatPolicy.isUserOptIn,t.isOptInDisabled=e.voiceChatPolicy.isOptInDisabled,t})},toggleVoiceChatEnabledSetting:function(e){var t=l.accountVoiceChatUserOptInUrl;return c(t,{isUserOptIn:e},"POST")},beginGetVisibilityPrivacy:function(){var e=l.accountVisibilityPrivacyUrl;return c(e,null,"GET").then(function(e){var t={};return t.isInvisible=e.visibilityPrivacy==a.visibilityTypes.invisible,t})},toggleVisibilityPrivacy:function(e){var t=l.accountVisibilityPrivacyUrl,n={visibilityPrivacy:e?a.visibilityTypes.invisible:a.visibilityTypes.visible};return c(t,n,"POST").then(function(){return e},function(e){return e})},beginGetContactSettings:function(){var e=l.accountAppChatPrivacy,t=l.accountGameChatPrivacy,n=l.accountPrivateMessagePrivacy,n={appChatPrivacy:c(e,null,"GET"),gameChatPrivacy:c(t,null,"GET"),privateMessagePrivacy:c(n,null,"GET")};return r.all(n).then(function(e){var t={};return t.appChatPrivacy=e.appChatPrivacy.AppChatPrivacy,t.gameChatPrivacy=e.gameChatPrivacy.GameChatPrivacy,t.privateMessagePrivacy=e.privateMessagePrivacy.PrivateMessagePrivacy,t})},beginGetAppChatPrivacy:function(){var e=l.accountAppChatPrivacy;return c(e,null,"GET",!0)},beginUpdateAppChatPrivacy:function(e){var t=l.accountAppChatPrivacy,e={AppChatPrivacy:e.AppChatPrivacy};return c(t,e,"POST")},beginGetGameChatPrivacy:function(){var e=l.accountGameChatPrivacy;return c(e,null,"GET",!0)},beginUpdateGameChatPrivacy:function(e){var t=l.accountGameChatPrivacy,e={GameChatPrivacy:e.GameChatPrivacy};return c(t,e,"POST")},beginGetPrivateMessagePrivacy:function(){var e=l.accountPrivateMessagePrivacy;return c(e,null,"GET",!0)},beginUpdatePrivateMessagePrivacy:function(e){var t=l.accountPrivateMessagePrivacy,e={PrivateMessagePrivacy:e.PrivateMessagePrivacy};return c(t,e,"POST")},beginGetPrivateServerInvitePrivacy:function(){var e=l.accountPrivateServerInvitePrivacy;return c(e,null,"GET",!0)},beginUpdatePrivateServerInvitePrivacy:function(e){var t=l.accountPrivateServerInvitePrivacy,e={PrivateServerInvitePrivacy:e.privateServerInvitePrivacy};return c(t,e,"POST")},beginGetFollowMePrivacy:function(){var e=l.accountFollowMePrivacy;return c(e,null,"GET",!0)},beginUpdateFollowMePrivacy:function(e){var t=l.accountFollowMePrivacy,e={FollowMePrivacy:e.followMePrivacy};return c(t,e,"POST")},beginGetInventoryPrivacy:function(){var e=l.accountInventoryPrivacyUrl;return c(e,null,"GET",!0)},beginUpdateInventoryPrivacy:function(e){var t=l.accountInventoryPrivacyUrl,e={inventoryPrivacy:e.inventoryPrivacy};return c(t,e,"POST")},getUpdateTradePrivacyMessageWhenConflict:function(){return n.get("Response.Dialog.UpdateTradeSetting")},beginGetTradePrivacy:function(){var e=l.accountTradePrivacyUrl;return c(e,null,"GET",!0)},beginUpdateTradePrivacy:function(e){var t=l.accountTradePrivacyUrl,e={tradePrivacy:e.tradePrivacy};return c(t,e,"POST")},getUpdateInventoryPrivacyMessageWhenConflict:function(){return n.get("Response.Dialog.UpdateInventorySetting")},beginGetTradeValue:function(){var e=l.accountTradeValueUrl;return c(e,null,"GET",!0)},beginUpdateTradeValue:function(e){var t=l.accountTradeValueUrl,e={tradeValue:e.tradeValue};return c(t,e,"POST")},beginGetAccountPinSetting:function(){var e=l.accountPinUrl;return c(e,null,"GET",!0)},beginCreateAccountPinSetting:function(e){var t=l.accountPinUrl;return c(t,{pin:e},"POST",!0)},beginDeleteAccountPinSetting:function(){var e=l.accountPinUrl;return c(e,null,"DELETE",!0)},beginUnlockAccountPinSetting:function(e){var t=l.accountPinUnlockUrl;return c(t,{pin:e},"POST",!0)},beginLockAccountPinSetting:function(){var e=l.accountPinLockUrl;return c(e,null,"POST",!0)},beginGetAccountRestrictions:function(){var e=l.accountAccountRestrictions;return c(e,null,"GET",!0)},beginUpdateAccountRestrictions:function(e){var t=l.accountAccountRestrictions;return c(t,{isEnabled:e},"POST",!0)},beginGetContentRatings:function(){var e=l.contentRatingsUrl;return c(e,null,"GET",!0)},beginUpdateContentRatings:function(e){var t=l.contentRatingsUrl,e={contentRestrictionLevel:e.ContentRatings};return c(t,e,"POST")},beginGetAccountSettingsMetadata:function(){var e=l.accountSettingsMetadataUrl;return c(e,null,"GET")},beginGetParentalSpendControls:function(){var e=l.getParentalSpendControlsUrl;return c(e,null,"GET",!0)},beginUpdateParentalSpendControls:function(e){var t=l.updateParentalSpendControlsUrl,e={monthlySpendLimitInUSD:e.MonthlySpendLimitInUSD,spendNotificationSetting:e.SpendNotificationSetting};return c(t,e,"POST")},beginUpdateNotificationFrequency:function(e){var t=l.updateParentalSpendControlsUrl,e={monthlySpendLimitInUSD:e.currentMonthlyLimit,spendNotificationSetting:e.SpendNotificationSetting};return c(t,e,"POST")},beginGetScreentimeRestrictions:function(){var e=l.restrictedHoursServiceUrl;return c(e,null,"GET",!0)},beginSaveRestrictedHours:function(e,t){var n={url:l.restrictedHoursServiceUrl,withCredentials:!0},t={timezone:e,parentalRestrictedHours:t,deviceTypes:["Computer"]};return s.httpPost(n,t)},beginGetScreentimeAuthorizationPolicy:function(){var e=l.screentimeAuthorizationPolicy;return c(e,null,"GET",!0)},beginGetScreentimeRolloutPolicy:function(){var e=l.screentimeRolloutPolicy;return c(e,null,"GET",!0)},getPaymentRecords:function(e){return c(e,null,"GET",!0)},beginGetAccountSettingsPolicy:function(){var e=l.accountSettingsPolicy;return c(e,null,"GET",!0)},getGroupsAndPolicy:function(){var e={tabsListing:c(l.getAccountSettingsGroups,void 0,"GET"),getPolicy:c(l.accountSettingsPolicy,null,"GET",!0)};return r.all(e)},sendButtonClickEvent:function(e){p.EventStream&&p.EventStream.SendEvent(a.events.formInteractionEventType,a.events.settingsCtx,{btn:e})}}}a.$inject=["$q","$log","httpService","accountConstantsResources","formFieldsMappingService","languageResource","errorMessageService"],n.Z.factory("accountsService",a),t.default=a},7500:function(e,t,n){"use strict";n.r(t);n=n(4395);function a(e,t){return{validation:{invalid:{socialMedia:t.get("Response.SocialMedia.ValidationError")}},label:{country:t.get("Label.Country"),twoStepEmail:t.get("Label.TwoStepEmail"),changeUsername:t.get("Label.ChangeYourUsername"),useDeviceLanguage:t.get("Label.UseDeviceLanguage")},tabs:{info:t.get("Heading.Tab.AccountInfo"),security:t.get("Heading.Tab.Security"),privacy:t.get("Heading.Tab.Privacy"),"parental-controls":t.get("Heading.Tab.ParentalControls"),"parental-controls-check-status":t.get("Heading.Tab.ParentalControls"),billing:t.get("Heading.Tab.Billing"),notifications:t.get("Heading.Tab.Notifications"),fastTrack:t.get("Heading.Tab.FastTrack")}}}a.$inject=["$log","languageResource"],n.Z.factory("commonConstantsService",a),t.default=a},9873:function(e,t,n){"use strict";n.r(t);n=n(4395);function a(e,t){return{changeDisplayNameLayout:{isRequestFailed:!1,isValidated:!0,isValidating:!1,modalTitle:t.get("Label.ConfigureDN"),modalCancel:t.get("Action.CancelDN"),modalSave:t.get("Action.SaveDN"),modalDescriptionWarning:t.get("Description.WarningFrequencyOfChanges"),displayErrorMsg:"",maxCharactersForDisplayName:20,minCharactersForDisplayName:3},changeDisplayNameResponse:{errorMessages:{nameContainPII:t.get("ErrorMessage.NameContainPII"),nameHasChanged:t.get("ErrorMessage.NameHasChanged"),nameInappropriate:t.get("ErrorMessage.NameInappropriate"),nameTooLong:t.get("ErrorMessage.NameTooLong"),nameTooShort:t.get("ErrorMessage.NameTooShort"),nameUnsupportedChars:t.get("ErrorMessage.NameUnsupportedChars")},errorCodeMapMsg:{1:"nameTooShort",2:"nameTooLong",3:"nameUnsupportedChars",4:"nameInappropriate",5:"nameHasChanged"}}}}a.$inject=["$log","languageResource"],n.Z.factory("displayNameLayout",a),t.default=a},906:function(e,t,n){"use strict";n.r(t);var o=n(792),n=n(4395);function a(e,t){var n=o.Intl&&new o.Intl,a=t.get,i={everyone:a("Label.DropDown.Everyone"),followers:a("Label.DropDown.Followers"),following:a("Label.DropDown.Following"),friends:a("Label.DropDown.Friends"),noOne:a("Label.DropDown.NoOne"),default:a("Label.DropDown.Default"),custom:a("Label.DropDown.Custom"),off:a("Label.DropDown.Off"),none:a("Label.DropDown.None"),high:a("Label.DropDown.High"),medium:a("Label.DropDown.Medium"),low:a("Label.DropDown.Low"),noRestrictions:a("Label.DropDown.NoRestrictions"),teen:a("Label.DropDown.Teen"),preTeen:a("Label.DropDown.PreTeen"),child:a("Label.DropDown.Child"),themes:{dark:a("Label.DarkTheme"),classic:a("Label.ClassicTheme"),light:a("Label.LightTheme")},defaultNotifications:a("Label.DefaultNotifications"),allNotifications:a("Label.AllNotifications"),offNotifications:a("Label.NotificationsOff")};return{years:[],days:[],months:t.intl.getMonthsList(),monthsI18n:n?n.getMonthsI18n("short",a("Label.Month")):t.intl.getMonthsList(),privacy:[{name:i.everyone,value:"All"},{name:i.followers,value:"Followers"},{name:i.following,value:"Following"},{name:i.friends,value:"Friends"},{name:i.noOne,value:"NoOne"}],visibility:[{name:i.everyone,value:"AllUsers"},{name:i.followers,value:"FriendsFollowingAndFollowers"},{name:i.following,value:"FriendsAndFollowing"},{name:i.friends,value:"Friends"},{name:i.noOne,value:"NoOne"}],under13Privacy:[{name:i.friends,value:"Friends"},{name:i.noOne,value:"NoOne"}],under13JoinPrivacy:[{name:i.following,value:"Following"},{name:i.friends,value:"Friends"},{name:i.noOne,value:"NoOne"}],contactSettingsConfiguration:[{name:i.default,value:"Default"},{name:i.custom,value:"Custom"},{name:i.off,value:"Off"}],messaging:[{name:i.everyone,value:"All"},{name:i.followers,value:"Followers"},{name:i.following,value:"Following"},{name:i.friends,value:"Friends"},{name:i.noOne,value:"NoOne"}],appChat:[{name:i.friends,value:"Friends"},{name:i.noOne,value:"NoOne"}],gameChat:[{name:i.everyone,value:"AllUsers"},{name:i.noOne,value:"NoOne"}],tradeValue:[{name:i.none,value:"None"},{name:i.low,value:"Low"},{name:i.medium,value:"Medium"},{name:i.high,value:"High"}],contentRatings:[{name:i.noRestrictions,value:"NoRestrictions"},{name:i.teen,value:"Teen"},{name:i.preTeen,value:"PreTeen"},{name:i.child,value:"Child"}],notificationSettings:[{name:i.defaultNotifications,value:"NotificationsOnlyOnThresholdPassed"},{name:i.allNotifications,value:"NotificationsEveryAmountSpent"}],themes:[{name:i.themes.dark,value:"Dark"},{name:i.themes.light,value:"Light"}],gender:{UNKNOWN:"1",MALE:"2",FEMALE:"3"},timeMappings:new Map,dayMappings:new Map,restrictionBeginTimes:[],restrictionEndTimes:[],daysOfWeek:[]}}a.$inject=["$log","languageResource"],n.Z.factory("formFieldsMappingService",a),t.default=a},2138:function(e,t,n){"use strict";n.r(t);var r=n(792),c=n(4720),n=n(4395);function a(e,t,n){var a=r.EnvironmentUrls.websiteUrl,i=r.EnvironmentUrls.apiGatewayUrl,o="".concat(i,"/identity-verification-service/v1/korea/start-verification"),s="".concat(i,"/identity-verification-service/v1/korea/get-verification-result");return{formPostHelper:function(e,n,t){var t=2<arguments.length&&void 0!==t?t:"post",a=document.createElement("form");return a.method=t,a.action=e,Object.keys(n).forEach(function(e){var t;Object.prototype.hasOwnProperty.call(n,e)&&((t=document.createElement("input")).type="hidden",t.name=e,t.value=n[e],a.appendChild(t))}),a},beginStartKoreaIdVerification:function(e){var t={withCredentials:!0,url:o},e={method:e,callbackUrl:c.urlService.resolveUrl(a,"/my/account#!/parental-controls/check-status")};return c.httpService.post(t,e)},beginGetKoreaIdVerificationResult:function(e,t){var n={withCredentials:!0,url:s},e={method:t,mdlToken:e};return c.httpService.post(n,e)}}}a.$inject=["$log","languageResource","screentimeConstantsService"],n.Z.factory("koreaIdVerificationService",a),t.default=a},5809:function(e,t,n){"use strict";n.r(t);n=n(4395);function a(e,t){var n=e,e=t.createErrorMapper({4:n.get("Response.InvalidPassword")},n.get("Message.Error.Default")),t=t.createErrorMapper({6:n.get("MessageTooManyAttemptsError")},n.get("Response.Dialog.DefaultErrorTitle"));return{default:{positiveBtnText:n.get("Action.Dialog.Yes"),negativeBtnText:n.get("Action.Dialog.No"),submitButtonText:n.get("Action.Dialog.Success"),success:{title:n.get("Heading.Dialog.DefaultSuccess"),body:n.get("Response.Dialog.DefaultSuccessMessage")},error:{title:n.get("Heading.Dialog.DefaultError"),body:n.get("Response.Dialog.DefaultErrorMessage")},errorMessage:n.get("Response.Dialog.DefaultErrorTitle")},secureSignOut:{success:{body:n.get("Response.Dialog.SignoutSessionsConfirmation")},error:{body:n.get("Response.Dialog.SignoutSessionFailed")}},disconnectXbox:{error:{body:n.get("Response.Dialog.DisconnectXBoxError")}},updateNotificationSettings:{error:{body:n.get("Response.Dialog.UpdateNotificationSettingsError")}},twoStepVerification:{success:{title:n.get("Response.Dialog.TwoStepSuccessTitle"),titleIcon:"icon-like",body:n.get("Response.Dialog.TwoStepSucessBody")},disabling:{title:n.get("Response.Dialog.Warning"),body:n.get("Response.Dialog.TwoStepDisableWarning")},missingEmail:n.get("Description.Dialog.MissingEmailTwoStepVerification"),unverifiedEmail:n.get("Description.Dialog.UnverifiedEmailTwoStepVerification")},birthdayChange:{default:{title:n.get("Response.Dialog.Warning"),body:n.get("Response.Dialog.BirthdayChangeDefaultWarning")},withSocialSignOn:{body:n.get("Response.Dialog.BirthdayChangeSocialWarning"),positiveBtnText:n.get("Action.SuccessDialogButtonText"),negativeBtnText:n.get("Action.Dialog.Cancel")},needPassword:{title:n.get("Response.Dialog.BirthdayChangePasswordTitle"),body:n.get("Response.Dialog.BirthdayChangePasswordBody")}},emailSet:{emailRequiredMessage:n.get("Label.Dialog.EmailRequired"),emailSetSuccessMessage:n.get("Label.Dialog.EmailAddressChanged"),invalidEmailAddressMessage:n.get("Response.Dialog.InvalidEmailAddress"),addEmailU13Label:n.get("Label.Dialog.AddEmailUnder13"),addEmailO13Label:n.get("Label.Dialog.AddEmailOver13"),addEmailLabel:n.get("Action.Dialog.AddEmail"),changeEmailU13Label:n.get("Label.Dialog.ChangeEmailUnder13"),changeEmailO13Label:n.get("Label.Dialog.ChangeEmailOver13"),changeEmailLabel:n.get("Action.Dialog.ChangeEmail")},phoneSet:{addActionLabel:n.get("Action.Dialog.AddPhone"),editActionLabel:n.get("Action.Dialog.EditPhonePrimary"),updateSuccessMessage:n.get("Response.NotificationBar.PhoneVerifyConfirmation"),deleteSuccessMessage:n.get("Response.NotificationBar.PhoneRemovedConfirmation"),countryListErrorMessage:n.get("Response.Dialog.CountryListError"),getMessageFromResendCodeError:t.getErrorMessageFromResponse},passwordSet:{changePasswordMessage:n.get("Heading.Dialog.ChangePassword"),addPasswordMessage:n.get("Heading.Dialog.AddPassword"),matchErrorMessage:n.get("Response.Dialog.ChangePasswordNoMatch"),changePasswordSuccess:n.get("Heading.Dialog.ChangePasswordSuccess")},passwordChange:{tooManyRequests:n.get("MessageTooManyAttemptsError"),invalidPassword:n.get("Response.Dialog.PasswordRulesError"),invalidCurrentPassword:n.get("Response.Dialog.ChangePasswordIncorrectPassword"),pinLocked:n.get("MessagePinLockedError")},pinCreate:{matchErrorMessage:n.get("Response.Dialog.PinCreateMismatch"),missingEmail:n.get("Description.Dialog.MissingEmailAccountPin"),unverifiedEmail:n.get("Description.Dialog.UnverifiedEmailAccountPin")},changeUsername:{missingEmail:n.get("Description.Dialog.MissingEmailUsername"),unverifiedEmail:n.get("Description.Dialog.UnverifiedEmailUsername"),changeUsernameBuy:n.get("Action.Dialog.ChangeUsernameBuy"),changeUsernameMessage:function(e){return n.get("Description.Dialog.InsufficientFundsWarning",e)},changeUsernameTitle:n.get("Heading.Dialog.InsufficientFunds"),error:{notProvided:n.get("Response.Dialog.ChangeUsernameNoInput"),notAvailable:n.get("Response.Dialog.ChangeUsernameNotAvailable"),notAllowed:n.get("Response.Dialog.ChangeUsernameNotAllowed")}},socialDisconnect:{unlinkTitle:function(e){return n.get("Heading.Unlink",{provider:e})},getMessageFromError:e.getErrorMessageFromResponse},screentime:{saveRestrictions:{error:{blockedTimesWrongOrder:n.get("Response.Dialog.BlockedTimesWrongOrder"),missingDaySelection:n.get("Response.Dialog.MissingDaySelection"),atLeastOneHourAllowed:n.get("Response.Dialog.AtLeastOneHourAllowed"),under18IDVerified:n.get("Response.Dialog.Under18IDVerified")}},updatedTimezone:{success:{body:n.get("Response.Dialog.TimezoneUpdateSuccess")},error:{body:n.get("Response.Dialog.TimezoneUpdateError")}}}}}a.$inject=["languageResource","errorMessageService"],n.Z.factory("modalConstantsService",a),t.default=a},816:function(e,t,n){"use strict";n.r(t);n=n(4395);function a(e,t){return{notificationSourceTypeMapping:{FriendRequestReceived:t.get("Label.Notifications.FriendRequestReceived"),FriendRequestAccepted:t.get("Label.Notifications.FriendRequestAccepted"),PartyInviteReceived:t.get("Label.Notifications.PartyInvited"),PartyMemberJoined:t.get("Label.Notifications.PartyJoined"),ChatNewMessage:t.get("Label.Notifications.Chat"),PrivateMessageReceived:t.get("Label.Notifications.PrivateMessage"),UserAddedToPrivateServerWhiteList:t.get("Label.Notifications.AddedToServer"),ConversationUniverseChanged:t.get("Label.Notifications.ConversationUniverseChanged"),TeamCreateInvite:t.get("Label.Notifications.TeamCreateInvite"),GameUpdate:t.get("Label.Notifications.GameUpdate"),DeveloperMetricsAvailable:t.get("Label.Notifications.DeveloperMetricsAvailable"),GroupJoinRequestAccepted:t.get("Label.Notifications.GroupJoinRequestAccepted")},destinationTypes:["NotificationStream","DesktopPush","MobilePush"],modalText:{success:{title:t.get("Heading.Dialog.DefaultSuccess"),body:t.get("Response.Dialog.DefaultSuccessMessage")},error:{title:t.get("Heading.Dialog.DefaultError"),body:t.get("Response.Dialog.UpdateNotificationSettingsError")}},receiverDestinationTypeMapping:[{destinationType:"NotificationStream",friendlyTitle:t.get("Heading.Notifications.Stream"),blurbText:t.get("Description.NotificationStream1"),actionWhenText:t.get("Heading.Notifications.ActionWhen"),actionDescriptionText:t.get("Description.NotificationStream2"),areSourcesShown:!0,isToggleable:function(){return!1}},{destinationType:"DesktopPush",friendlyTitle:t.get("Heading.Notifications.DesktopPush"),blurbText:t.get("Description.DesktopPush1"),secondaryBlurbText:t.get("Description.DesktopPush2"),actionWhenText:t.get("Heading.Notifications.ActionWhen"),actionDescriptionText:t.get("Description.DesktopPush3")},{destinationType:"MobilePush",friendlyTitle:t.get("Heading.Notifications.MobilePush"),blurbText:t.get("Description.MobilePush1"),actionWhenText:"",areSourcesShown:!0,actionDescriptionText:t.get("Description.MobilePush2")}]}}a.$inject=["$log","languageResource"],n.Z.factory("notificationConstantsService",a),t.default=a},5210:function(e,t,n){"use strict";n.r(t);var a=n(292),i=n(792),n=n(4395);function o(e,t){function o(e){var t=new Date(e),t=(e=[t.getHours(),t.getMinutes()])[0],e=e[1];return(t<10?"0"+t:t)+":"+(e<10?"0"+e:e)+":00"}function r(e,t){for(var n=[e],e=new Date(c.arbitraryDate+e).getTime(),a=new Date(c.arbitraryDate+t).getTime(),i=e+c.thirtyMinutesInMs;i<a;i+=c.thirtyMinutesInMs)n.push(o(i));return n.push(t),n}var s=i.Intl&&new i.Intl,t=t,c={thirtyMinutesInMs:18e5,oneHourInMs:36e5,twentyThreeHoursInMs:828e5,arbitraryDate:"01/01/2000 ",zeroHourTimestamp:"00:00:00",twentyFourHourTimestamp:"24:00:00",elevenThirtyPmTimestamp:"23:30:00",elevenPmTimestamp:"23:00:00"},n={MDL_TOKEN:"mdlTkn",METHOD:"method",PARENTAL_RESTRICTED_HOURS:"parentalRestrictedHours",PARENTAL_TIME_ZONE:"parentalTimeZone",UPDATED_TIME_ZONE:"updatedTimeZone"};return{defaultRestriction:{begin:"00:00:00",end:"06:00:00",days:[0,1,2,3,4,5,6]},dropdownText:{everyday:t.get("Label.Everyday"),every:t.get("Label.Every")},verificationOptions:[{label:t.get("Action.BankAccount"),value:"card"},{label:t.get("Action.Phone"),value:"phone"},{label:t.get("Action.IPIN"),value:"ipin"}],dateTimes:c,generateTimestamp:o,localStorageConstants:n,generateTimeMappings:function(){for(var e=new Map,t=r(c.zeroHourTimestamp,c.twentyFourHourTimestamp),n=0;n<t.length;n++){var a=t[n],i=s.getDateTimeFormatter().getCustomDateTime(new Date(c.arbitraryDate+a),{timeStyle:"short"});e.set(a,i)}return e.set(c.twentyFourHourTimestamp,e.get(c.zeroHourTimestamp)),e},generateDayMappings:function(e){var t=new Map;t.set(0,e[6].name);for(var n=0;n<6;n++)t.set(e[n].value,e[n].name);return t},generateRestrictionBeginTimes:function(t,e){for(var n=1<arguments.length&&void 0!==e?e:[],a=[],i=new Set,o=0;o<n.length;o++){var s=n[o],s=r(s.begin,s.end);s.pop(),s.forEach(function(e){return i.add(e)})}return r(c.zeroHourTimestamp,c.elevenThirtyPmTimestamp).forEach(function(e){i.has(e)||a.push({timestamp:e,name:t.get(e)})}),a},generateRestrictionEndTimes:function(t,e){for(var n=1<arguments.length&&void 0!==e?e:[],a=[],i=new Set,o=0;o<n.length;o++){var s=n[o],s=r(s.begin,s.end);s.splice(0,1),s.forEach(function(e){return i.add(e)})}return r("00:30:00",c.twentyFourHourTimestamp).forEach(function(e){i.has(e)||a.push({timestamp:e,name:t.get(e)})}),a},localStorageCleanUp:function(e){var t,e=0<arguments.length&&void 0!==e?e:[];for(t in 0<e.length?e:n)a.localStorageService.removeLocalStorage(n[t])}}}o.$inject=["$log","languageResource"],n.Z.factory("screentimeConstantsService",o),t.default=o},7181:function(e,t,n){"use strict";n.r(t);var c=n(792),l=n(957),a=n(4395),d=n(7849);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(t,o,e,i,n,a){var s=null,r=e.createErrorMapper((u(e={},d.default.errorCodes.internal.tooManyRequests,n.get("Message.Error.TooManyRequests")),u(e,d.default.errorCodes.internal.invalidEmail,n.get("Message.Error.NoVerifiedEmail")),u(e,d.default.errorCodes.internal.invalidPassword,n.get("Message.Error.Email.IncorrectPassword")),u(e,d.default.errorCodes.internal.featureDisabled,n.get("Response.FeatureDisabled")),u(e,d.default.errorCodes.internal.pinLocked,n.get("Message.Error.Email.PinLocked")),u(e,d.default.errorCodes.internal.invalidSetupToken,n.get("Response.Dialog.AuthenticatorSessionExpired")),u(e,d.default.errorCodes.internal.invalidCode,n.get("Response.Dialog.InvalidCodeError")),e),n.get("Message.Error.Default"));return{getMetadata:function(){return t(function(t,n){s?t(s):o.httpGet({url:"".concat(c.EnvironmentUrls.twoStepVerificationApi,"/v1/metadata")}).then(function(e){t(s=e)}).catch(function(e){e=o.getPrimaryApiErrorCode(e,d.default.errorCodes.api);n({code:e,message:r.getErrorMessage(e)})})})},getTwoStepVerificationConfiguration:function(){return t(function(t,n){o.httpGet({url:"".concat(c.EnvironmentUrls.twoStepVerificationApi,"/v1/users/").concat(l.authenticatedUser.id,"/configuration")}).then(function(e){t(e)}).catch(function(e){e=o.getPrimaryApiErrorCode(e,d.default.errorCodes.api);n({code:e,message:r.getErrorMessage(e)})})})},enableEmailTwoStepVerification:function(n){return t(function(e,t){o.httpPost({url:"".concat(c.EnvironmentUrls.twoStepVerificationApi,"/v1/users/").concat(l.authenticatedUser.id,"/configuration/email/enable")},{password:n}).then(function(){e()}).catch(function(e){e=o.getPrimaryApiErrorCode(e,d.default.errorCodes.api);t({code:e,message:r.getErrorMessage(e)})})})},enableAuthenticator:function(n){return t(function(e,t){o.httpPost({url:"".concat(c.EnvironmentUrls.twoStepVerificationApi,"/v1/users/").concat(l.authenticatedUser.id,"/configuration/authenticator/enable")},{password:n}).then(e).catch(function(e){e=o.getPrimaryApiErrorCode(e,d.default.errorCodes.api);t({code:e,message:r.getErrorMessage(e)})})})},enableVerifyAuthenticator:function(e,a,i){return t(function(t,n){o.httpPost({url:"".concat(c.EnvironmentUrls.twoStepVerificationApi,"/v1/users/").concat(l.authenticatedUser.id,"/configuration/authenticator/enable-verify")},{setupToken:e,code:a,password:i}).then(function(){t()}).catch(function(e){e=o.getPrimaryApiErrorCode(e,d.default.errorCodes.api);e===d.default.errorCodes.internal.alreadyEnabled?t():n({code:e,message:r.getErrorMessage(e)})})})},disableTwoStepVerification:function(a,i){return t(function(e,t){if(i){var n={};switch(a){case d.default.mediaTypes.Email:n.url="".concat(c.EnvironmentUrls.twoStepVerificationApi,"/v1/users/").concat(l.authenticatedUser.id,"/configuration/email/disable");break;case d.default.mediaTypes.Authenticator:n.url="".concat(c.EnvironmentUrls.twoStepVerificationApi,"/v1/users/").concat(l.authenticatedUser.id,"/configuration/authenticator/disable");break;default:t(d.default.errorCodes.internal.invalidMediaType)}o.httpPost(n,{password:i}).then(function(){e()}).catch(function(e){e=o.getPrimaryApiErrorCode(e,d.default.errorCodes.api);t({code:e,message:r.getErrorMessage(e)})})}else t(d.default.errorCodes.internal.invalidPassword)})},getRecoveryCodesStatus:function(){return t(function(t,n){o.httpGet({url:"".concat(c.EnvironmentUrls.twoStepVerificationApi,"/v1/users/").concat(l.authenticatedUser.id,"/recovery-codes")}).then(function(e){t(e)}).catch(function(e){e=o.getPrimaryApiErrorCode(e,d.default.errorCodes.api);n({code:e,message:r.getErrorMessage(e)})})})},generateRecoveryCodes:function(e){return t(function(t,n){e?o.httpPost({url:"".concat(c.EnvironmentUrls.twoStepVerificationApi,"/v1/users/").concat(l.authenticatedUser.id,"/recovery-codes/regenerate")},{password:e}).then(function(e){t(e.recoveryCodes)}).catch(function(e){e=o.getPrimaryApiErrorCode(e,d.default.errorCodes.api);n({code:e,message:r.getErrorMessage(e)})}):n(d.default.errorCodes.internal.invalidPassword)})},getStatusSpendFriction:function(){return t(function(t,n){o.httpGet({url:"".concat(c.EnvironmentUrls.economyApi,"/v2/spend-friction/two-step-verification/status")},{}).then(function(e){t(e)}).catch(function(e){e=o.getPrimaryApiErrorCode(e,d.default.errorCodes.api);n({code:e,message:r.getErrorMessage(e)})})})},getStatusTradeFriction:function(){return t(function(t,n){o.httpGet({url:"".concat(c.EnvironmentUrls.tradesApi,"/v1/trade-friction/two-step-verification/status")},{}).then(function(e){t(e)}).catch(function(e){e=o.getPrimaryApiErrorCode(e,d.default.errorCodes.api);n({code:e,message:r.getErrorMessage(e)})})})},generateChallengeForSpend:function(){return t(function(t,n){o.httpPost({url:"".concat(c.EnvironmentUrls.economyApi,"/v2/spend-friction/two-step-verification/generate")},{}).then(function(e){t(e)}).catch(function(e){e=o.getPrimaryApiErrorCode(e,d.default.errorCodes.api);n({code:e,message:r.getErrorMessage(e)})})})},generateChallengeForTrade:function(){return t(function(t,n){o.httpPost({url:"".concat(c.EnvironmentUrls.tradesApi,"/v1/trade-friction/two-step-verification/generate")},{}).then(function(e){t(e)}).catch(function(e){e=o.getPrimaryApiErrorCode(e,d.default.errorCodes.api);n({code:e,message:r.getErrorMessage(e)})})})},verifyChallengeCode:function(e,a){return t(function(t,n){o.httpPost({url:"".concat(c.EnvironmentUrls.twoStepVerificationApi,"/v1/users/").concat(l.authenticatedUser.id,"/challenges/email/verify")},{challengeId:e,actionType:i.actionTypes.robuxSpend,code:a}).then(function(e){t(e.verificationToken)}).catch(function(e){e=o.getPrimaryApiErrorCode(e,d.default.errorCodes.api);n({code:e,message:r.getErrorMessage(e)})})})},resendEmailCode:function(n){return t(function(e,t){o.httpPost({url:"".concat(c.EnvironmentUrls.twoStepVerificationApi,"/v1/users/").concat(l.authenticatedUser.id,"/challenges/email/send-code")},{challengeId:n,actionType:i.actionTypes.robuxSpend}).then(function(){e()}).catch(function(e){e=o.getPrimaryApiErrorCode(e,d.default.errorCodes.api);t({code:e,message:r.getErrorMessage(e)})})})},redeemVerificationChallengeForSpend:function(e,a){return t(function(t,n){o.httpPost({url:"".concat(c.EnvironmentUrls.economyApi,"/v2/spend-friction/two-step-verification/redeem")},{challengeToken:e,verificationToken:a}).then(function(e){t(e)}).catch(function(e){e=o.getPrimaryApiErrorCode(e,d.default.errorCodes.api);n({code:e,message:r.getErrorMessage(e)})})})},redeemVerificationChallengeForTrade:function(e,a){return t(function(t,n){o.httpPost({url:"".concat(c.EnvironmentUrls.tradesApi,"/v1/trade-friction/two-step-verification/redeem")},{challengeToken:e,verificationToken:a}).then(function(e){t(e)}).catch(function(e){e=o.getPrimaryApiErrorCode(e,d.default.errorCodes.api);n({code:e,message:r.getErrorMessage(e)})})})},sendFrictionEvent:function(e){c.EventStream&&c.EventStream.SendEvent&&c.EventStream.SendEvent(i.events.frictionEventType,i.events.twoStepVerificationCtx,{btn:e})}}}i.$inject=["$q","httpService","errorMessageService","robuxSpendTwoStepResources","languageResource","systemFeedbackService"],a.Z.factory("twoStepVerificationService",i),t.default=i},8514:function(e,t,n){"use strict";n.r(t);var a=n(792),n=n(4395);function i(e,t,n){return{updateDisplayName:function(e,t){e={url:"".concat(a.EnvironmentUrls.usersApi,"/v1/users/").concat(e,"/display-names"),withCredentials:!0},t={newDisplayName:t};return n.httpPatch(e,t)},validateDisplayName:function(e,t){t={url:"".concat(a.EnvironmentUrls.usersApi,"/v1/users/").concat(e,"/display-names/validate?displayName=").concat(t),withCredentials:!0};return n.httpGet(t)}}}i.$inject=["$q","$log","httpService"],n.Z.factory("usersService",i),t.default=i},726:function(e){function o(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function s(e){return e.split("/").pop().replace(".html","")}var t={importFilesUnderPath:function(e){e.keys().forEach(e)},templateCacheGenerator:function(e,t,a,i){return e.module(t,[]).run(["$templateCache",function(n){a&&a.keys().forEach(function(e){var t=o(s(e));n.put(t,a(e))}),i&&i.keys().forEach(function(e){var t=o(s(e));n.put(t,i(e).replace(/<\/?script[^>]*>/gi,""))})}])}};e.exports=t},7549:function(e){e.exports='<div class="section"> <div class="container-header"> <h3 ng-bind="\'Heading.TwoStepVerification\' | translate"></h3> </div> <div class="container-header" ng-if="!$ctrl.layout.loading && !$ctrl.layout.loadError"> <div class="text-description text-new-line" ng-bind="\'Label.TwoStepVerificationDescription\' | translate"></div> </div> <div class="container-header wrapper" ng-if="$ctrl.areBothEmailAndAuthenticatorEnabled() && $ctrl.showEmailWarning"> <div class="icon-warning icon-location"></div> <div class="text-error" ng-bind="\'Label.TwoStepVerificationEmailWarning\' | translate"></div> </div> <div class="container-header robux-spend-verification" ng-if="$ctrl.layout.showRobuxSpendTwoStepVerificationContainer"> <span class="icon-warning"></span> <span class="text-description" ng-bind="\'Message.RobuxSpendTwoStepVerificationMessage\' | translate"> </span> <button id="robux-spend-verify" class="btn-control-sm acct-settings-btn" ng-click="$ctrl.robuxSpendVerifyChallenge()" ng-bind="\'Action.Verify\' | translate"></button> <span id="2sv-popup-container"></span> </div> <div class="container-header robux-spend-verification" ng-if="$ctrl.layout.showItemTradeTwoStepVerificationContainer"> <span class="icon-warning"></span> <span class="text-description" ng-bind="\'Message.ItemTradeTwoStepVerificationMessage\' | translate"> </span> <button id="robux-spend-verify" class="btn-control-sm acct-settings-btn" ng-click="$ctrl.itemTradeVerifyChallenge()" ng-bind="\'Action.Verify\' | translate"></button> <span id="2sv-popup-container"></span> </div> <div class="container-header" ng-if="$ctrl.layout.loading"> <div class="loading spinner spinner-default"></div> </div> <div class="section-content-off" ng-if="$ctrl.layout.loadError" ng-bind="$ctrl.layout.loadError"></div> <div ng-if="!$ctrl.layout.loading && !$ctrl.layout.loadError"> <div class="section-content notifications-section" ng-show="$ctrl.metadata.authenticatorEnabled"> <button id="2sv-authenticator-toggle" class="btn-toggle receiver-destination-type-toggle" ng-click="$ctrl.toggleTwoStepVerification($ctrl.mediaTypes.Authenticator)" ng-class="{\'on\': $ctrl.isMediaTypeEnabled($ctrl.mediaTypes.Authenticator) }"> <span class="toggle-flip"></span> <span id="toggle-on" class="toggle-on"></span> <span id="toggle-off" class="toggle-off"></span> </button> <div class="security-2svsetting-label btn-toggle-label"> <div class="btn-toggle-label" ng-bind="\'Label.AuthenticatorTwoStepVerificationCodes\' | translate"></div> <div class="rbx-divider"></div> <div class="text-description" ng-bind-html="\'Label.AuthenticatorDisabledHelp\' | translate: $ctrl.authenticatorDisabledHelp" ng-hide="$ctrl.isMediaTypeEnabled($ctrl.mediaTypes.Authenticator)"></div> <div class="text-description" ng-bind="\'Label.AuthenticatorHelpText\' | translate" ng-show="$ctrl.isMediaTypeEnabled($ctrl.mediaTypes.Authenticator)"> </div> </div> </div> <div class="section-content notifications-section"> <button id="2sv-toggle" class="btn-toggle receiver-destination-type-toggle" ng-click="$ctrl.toggleTwoStepVerification($ctrl.mediaTypes.Email)" ng-class="{\'on\': $ctrl.isMediaTypeEnabled($ctrl.mediaTypes.Email) }"> <span class="toggle-flip"></span> <span id="toggle-on" class="toggle-on"></span> <span id="toggle-off" class="toggle-off"></span> </button> <div class="security-2svsetting-label btn-toggle-label"> <div class="btn-toggle-label" ng-bind="\'Label.EmailTwoStepVerificationCodes\' | translate"></div> <div class="rbx-divider"></div> <div class="text-description" ng-bind="\'Label.TwoStepPrerequisite\' | translate" ng-hide="$ctrl.isMediaTypeEnabled($ctrl.mediaTypes.Email)"></div> <div class="text-description" ng-bind="\'Description.TwoStepverificationSecondaryEnabled\' | translate: {email: $ctrl.email}" ng-show="$ctrl.isMediaTypeEnabled($ctrl.mediaTypes.Email)"> </div> </div> </div> <div class="section-content notifications-section" ng-show="$ctrl.shouldShowRecoveryCodesSection()"> <button type="button" id="generate-recovery-codes" class="btn-control-sm acct-settings-btn" ng-click="$ctrl.generateRecoveryCodes(false)" ng-bind="\'Action.Generate\' | translate"></button> <div class="security-2svsetting-label btn-toggle-label"> <div class="btn-toggle-label" ng-bind="\'Label.GenerateRecoveryCodes\' | translate" ng-show="$ctrl.recoveryCodeCreated == null"></div> <div class="btn-toggle-label-new-codes" ng-show="$ctrl.recoveryCodeCreated != null"> <div class="label-new-codes" ng-bind="\'Label.GenerateNewRecoveryCodes\' | translate"></div> <div class="text-number-of-remaining-codes"> <span class="small text" ng-bind="\'Label.UnusedRecoveryCodes\' | translate: { activeCodeCount: $ctrl.activeRecoveryCodeCount }"></span> </div> </div> <div class="rbx-divider"></div> <div class="text-description" ng-bind="\'Label.RecoveryCodesHelpText\' | translate"> </div> </div> </div> </div> </div>'},7986:function(e){e.exports='<div> <div class="section"> <div class="container-header"> <h3 ng-bind="\'Heading.Billing\' | translate"></h3> </div> <div class="section-content remove-panel settings-billing-container"> <div class="row"> <div class="col-xs-12 col-sm-9"> <div class="form-group membership-status-container"> <label class="text-label account-settings-label" ng-bind="\'Heading.MembershipStatus\' | translate"></label> <div ng-show="isAnyMembership()"> <p class="membership-premium" ng-if="accountContent.userInfo.data.isPremiumUser" ng-bind="accountContent.userInfo.data.subscriptionTypeName"> </p> </div> <p ng-hide="isAnyMembership()" ng-bind="\'Description.MembershipStatusRobloxPremium\' | translate"> </p> </div> <div class="form-group renew-date-container"> <label class="text-label account-settings-label" ng-show="isAnyMembership()" ng-if="isMembershipRenewal()" ng-bind="\'Label.RenevalDate\' | translate"></label> <label class="text-label account-settings-label" ng-show="isAnyMembership()" ng-if="!isMembershipRenewal()" ng-bind="\'Label.ExpirationDate\' | translate"></label> <p> <span class="text-robux membership-period" ng-show="accountContent.userInfo.data.isPremiumUser"> <span class="membership-days" ng-if="accountContent.userInfo.data.subscriptionRenewal" ng-bind-html="\'Label.RenevalDateMessage\' | translate:{expirationDate: accountContent.userInfo.data.subscriptionRenewal, startSpan: \'<span class=membership-expires>\', endSpan:\'</span>\' }"></span> <span class="membership-days" ng-if="!accountContent.userInfo.data.subscriptionRenewal" ng-bind-html="\'Label.ExpirationDateMessage\' | translate:{expirationDate: accountContent.userInfo.data.subscriptionExpiration, startSpan: \'<span class=membership-expires>\', endSpan:\'</span>\' }"></span> </span> </p> </div> <div class="form-group membership-update-container"> <a id="UpgradeMembership" class="btn-primary-sm acct-upgrade-membership" ng-href="{{accountData.stateProperties.upgradeMemberShipUrl}}" ng-if="!isAnyMembership()" ng-bind="\'Action.Join\' | translate"></a> <a id="CancelRenewal" class="btn-control-sm acct-cancel-renewal" ng-href="{{accountData.stateProperties.cancelRenewalUrl}}" ng-mouseup="handleCancelBtnClicked()" ng-show="isMembershipRenewal() && !accountData.stateProperties.inApp" ng-bind="\'Action.CancelRenewal\' | translate"></a> </div> <div ng-if="accountData.stateProperties.isRobloxCreditEnabled == \'true\'"> <div id="roblox-credit-container" class="roblox-credit-container"></div> </div> <div class="membership-info"> <span ng-bind-html="\'Label.BillingHelpWithLink\' | translate:{aTagStartWithHref: \'<a href=\', billingHelpPagesLink: \'https://en.help.roblox.com/hc/categories/200213820\', hrefEnd: \' class=text-name>\', aTagEnd: \'</a>\' }"></span> </div> </div> <div class="col-xs-12"> <p class="text-pastname" ng-show="isMembershipRenewal() && accountData.stateProperties.inApp" ng-bind="\'Description.RenevalFromWebsiteOnly\' | translate"></p> </div> </div> </div> </div> </div>'},1762:function(e){e.exports='<div> <div class="section description-section"> <div class="container-header"> <h3 ng-bind="\'Heading.FastTrack\' | translate"></h3> </div> <div class="section-content accuracy-section"> <p ng-bind="\'Description.FastTrack\' | translate"></p> </div> </div> <div class="section"> <div class="container-header"> <h3 ng-bind="\'Label.FastTrack.Statistics\' | translate"></h3> </div> <div class="section-content accuracy-section"> <div class="col-sm-12"> <h4 ng-bind="\'Label.FastTrack.Accuracy\' | translate"></h4> <span class="tooltip-container" tooltip-placement="bottom-right" uib-tooltip="{{ \'Description.HelpText.FastTrack.Accuracy\' | translate }}"> <span class="icon-moreinfo"></span> </span> <table class="table table-striped"> <thead> <tr> <th><label class="text-label account-settings-label" ng-bind="\'Label.FastTrack.You\' | translate"></label></th> <th><label class="text-label account-settings-label" ng-bind="\'Label.FastTrack.AllFastTrackMembers\' | translate"></label></th> <th><label class="text-label account-settings-label" ng-bind="\'Label.FastTrack.ReportMonth\' | translate"></label></th> <th><label class="text-label account-settings-label" ng-bind="\'Label.FastTrack.ReportYear\' | translate"></label></th> </tr> </thead> <tbody> <tr ng-repeat="timePeriod in accountContent.userInfo.data.FastTrackMember.TimePeriods"> <td>{{ percentTranslator(timePeriod.IndividualGoodReportPercentage) }}</td> <td>{{ percentTranslator(timePeriod.EveryoneGoodReportPercentage) }}</td> <td>{{ dateMonthTranslator(timePeriod.DateTimeMs) }}</td> <td>{{ dateYearTranslator(timePeriod.DateTimeMs) }}</td> </tr> </table> </div> </div> </div> </div>'},4919:function(e){e.exports='<div> <div class="section"> <div class="container-header"> <h3 ng-bind="\'Heading.AccountInfo\' | translate" id="rbx-account-info-header"></h3> </div> <div ng-if="accountSettingsPolicy.displayIdentityVerification" id="id-verification-container" entry="AccountSettings"> <div id-verification-container></div> </div> <div class="section-content remove-panel settings-account-info-container"> <div class="col-sm-12"> <div ng-if="accountContent.userInfo.data.IsDisplayNamesEnabled" class="form-group" ng-controller="displayNameController"> <span class="text-label account-settings-label" ng-model="accountContent.userInfo.data.DisplayName" ng-bind="\'Label.DisplayName\' | translate"></span> <span class="account-field-displayname">{{ accountContent.userInfo.data.DisplayName }}</span> <span class="account-change-displayname icon-edit" title="{{ \'Label.ConfigureDN\' | translate }}" ng-click="changeDisplayName()" ng-cloak></span> </div> <div class="form-group"> <span class="text-label account-settings-label" ng-bind="\'Label.Username\' | translate"></span> <span class="account-field-username">{{ accountContent.userInfo.data.Name }}</span> <span class="account-change-username icon-edit" title="{{ \'Description.HoverText.ChangeUsername\' | translate }}" ng-click="changeUsername()" ng-if="accountSettingsPolicy.displayChangeUsername" ng-cloak></span> </div> <div ng-if="accountSettingsPolicy.displayPasswordRow" class="form-group"> <span class="text-label account-settings-label" ng-bind="\'Label.Password\' | translate"></span> <span class="account-field-password" ng-hide="accountContent.userInfo.data.IsSetPasswordNotificationEnabled">*******</span> <span class="account-field-password-needed" ng-show="accountContent.userInfo.data.IsSetPasswordNotificationEnabled"> <span class="icon-warning"></span> {{ \'Label.AddPassword\' | translate }} </span> <span class="account-change-password icon-edit" title="{{ \'Description.HoverText.ChangePassword\' | translate }}" ng-hide="accountContent.userInfo.data.IsSetPasswordNotificationEnabled" ng-if="accountSettingsPolicy.displayChangePassword" ng-click="setPassword()" ng-cloak></span> <span class="account-change-password icon-edit" title="{{ \'Label.AddPassword\' | translate }}" ng-show="accountContent.userInfo.data.IsSetPasswordNotificationEnabled" ng-click="setPassword()"></span> </div> <div class="form-group" ng-show="accountContent.userInfo.data.PreviousUserNames != \'\'"> <span class="account-previous-usernames"> {{ \'Label.PreviousUsernames\' | translate }} <span class="account-previous-username-list">{{\n                            accountContent.userInfo.data.PreviousUserNames }}</span> </span> </div> <div class="form-group" ng-if="accountSettingsPolicy.displayPhoneNumber && accountInfoSettings.isPhoneNumberVisible" ng-cloak> <span class="text-label account-settings-label" ng-bind="\'Label.Phone\' | translate"></span> <span class="account-field-phone">{{ accountInfoSettings.phone }}</span> <span ng-show="accountInfoSettings.isPhoneVerified"> <span class="account-field-verified-icon icon-checkmark-16x16" ng-show="accountInfoSettings.isPhoneVerified"></span> <span class="text-robux account-field-phone-verified-text" ng-show="accountInfoSettings.isPhoneVerified" ng-bind="\'Label.Verified\' | translate"></span> </span> <span class="account-field-phone-add-msg text-error" ng-hide="accountInfoSettings.isPhoneVerified"> <span class="icon-warning"></span> {{ \'Label.AddPhone\' | translate }} </span> <span class="account-field-phone-add-phone text-name" ng-click="addPhone()" ng-hide="accountInfoSettings.isPhoneVerified" ng-bind="\'Label.AddPhoneLink\' | translate"></span> <span class="account-change-phone icon-edit" title="{{ \'Label.UpdatePhone\' | translate }}" ng-click="changePhone()" ng-show="accountInfoSettings.isPhoneVerified"></span> </div> <div class="form-group" ng-if="accountSettingsPolicy.displayEmailAddress" ng-cloak> <span class="text-label account-settings-label" ng-if="accountContent.userInfo.data.UserAbove13" ng-bind="\'Label.Email\' | translate"></span> <span class="text-label account-settings-label" ng-if="!accountContent.userInfo.data.UserAbove13" ng-bind="\'Label.EmailParent\' | translate"></span> <span class="account-field-email">{{ accountContent.userInfo.data.UserEmail }}</span> <span class="account-field-verified-icon icon-checkmark-16x16" ng-show="accountContent.hasVerifiedEmail"></span> <span class="text-robux account-field-email-verified-text" ng-show="accountContent.hasVerifiedEmail" ng-bind="\'Label.Verified\' | translate"></span> <span class="account-field-email-add-msg text-error" ng-hide="accountContent.userInfo.data.IsEmailOnFile" ng-if="accountContent.userInfo.data.UserAbove13"> <span class="icon-warning"></span> {{ \'Label.AddEmail\' | translate }} </span> <span class="account-field-email-add-msg text-error" ng-hide="accountContent.userInfo.data.IsEmailOnFile" ng-if="!accountContent.userInfo.data.UserAbove13"> <span class="icon-warning"></span> {{ \'Label.AddEmailParent\' | translate }} </span> <span class="account-field-email-verify-msg text-error" ng-show="accountContent.hasEmailButNotVerified"> <span class="icon-warning"></span> {{ \'Label.EmailVerificationPending\' | translate }} </span> <span class="account-field-email-add-address text-name" ng-click="setEmailAddress()" ng-hide="accountContent.userInfo.data.IsEmailOnFile" ng-if="accountContent.userInfo.data.UserAbove13" ng-bind="\'Label.AddEmail\' | translate"></span> <span class="account-field-email-add-address text-name" ng-click="setEmailAddress()" ng-hide="accountContent.userInfo.data.IsEmailOnFile" ng-if="!accountContent.userInfo.data.UserAbove13" ng-bind="\'Label.AddEmailParent\' | translate"></span> <span class="account-field-email-verify" ng-show="accountContent.hasEmailButNotVerified"> <span class="text-name" ng-click="verifyEmailAddress(false)" ng-bind="\'Label.Verify\' | translate"></span> | <span class="text-name" ng-click="setEmailAddress()" ng-bind="\'Label.UpdateEmail\' | translate"></span> </span> <span class="account-change-email icon-edit" title="{{ \'Label.UpdateEmail\' | translate }}" ng-click="setEmailAddress()" ng-show="accountContent.hasVerifiedEmail"></span> </div> <div class="form-group" ng-hide="true"> <span class="text-label account-settings-label" ng-bind="\'Label.ConnectAccount\' | translate"></span> <span class="account-field-email text-error" ng-bind="\'Label.AddEmail\' | translate"></span> </div> </div> </div> </div> <div class="section" ng-controller="personalController"> <div class="container-header"> <h3 ng-bind="\'Heading.Personal\' | translate"></h3> </div> <div class="section-content remove-panel settings-personal-container" ng-class="{\'personal-settings-refactor-enabled\': accountData.stateProperties.isPersonalSettingRefactorEnabled}"> <div class="col-sm-12"> <div class="form-group birthday-container"> <span class="text-label" ng-class="{\'birthday-label-mobile\' : !accountData.stateProperties.isPersonalSettingRefactorEnabled,\'label-mobile\' : accountData.stateProperties.isPersonalSettingRefactorEnabled}" ng-bind="\'Label.Birthday\' | translate"></span> <div ng-if="isDateTimeI18nPickerEnabled()" class="form-control fake-input-lg"> <label class="text-label" ng-class="{\'birthday-label\' : !accountData.stateProperties.isPersonalSettingRefactorEnabled,\'label-desktop\' : accountData.stateProperties.isPersonalSettingRefactorEnabled}" ng-disabled="!accountContent.userInfo.data.UserAbove13" ng-bind="\'Label.Birthday\' | translate"></label> <div ng-repeat="part in populateAccount.orderedBirthdayParts.parts" class="rbx-select-group date select-group" ng-class="part.className"> <select class="input-field rbx-select select-option" id="{{part.idName}}" ng-model="personal.birthdate[part.birthdayName]" ng-change="updateBirthdate()" ng-options="option.value as option.name for option in part.options" ng-disabled="!accountContent.userInfo.data.UserAbove13 || accountContent.userInfo.data.IsBirthdateLocked"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> <div ng-if="!isDateTimeI18nPickerEnabled()" class="form-control fake-input-lg"> <label class="text-label" ng-class="{\'birthday-label\' : !accountData.stateProperties.isPersonalSettingRefactorEnabled,\'label-desktop\' : accountData.stateProperties.isPersonalSettingRefactorEnabled}" ng-disabled="!accountContent.userInfo.data.UserAbove13" ng-bind="\'Label.Birthday\' | translate"></label> <div ng-if="isAsianBirthdayPickerEnabled()" class="rbx-select-group year select-group"> <select class="input-field rbx-select select-option" id="YearDropdown" ng-model="personal.birthdate.birthYear" ng-change="updateBirthdate()" ng-options="year.value as year.name for year in populateAccount.years" ng-disabled="!accountContent.userInfo.data.UserAbove13"></select> <span class="icon-arrow icon-down-16x16"></span> </div> <div ng-if="!isAsianBirthdayPickerEnabled()" class="rbx-select-group month select-group"> <select class="input-field rbx-select select-option" id="MonthDropdown" ng-model="personal.birthdate.birthMonth" ng-change="updateBirthdate()" ng-options="month.value as month.name for month in populateAccount.months" ng-disabled="!accountContent.userInfo.data.UserAbove13"></select> <span class="icon-arrow icon-down-16x16"></span> </div> <div ng-if="isAsianBirthdayPickerEnabled()" class="rbx-select-group month select-group"> <select class="input-field rbx-select select-option" id="MonthDropdown" ng-model="personal.birthdate.birthMonth" ng-change="updateBirthdate()" ng-options="month.value as month.name for month in populateAccount.monthsI18n" ng-disabled="!accountContent.userInfo.data.UserAbove13"></select> <span class="icon-arrow icon-down-16x16"></span> </div> <div class="rbx-select-group day select-group"> <select class="input-field rbx-select select-option" id="DayDropdown" ng-model="personal.birthdate.birthDay" ng-change="updateBirthdate()" ng-options="day.value as day.name for day in populateAccount.days" ng-disabled="!accountContent.userInfo.data.UserAbove13"></select> <span class="icon-arrow icon-down-16x16"></span> </div> <div ng-if="!isAsianBirthdayPickerEnabled()" class="rbx-select-group year select-group"> <select class="input-field rbx-select select-option" id="YearDropdown" ng-model="personal.birthdate.birthYear" ng-change="updateBirthdate()" ng-options="year.value as year.name for year in populateAccount.years" ng-disabled="!accountContent.userInfo.data.UserAbove13"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> <span class="small text account-more-info" ng-show="accountContent.userInfo.data.UserAbove13 && accountContent.userInfo.data.IsAgeDownEnabled"> <span class="verify-identity-wrapper" ng-if="personal.showIdentityVerification"> <button ng-if="!personal.birthdateVerified" id="PromptIdVerification" class="verify-identity-button btn-control-sm acct-settings-btn" ng-click="verifyAge()"> <span ng-bind="\'Action.Dialog.VerifyAge\' | translate"></span> </button> <button ng-if="personal.birthdateVerified" id="PromptIdVerification" class="verify-identity-button btn-control-sm acct-settings-btn verify-age-btn" disabled=""> <span ng-bind="\'Label.AgeVerified\' | translate"></span> <span class="icon-checkmark-16x16"></span> </button> <span class="verify-legal-text" ng-if="personal.birthdateVerified">{{\n                                \'Description.HelpText.VerifiedBirthday\' | translate }}</span> <span class="verify-legal-text" ng-if="!personal.birthdateVerified">{{\n                                \'Label.ThirdPartyVerificationDisclaimer\' | translate }}</span> </span> <span class="tooltip-container ng-scope" tooltip-placement="bottom-left" ng-if="accountSettingsPolicy.displayPrivacyModeToolTip" tooltip="{{ \'Label.ToolTip.PrivacyMode\' | translate }}" ng-click="privacyModeInfo()"> <span class="icon-moreinfo"></span> </span> {{ \'Description.HelpText.PrivacyMode\' | translate }} </span> </div> <div class="form-group gender-container"> <label class="text-label label-mobile" ng-bind="\'Label.GenderOptional\' | translate"></label> <div class="form-control fake-input-lg"> <label class="text-label label-desktop" ng-bind="\'Label.GenderOptional\' | translate"></label> <button id="MaleButton" class="border gender-button" ng-click="chooseGender(populateAccount.gender.MALE)"> <div class="gender-icon icon-male" ng-class="{\'selected\': personal.gender === populateAccount.gender.MALE}"></div> </button> <button id="FemaleButton" class="border gender-button" ng-click="chooseGender(populateAccount.gender.FEMALE)"> <div class="gender-icon icon-female" ng-class="{\'selected\': personal.gender === populateAccount.gender.FEMALE}"></div> </button> </div> </div> <div class="form-group locale-container" ng-if="accountSettingsPolicy.displayLanguageList" ng-cloak> <label class="text-label label-mobile" ng-bind="\'Label.LocaleTitle\' | translate"></label> <div id="locale-list" class="fake-input-lg"> <label class="text-label label-desktop" ng-if="accountData.stateProperties.isPersonalSettingRefactorEnabled" ng-bind="\'Label.LocaleTitle\' | translate"></label> <div id="account-settings-language-selector"></div> </div> </div> <div class="form-group country-container" ng-if="accountSettingsPolicy.displayCountryList" ng-cloak> <label class="text-label label-mobile" ng-bind="\'Label.CountryTitle\' | translate"></label> <div class="fake-input-lg"> <label class="text-label label-desktop" ng-if="accountData.stateProperties.isPersonalSettingRefactorEnabled" ng-bind="\'Label.CountryTitle\' | translate"></label> <div id="country-list" class="rbx-select-group select-group col-xs-12 col-sm-6"> <select class="input-field rbx-select select-option" ng-model="personal.country.countryId" ng-change="updateCountry()" ng-options="country.countryId as country.localizedName disable when country.disabled for country in allActiveCountryList"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> </div> <div class="form-group themes-choose-container"> <label ng-if="accountData.stateProperties.isPersonalSettingRefactorEnabled" class="text-label label-mobile" ng-bind="\'Label.ThemeTitle\' | translate"></label> <div class="form-control fake-input-lg"> <label class="text-label label-desktop" ng-bind="\'Label.ThemeTitle\' | translate"></label> <div id="themes-list" class="rbx-select-group select-group col-xs-12 col-sm-6"> <select class="input-field rbx-select select-option" ng-model="themeContent.newThemeType" ng-change="chooseThemes()" ng-options="option.value as option.name for option in themeContent.availableThemes"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> </div> <div class="form-group col-sm-2 save-settings-container"> <button id="SaveInfoSettings" class="btn-control-sm acct-settings-btn" ng-click="updateDescription()" ng-bind="\'Action.Save\' | translate"></button> </div> </div> </div> </div> <div id="social-networks" ng-if="!accountContent.userInfo.data.UseSuperSafePrivacyMode" ng-include="\'account-social\'"> </div> </div>'},1467:function(e){e.exports='<div class="section" ng-cloak ng-if="receiverDestinationTypeMapping.length > 0"> <div class="container-header"> <h3 ng-bind="\'Heading.Notifications\' | translate"></h3> </div> <div ng-repeat="receiverDestinationType in receiverDestinationTypeMapping" ng-cloak ng-if="destinationNotificationBands(receiverDestinationType.destinationType).length > 0"> <div class="section-content notifications-section"> <h4>{{receiverDestinationType.friendlyTitle}}</h4> <button class="btn-toggle receiver-destination-type-toggle" ng-if="isAvailable(receiverDestinationType) && isToggleable(receiverDestinationType)" ng-class="{\'on\': !isDestinationTypeOptedOut(receiverDestinationType)}" ng-click="toggleDestinationTypeOptOut(receiverDestinationType)"> <span class="toggle-flip"></span> <span id="toggle-on" class="toggle-on"></span> <span id="toggle-off" class="toggle-off"></span> </button> <div class="account-settings-label">{{receiverDestinationType.blurbText}}</div> <div class="info-text account-settings-label" ng-if="isAvailable(receiverDestinationType)"> {{receiverDestinationType.secondaryBlurbText}}</div> <div class="info-text account-settings-label" ng-if="!isAvailable(receiverDestinationType)"> {{receiverDestinationType.getUnavailableReason()}}</div> <div class="text-label account-settings-label" ng-if="receiverDestinationType.areSourcesShown"> {{receiverDestinationType.actionWhenText}}</div> <div ng-repeat="notificationBand in destinationNotificationBands(receiverDestinationType.destinationType)" ng-if="!isNotificationBandBlacklisted(notificationBand.notificationSourceType, receiverDestinationType.destinationType) && !!notificationSourceTypeMapping[notificationBand.notificationSourceType] && receiverDestinationType.areSourcesShown" class="notification-settings-checkbox-container"> <div class="checkbox notification-settings-checkbox"> <input type="checkbox" ng-checked="notificationBand.isEnabled" ng-disabled="isDestinationTypeOptedOut(receiverDestinationType) || !notificationBand.isOverridable" ng-click="toggleNotificationBand(notificationBand)" id="{{receiverDestinationType.destinationType}}-checkbox-{{$index}}"> <label for="{{receiverDestinationType.destinationType}}-checkbox-{{$index}}" class="font-caption-body">{{notificationSourceTypeMapping[notificationBand.notificationSourceType]}}</label> </div> </div> <div class="info-text account-settings-label" ng-if="receiverDestinationType.areSourcesShown"></div> <div class="account-settings-label" ng-if="receiverDestinationType.areSourcesShown"> {{receiverDestinationType.actionDescriptionText}} </div> </div> </div> <div class="container-header"> <button id="save-notification-preferences" class="btn-control-sm acct-settings-btn" ng-click="updateNotificationSettings()" ng-bind="\'Action.Save\' | translate"></button> </div> </div>'},1924:function(e){e.exports='<div ng-if="accountContent.userInfo.data.IsParentalControlsTabEnabled"> <div> <div class="section"> <div class="container-header"> <h3 ng-bind="\'Heading.ParentalControls\' | translate"></h3> </div> <div class="container-header"> <div class="text-description text-new-line" ng-bind="\'Description.ParentalControls\' | translate"></div> </div> </div> <div class="section" ng-show="accountContent.userInfo.data.IsAccountPinEnabled"> <div class="container-header"> <h3 ng-bind="\'Heading.ParentPin\' | translate"></h3> </div> <div class="section-content notifications-section"> <button id="accountPin-toggle" class="btn-toggle receiver-destination-type-toggle" ng-click="toggleAccountPinEnabledSetting()" ng-class="{\'on\': accountPinContent.isEnabled}"> <span class="toggle-flip"></span> <span id="toggle-on" class="toggle-on"></span> <span id="toggle-off" class="toggle-off"></span> </button> <div class="btn-toggle-label" ng-show="accountPinContent.isEnabled" ng-bind="\'Label.ParentPinEnabled\' | translate"></div> <div class="btn-toggle-label" ng-show="!accountPinContent.isEnabled" ng-bind="\'Label.ParentPinDisabled\' | translate"></div> <div class="rbx-divider"></div> <div class="text-description" ng-bind-html="\'Description.AccountPin\' | translate"></div> </div> </div> <div class="section" ng-if="parentContent.accountRestrictions.isFeatureEnabled && accountSettingsPolicy.displayAccountRestrictions" ng-cloak> <div class="container-header"> <h3 ng-bind="\'Heading.Restrictions\' | translate"></h3> </div> <div class="section-content notifications-section"> <button id="accountRestrictions-toggle" class="btn-toggle receiver-destination-type-toggle" ng-click="toggleAccountRestrictionsSetting()" ng-class="{\'on\': accountRestrictions.IsEnabled}"> <span class="toggle-flip"></span> <span id="toggle-on" class="toggle-on"></span> <span id="toggle-off" class="toggle-off"></span> </button> <div class="btn-toggle-label" ng-show="accountRestrictions.IsEnabled" ng-bind="\'Label.AccountRestrictionEnabled\' | translate"></div> <div class="btn-toggle-label" ng-show="!accountRestrictions.IsEnabled" ng-bind="\'Label.AccountRestrictionDisabled\' | translate"></div> <div class="rbx-divider"></div> <div class="text-description" ng-bind-html="\'Description.AccountRestrictions\' | translate:{linkStart:\'<a class=text-link href=#!/privacy>\', linkEnd:\'</a>\'}"> </div> </div> </div> <div class="section" ng-show="isContentRatingsSettingVisible()"> <div class="container-header"> <h3 ng-bind="\'Heading.ContentRatings\' | translate"></h3> </div> <div class="form-group visible-container"> <label class="text-label account-settings-label" ng-bind="\'Description.ContentRatings\' | translate"></label> <div ng-if="isContentRatingsSettingVisible()" class="rbx-select-group select-group"> <select class="input-field rbx-select select-option" id="ContentRatings" ng-model="parentalSettings.ContentRatings" ng-options="option.value as option.name for option in populateAccount.contentRatings" ng-change="updateContentRatings()" ng-disabled="accountRestrictions.IsEnabled && parentContent.accountRestrictions.isFeatureEnabled"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> </div> <div class="section screentime-restrictions" ng-if="parentalSettings.screentime.enableParentalScreenTimeControls"> <div class="container-header"> <h3 ng-bind="\'Heading.ScreentimeRestrictions\' | translate"></h3> </div> <div class="form-group"> <span class="text-description" ng-bind="\'Label.AddRestrictions\' | translate"></span> <button id="add-restriction-btn" class="btn-control-sm acct-settings-btn" ng-click="addRestriction()" ng-bind="\'Action.Add\' | translate"></button> </div> <div class="form-group" ng-if="parentalSettings.screentime.deviceTimezone != parentalSettings.screentime.parentalTimezone"> <span class="text-description" ng-bind="\'Label.UpdateTimezonePrompt\' | translate: {timeZone: parentalSettings.screentime.deviceTimezone}"></span> <button class="btn-control-sm acct-settings-btn" ng-click="updateTimezoneAndSaveRestrictions()" ng-bind="\'Action.Dialog.Update\' | translate"></button> </div> <div class="restriction-dropdowns-section" ng-repeat="restriction in parentalSettings.screentime.curfewRestrictedHours"> <div class="restriction-dropdown-container"> <span class="text-label col-xs-12 col-sm-6" ng-bind="\'Label.BlockedFrom\' | translate"></span> <button type="button" class="btn-secondary-md" disabled=""> <span class="rbx-selection-label" ng-bind="populateAccount.timeMappings.get(restriction.begin)"></span> </button> </div> <div class="restriction-dropdown-container"> <span class="text-label col-xs-12 col-sm-6" ng-bind="\'Label.BlockedUntil\' | translate"></span> <button type="button" class="btn-secondary-md" disabled=""> <span class="rbx-selection-label" ng-bind="populateAccount.timeMappings.get(restriction.end)"></span> </button> </div> <div class="restriction-dropdown-container"> <span class="text-label col-xs-12 col-sm-6" ng-bind="\'Label.Repeat\' | translate"></span> <button type="button" class="btn-secondary-md" disabled=""> <span class="rbx-selection-label" ng-bind="dayString(restriction.days)"></span> </button> </div> <span class="tooltip-container" tooltip-placement="bottom-left" uib-tooltip="{{\'Description.CinderellaLaw\' | translate}}"> <span class="icon-moreinfo"></span> <span class="small-oneline text" ng-bind="\'Label.CinderellaLawTooltip\' | translate"></span> </span> <div class="rbx-divider curfew-divider"></div> </div> <div class="restriction-dropdowns-section" ng-repeat="restriction in parentalSettings.screentime.parentalRestrictedHours"> <div class="restriction-dropdown-container"> <span class="text-label col-xs-12 col-sm-6" ng-bind="\'Label.BlockedFrom\' | translate"></span> <div class="blocked-from-dropdown input-group-btn col-xs-12 col-sm-6"> <button type="button" class="input-dropdown-btn" data-toggle="dropdown"> <span class="rbx-selection-label" ng-bind="populateAccount.timeMappings.get(restriction.begin)"></span> <span class="icon-down-16x16"></span> </button> <ul data-toggle="dropdown-menu" class="dropdown-menu" role="menu"> <li ng-repeat="time in populateAccount.restrictionBeginTimes"> <a class="dropdown-item" ng-click="updateRestrictionBeginTime(restriction, time.timestamp)"> <span ng-bind="time.name"></span> <span class="icon-checkmark" ng-if="time.timestamp == restriction.begin"></span> </a> <div class="rbx-divider"></div> </li> </ul> </div> </div> <div class="restriction-dropdown-container"> <span class="text-label col-xs-12 col-sm-6" ng-bind="\'Label.BlockedUntil\' | translate"></span> <div class="blocked-until-dropdown input-group-btn col-xs-12 col-sm-6"> <button type="button" class="input-dropdown-btn" data-toggle="dropdown"> <span class="rbx-selection-label" ng-bind="populateAccount.timeMappings.get(restriction.end)"></span> <span class="icon-down-16x16"></span> </button> <ul data-toggle="dropdown-menu" class="dropdown-menu" role="menu"> <li ng-repeat="time in populateAccount.restrictionEndTimes"> <a class="dropdown-item" ng-click="updateRestrictionEndTime(restriction, time.timestamp)"> <span ng-bind="time.name"></span> <span class="icon-checkmark" ng-if="time.timestamp == restriction.end"></span> </a> <div class="rbx-divider"></div> </li> </ul> </div> </div> <div class="restriction-dropdown-container"> <span class="text-label col-xs-12 col-sm-6" ng-bind="\'Label.Repeat\' | translate"></span> <div class="repeat-days-dropdown input-group-btn col-xs-12 col-sm-6"> <button type="button" class="input-dropdown-btn" data-toggle="dropdown"> <span class="rbx-selection-label" ng-bind="dayString(restriction.days)"></span> <span class="icon-down-16x16"></span> </button> <ul data-toggle="dropdown-menu" class="dropdown-menu" role="menu"> <li ng-repeat="day in populateAccount.daysOfWeek"> <a class="dropdown-item" ng-click="toggleRestrictionDay(restriction, day.value); $event.stopPropagation();"> <span ng-bind="day.name"></span> <span class="icon-checkmark" ng-if="restriction.days.includes(day.value)"></span> </a> <div class="rbx-divider"></div> </li> </ul> </div> </div> <button class="btn-control-sm acct-settings-btn" ng-click="deleteRestriction(restriction)" ng-bind="\'Action.Delete\' | translate"></button> <div class="rbx-divider"></div> </div> <div class="section-content"> <div class="text-description" ng-bind="\'Label.SaveRestrictionsPrompt\' | translate"></div> <button id="save-restrictions-btn" class="btn-control-sm acct-settings-btn" ng-click="saveRestrictionsHandler()" ng-bind="\'Action.Save\' | translate"></button> </div> </div> <div class="section" ng-if="accountContent.userInfo.data.IsParentalSpendControlsEnabled && accountSettingsMetadata.isMonthlyLimitSettingVisible" ng-cloak> <div class="container-header"> <h3 ng-bind="\'Heading.MonthlyLimit\' | translate"></h3> </div> <div class="section-content notifications-section"> <button id="monthly-limit-toggle" class="btn-toggle receiver-destination-type-toggle" ng-click="toggleMonthlyLimitSetting()" ng-class="{\'on\': parentalSettings.MonthlyLimitEnabled}"> <span class="toggle-flip"></span> <span id="toggle-on" class="toggle-on"></span> <span id="toggle-off" class="toggle-off"></span> </button> <div class="btn-toggle-label" ng-show="parentalSettings.MonthlyLimitEnabled" ng-bind="\'Description.MonthlyLimitEnabled\' | translate"></div> <div class="btn-toggle-label" ng-show="!parentalSettings.MonthlyLimitEnabled" ng-bind="\'Description.MonthlyLimitDisabled\' | translate"></div> <div class="rbx-divider"></div> <div class="text-description" ng-bind="\'Description.MonthlyLimit\' | translate"></div> </div> <div class="section monthly-limit"> <div class="form-group" ng-show="parentalSettings.MonthlyLimitEnabled"> <div class="input-save"> <div ng-class=\'{"input-box form-has-error form-has-feedback monthly-limit-input-icon": !isSaveButtonVisible(), "input-box monthly-limit-input-icon": isSaveButtonVisible()}\'> <input class="form-control input-field input-number input-box" type="number" ng-model="parentalSettings.MonthlySpendLimitInUSD"/> <i ng-bind="\'Label.USDCurrency\' | translate"></i> </div> <button id="save-monthly-limit-btn" class="btn-control-sm" ng-click="updateParentalSpendControls()" ng-bind="\'Action.Save\' | translate" ng-if="isSaveButtonVisible()"></button> </div> <div class="text-error" ng-bind="\'Message.MonthlySpendLimitBelowZeroErrorMessage\' | translate" ng-if="isMonthlyLimitBelowZero()"></div> <div class="text-error" ng-bind="\'Message.MonthlySpendLimitTooHighError\' | translate: {maxMonthlySpendLimit: accountSettingsMetadata.maximumMonthlySpendLimitInUSD}" ng-if="isMonthlyLimitAboveMax()"></div> </div> </div> </div> <div class="section" ng-if="accountContent.userInfo.data.IsParentalSpendControlsEnabled && accountSettingsMetadata.isNotificationSettingVisible" ng-cloak> <div class="container-header"> <h3 ng-bind="\'Heading.NotificationSettings\' | translate"></h3> </div> <div class="section-content notifications-section"> <button id="spend-notification-settings-toggle" class="btn-toggle receiver-destination-type-toggle" ng-click="toggleNotificationSettingEnabled()" ng-class="{\'on\': parentalSettings.NotificationSettingEnabled}"> <span class="toggle-flip"></span> <span id="toggle-on" class="toggle-on"></span> <span id="toggle-off" class="toggle-off"></span> </button> <div class="btn-toggle-label" ng-show="parentalSettings.NotificationSettingEnabled" ng-bind="\'Description.NotificationSettingEnabled\' | translate"></div> <div class="btn-toggle-label" ng-show="!parentalSettings.NotificationSettingEnabled" ng-bind="\'Description.NotificationSettingDisabled\' | translate"></div> <div class="rbx-divider"></div> <div class="text-description" ng-bind="\'Description.NotificationSettings\' | translate"></div> </div> <div class="form-group visible-container"> <div class="rbx-select-group select-group" ng-show="parentalSettings.NotificationSettingEnabled"> <select class="input-field rbx-select select-option" id="SpendNotificationSetting" ng-model="parentalSettings.SpendNotificationSetting" ng-options="option.value as option.name for option in populateAccount.notificationSettings" ng-change="updateNotificationFrequency()"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> </div> </div> </div> '},5997:function(e){e.exports='<div class="section" tooltip> <div class="container-header"> <h3 ng-bind="\'Heading.PrivacySettings\' | translate" id="rbx-privacy-settings-header"></h3> </div> <div class="section-content remove-panel privacy-section" ng-if="ageRestrictedSettings.isVerifiedForVoice && accountSettingsPolicy.displayVoiceChatSettings" ng-cloak> <div class="col-sm-12"> <h4 ng-bind="\'Description.AgeRestrictedFeatures\' | translate"></h4> <div class="form-group visible-container"> <label class="text-label account-settings-label" ng-bind="\'Label.VoiceChat\' | translate"></label> </div> <button id="voiceChat-toggle" class="btn-toggle receiver-destination-type-toggle" ng-click="toggleVoiceChatEnabledSetting()" ng-class="{\'on\': ageRestrictedSettings.isVoiceChatUserOptIn}" ng-disabled="ageRestrictedSettings.isOptInDisabled && !ageRestrictedSettings.isVoiceChatUserOptIn"> <span class="toggle-flip"></span> <span id="toggle-on" class="toggle-on"></span> <span id="toggle-off" class="toggle-off"></span> </button> <span class="small text account-more-info" ng-if="!(ageRestrictedSettings.isOptInDisabled && !ageRestrictedSettings.isVoiceChatUserOptIn)"> {{ \'Description.HelpText.VoiceChat\' | translate }} </span> <span class="small text account-more-info dimmed-text" ng-if="ageRestrictedSettings.isOptInDisabled &&\n            !ageRestrictedSettings.isVoiceChatUserOptIn"> {{ \'Description.HelpText.OptInDisabled\' | translate }} </span> </div> </div> <div class="section-content remove-panel privacy-section" ng-if="accountSettingsPolicy.displayVisibilitySettings" ng-cloak> <div class="col-sm-12"> <div class="form-group visible-container"> <label class="text-label account-settings-label" ng-bind="\'Label.Visibility\' | translate"></label> </div> <button id="visibility-toggle" class="btn-toggle receiver-destination-type-toggle" ng-click="toggleVisibilityPrivacy()" ng-class="{\'on\': visibilitySettings.isInvisible}"> <span class="toggle-flip"></span> <span id="toggle-on" class="toggle-on"></span> <span id="toggle-off" class="toggle-off"></span> </button> <span class="small text account-more-info"> {{ \'Description.HelpText.Visibility\' | translate }} </span> </div> </div> <div class="section-content remove-panel privacy-section"> <div class="col-sm-12" ng-class="{\'safety-on\' : accountRestrictions.IsEnabled && parentContent.accountRestrictions.isFeatureEnabled}"> <div ng-show="!accountContent.userInfo.data.IsParentalControlsTabEnabled && accountRestrictions.IsEnabled && parentContent.accountRestrictions.isFeatureEnabled" class="text-warning contact-settings-locked" ng-bind-html="\'Description.ContactSetting\' | translate:{linkStart: \'<a class=text-link href=#!/security>\', linkEnd: \'</a>\'}"> </div> <div ng-show="accountContent.userInfo.data.IsParentalControlsTabEnabled && accountRestrictions.IsEnabled && parentContent.accountRestrictions.isFeatureEnabled" class="text-warning contact-settings-locked" ng-bind-html="\'Description.ContactSettings\' | translate:{linkStart: \'<a class=text-link href=#!/parental-controls>\', linkEnd: \'</a>\'}"> </div> <h4 ng-bind="\'Heading.ContactSettings\' | translate"></h4> <span class="tooltip-container" ng-show="accountContent.userInfo.data.IsAppChatSettingEnabled && accountContent.userInfo.data.IsGameChatSettingEnabled" tooltip-placement="bottom-right" uib-tooltip="{{ \'Label.ToolTip.ContactSettings\' | translate }}"> <span class="icon-moreinfo"></span> </span> <div ng-if="accountContent.userInfo.data.IsAppChatSettingEnabled && accountContent.userInfo.data.IsGameChatSettingEnabled"> <div class="form-group visible-container"> <div class="rbx-select-group select-group contact-settings-configuration"> <select class="input-field rbx-select select-option" ng-model="contactSettings.MasterSetting" ng-options="option.value as option.name for option in populateAccount.contactSettingsConfiguration" ng-change="onContactSettingsMasterSettingChange()" ng-disabled="accountRestrictions.IsEnabled && parentContent.accountRestrictions.isFeatureEnabled"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> <div class="rbx-divider"></div> </div> <div class="form-group visible-container" ng-if="accountSettingsPolicy.displayChatFilteringSetting" ng-cloak> <label class="text-label account-settings-label" ng-bind="\'Label.ChatFilteringLevel\' | translate"></label> <span class="tooltip-container" tooltip-placement="bottom-right" uib-tooltip="{{ \'Label.ToolTip.ChatFilteringLevel\' | translate }}"> <span class="icon-moreinfo"></span> </span> <div class="rbx-select-group select-group"> <select class="input-field rbx-select select-option" id="AppChatFilterSafetyLevel" ng-disabled="true"> <option value="" ng-bind="\'Label.DropDown.MaximumFiltering\' | translate" ng-if="!accountContent.userInfo.data.UserAbove13"></option> <option value="" ng-bind="\'Label.DropDown.13PlusFiltering\' | translate" ng-if="accountContent.userInfo.data.UserAbove13"></option> </select> <span class="icon-arrow icon-down-16x16"></span> </div> <div class="rbx-divider"></div> </div> <div class="form-group visible-container" ng-if="accountSettingsPolicy.displayWhoCanMessageMe" ng-cloak> <label class="text-label account-settings-label" ng-bind="\'Label.WhoCanMessageMe\' | translate"></label> <span class="tooltip-container" tooltip-placement="bottom-right" uib-tooltip="{{ \'Label.ToolTip.WhoCanMessageMe\' | translate }}"> <span class="icon-moreinfo"></span> </span> <div class="rbx-select-group select-group"> <select class="input-field rbx-select select-option" id="PrivateMessagePrivacy" ng-if="accountContent.userInfo.data.UseSuperSafePrivacyMode" ng-model="contactSettings.PrivateMessagePrivacy" ng-options="option.value as option.name for option in populateAccount.under13Privacy" ng-change="updatePrivateMessagePrivacy()" ng-disabled="accountRestrictions.IsEnabled && parentContent.accountRestrictions.isFeatureEnabled"></select> <span class="icon-arrow icon-down-16x16"></span> <select class="input-field rbx-select select-option" id="PrivateMessagePrivacy" ng-if="!accountContent.userInfo.data.UseSuperSafePrivacyMode" ng-model="contactSettings.PrivateMessagePrivacy" ng-options="option.value as option.name for option in populateAccount.messaging" ng-change="updatePrivateMessagePrivacy()" ng-disabled="accountRestrictions.IsEnabled && parentContent.accountRestrictions.isFeatureEnabled"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> <div ng-show="accountContent.userInfo.data.IsAppChatSettingEnabled"> <div class="form-group visible-container"> <label class="text-label account-settings-label" ng-bind="\'Label.WhoCanChatInApp\' | translate"></label> <span class="tooltip-container" tooltip-placement="bottom-right" uib-tooltip="{{ \'Label.ToolTip.WhoCanChatInApp\' | translate }}"> <span class="icon-moreinfo"></span> </span> <div ng-if="accountContent.userInfo.data.IsAppChatSettingEnabled" class="rbx-select-group select-group"> <select class="input-field rbx-select select-option" id="AppChatPrivacy" ng-model="contactSettings.AppChatPrivacy" ng-options="option.value as option.name for option in populateAccount.appChat" ng-change="updateAppChatPrivacy()" ng-disabled="accountRestrictions.IsEnabled && parentContent.accountRestrictions.isFeatureEnabled"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> </div> <div ng-show="accountContent.userInfo.data.IsGameChatSettingEnabled"> <div class="form-group visible-container"> <label class="text-label account-settings-label" ng-bind="\'Label.WhoCanChatInGame\' | translate"></label> <span class="tooltip-container" tooltip-placement="bottom-right" uib-tooltip="{{ \'Label.ToolTip.WhoCanChatInGame\' | translate }}"> <span class="icon-moreinfo"></span> </span> <div ng-if="accountContent.userInfo.data.IsGameChatSettingEnabled" class="rbx-select-group select-group"> <select class="input-field rbx-select select-option" id="GameChatPrivacy" ng-model="contactSettings.GameChatPrivacy" ng-options="option.value as option.name for option in populateAccount.gameChat" ng-change="updateGameChatPrivacy()" ng-disabled="accountRestrictions.IsEnabled && parentContent.accountRestrictions.isFeatureEnabled"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> </div> </div> </div> <div class="section-content remove-panel privacy-section settings-privacy-other-container"> <div class="col-sm-12"> <h4 ng-bind="\'Heading.OtherSettings\' | translate"></h4> <div class="form-group visible-container" ng-if="accountSettingsPolicy.displayWhoCanInviteMeToVIPServers" ng-cloak> <label class="text-label account-settings-label" ng-bind="\'Label.WhoCanInvitePrivateServers\' | translate"></label> <span class="tooltip-container" tooltip-placement="bottom-right" uib-tooltip="{{ \'Label.ToolTip.WhoCanInvitePrivateServer\'| translate }}"> <span class="icon-moreinfo"></span> </span> <div class="rbx-select-group select-group"> <select class="input-field rbx-select select-option" id="PrivateServerInvitePrivacy" ng-if="accountContent.userInfo.data.UseSuperSafePrivacyMode" ng-model="joinSettings.privateServerInvitePrivacy" ng-change="updatePrivateServerInvitePrivacy()" ng-options="option.value as option.name for option in populateAccount.under13Privacy"></select> <select class="input-field rbx-select select-option" id="PrivateServerInvitePrivacy" ng-if="!accountContent.userInfo.data.UseSuperSafePrivacyMode" ng-model="joinSettings.privateServerInvitePrivacy" ng-change="updatePrivateServerInvitePrivacy()" ng-options="option.value as option.name for option in populateAccount.visibility"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> <div class="form-group visible-container"> <label class="text-label account-settings-label" ng-bind="\'Label.WhoCanJoinGame\' | translate"></label> <span class="tooltip-container" tooltip-placement="bottom-right" uib-tooltip="{{ \'Label.ToolTip.WhoCanJoinGame\' | translate }}"> <span class="icon-moreinfo"></span> </span> <div class="rbx-select-group select-group"> <select class="input-field rbx-select select-option" id="FollowMePrivacy" ng-if="accountContent.userInfo.data.UseSuperSafePrivacyMode" ng-model="joinSettings.followMePrivacy" ng-change="updateFollowMePrivacy()" ng-options="option.value as option.name for option in populateAccount.under13JoinPrivacy"></select> <select class="input-field rbx-select select-option" id="FollowMePrivacy" ng-if="!accountContent.userInfo.data.UseSuperSafePrivacyMode" ng-model="joinSettings.followMePrivacy" ng-change="updateFollowMePrivacy()" ng-options="option.value as option.name for option in populateAccount.privacy"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> <div class="form-group visible-container" ng-show="accountContent.userInfo.data.CanHideInventory"> <label class="text-label account-settings-label" ng-bind="\'Label.WhoCanSeeInventory\' | translate"></label> <span class="tooltip-container" tooltip-placement="bottom-right" uib-tooltip="{{ \'Label.ToolTip.WhoCanSeeInventory\' | translate }}"> <span class="icon-moreinfo"></span> </span> <div class="rbx-select-group select-group"> <select class="input-field rbx-select select-option" id="InventoryPrivacy" ng-model="inventorySettings.inventoryPrivacy" ng-change="updateInventoryPrivacy()" ng-options="option.value as option.name for option in populateAccount.visibility"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> <div class="form-group visible-container" ng-if="accountContent.userInfo.data.CanTrade && accountSettingsPolicy.displayWhoCanTradeWithMe" ng-cloak> <label class="text-label account-settings-label" ng-bind="\'Label.WhoCanTradeWithMe\' | translate"></label> <div class="rbx-select-group select-group"> <select class="input-field rbx-select select-option" id="TradePrivacy" ng-if="accountContent.userInfo.data.UseSuperSafePrivacyMode" ng-model="tradeSettings.tradePrivacy" ng-change="updateTradePrivacy()" ng-options="option.value as option.name for option in populateAccount.under13Privacy"></select> <select class="input-field rbx-select select-option" id="TradePrivacy" ng-if="!accountContent.userInfo.data.UseSuperSafePrivacyMode" ng-model="tradeSettings.tradePrivacy" ng-change="updateTradePrivacy()" ng-options="option.value as option.name for option in populateAccount.privacy"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> <div class="form-group visible-container" ng-if="accountContent.userInfo.data.CanTrade && accountSettingsPolicy.displayTradeQualityFilter" ng-cloak> <label class="text-label account-settings-label" ng-bind="\'Label.TradeFilter\' | translate"></label> <div class="rbx-select-group select-group" id="TradeValueRatio" ng-model="tradeSettings.tradeValue"> <select class="input-field rbx-select select-option" ng-model="tradeSettings.tradeValue" ng-change="updateTradeValue()" ng-options="option.value as option.name for option in populateAccount.tradeValue"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> </div> </div> </div> <div class="section" ng-show="accountContent.userInfo.data.BlockedUsersModel.Total > 0"> <div class="container-header"> <h3 ng-bind="\'Heading.BlockedUsers\' | translate"></h3> </div> <div class="section-content settings-privacy-blocked-users"> <div class="col-sm-12"> <div class="form-group blocked-users-amt"> <button id="blockedUsersToggle" class="btn-primary-sm acct-settings-btn" ng-click="toggleBlockedUsers()"> {{ showBlockedUsers ? (\'Action.Hide\' | translate) : (\'Action.Show\' | translate) }} </button> <span ng-bind="\'Description.BlockedLimitMessage\' | translate:{\n                      totalBlockedCount: accountContent.userInfo.data.BlockedUsersModel.Total,\n                      maxBlockedCount: accountContent.userInfo.data.BlockedUsersModel.MaxBlockedUsers\n                      }"></span> </div> <div class="form-group blocked-users" ng-show="showBlockedUsers"> <ul class="hlist"> <li class="blocked-users-item list-item" ng-repeat="user in accountContent.userInfo.data.BlockedUsersModel.BlockedUsers" ng-hide="user.hidden"> <div ng-if="accountContent.userInfo.data.IsDisplayNamesEnabled" class="blocked-user-name text-overflow"> <div>{{user.DisplayName}}</div> <div class="text-secondary">@{{user.Name}}</div> </div> <div ng-if="!accountContent.userInfo.data.IsDisplayNamesEnabled" class="blocked-user-name text-overflow">{{user.Name}}</div> <button class="btn-control-xs blocked-users-btn" ng-click="unBlock(user)" ng-bind="\'Action.Unblock\' | translate"></button> </li> </ul> </div> </div> </div> </div>'},1195:function(e){e.exports='<div> <two-step-verification ng-if="accountSettingsPolicy.displayTwoStepVerification && accountData.stateProperties.isTwoStepToggleEnabled == \'true\'" pin-locked="pinIsEnabledAndLocked()" unlock-pin="unlockAccountPinSetting" email="accountContent.email" email-status="accountContent.emailStatus" ng-cloak></two-step-verification> <div class="section" ng-if="!accountContent.userInfo.data.IsParentalControlsTabEnabled"> <div class="section"> <div class="container-header"> <h3 ng-bind="\'Heading.AccountControls\' | translate"></h3> </div> <div class="container-header"> <div class="text-description text-new-line" ng-bind="\'Description.AccountControls\' | translate"></div> </div> </div> <div class="section" ng-show="accountSettingsPolicy.displayAccountPIN && accountContent.userInfo.data.IsAccountPinEnabled"> <div class="container-header"> <h3 ng-bind="\'Heading.Pin\' | translate"></h3> </div> <div class="section-content notifications-section"> <button id="accountPin-toggle" class="btn-toggle receiver-destination-type-toggle" ng-click="toggleAccountPinEnabledSetting()" ng-class="{\'on\': accountPinContent.isEnabled}"> <span class="toggle-flip"></span> <span id="toggle-on" class="toggle-on"></span> <span id="toggle-off" class="toggle-off"></span> </button> <div class="btn-toggle-label" ng-show="accountPinContent.isEnabled" ng-bind="\'Label.AccountPinEnabled\' | translate"></div> <div class="btn-toggle-label" ng-show="!accountPinContent.isEnabled" ng-bind="\'Label.AccountPinDisabled\' | translate"></div> <div class="rbx-divider"></div> <div class="text-description" ng-bind-html="\'Description.AccountPin\' | translate"></div> </div> </div> <div class="section" ng-if="parentContent.accountRestrictions.isFeatureEnabled && accountSettingsPolicy.displayAccountRestrictions" ng-cloak> <div class="container-header"> <h3 ng-bind="\'Heading.Restrictions\' | translate"></h3> </div> <div class="section-content notifications-section"> <button id="accountRestrictions-toggle" class="btn-toggle receiver-destination-type-toggle" ng-click="toggleAccountRestrictionsSetting()" ng-class="{\'on\': accountRestrictions.IsEnabled}"> <span class="toggle-flip"></span> <span id="toggle-on" class="toggle-on"></span> <span id="toggle-off" class="toggle-off"></span> </button> <div class="btn-toggle-label" ng-show="accountRestrictions.IsEnabled" ng-bind="\'Label.AccountRestrictionEnabled\' | translate"></div> <div class="btn-toggle-label" ng-show="!accountRestrictions.IsEnabled" ng-bind="\'Label.AccountRestrictionDisabled\' | translate"></div> <div class="rbx-divider"></div> <div class="text-description" ng-bind-html="\'Description.AccountRestrictionsEnabled\' | translate:{linkStart:\'<a class=text-link href=#!/privacy>\', linkEnd:\'</a>\'}"> </div> </div> </div> </div> <div class="section" ng-if="accountSettingsPolicy.displayConnectedAccounts && connectedAccounts.isConnectedAccountsBoxShown" ng-cloak> <div class="container-header"> <h3 ng-bind="\'Heading.ConnectedAccounts\' | translate"></h3> </div> <p class="text-secondary" ng-if="!hideConnectedAccountsDescription" ng-bind="\'Description.ConnectedAccounts\' | translate"></p> <div class="section-content connected-accounts-section"> <div ng-repeat="provider in connectedAccounts.providers" class="col-sm-12"> <div class="form-group account-security-settings-container"> <span class="text-label provider-label">{{provider.provider}}</span> <span>{{provider.identifier}}</span> <a id="Disconnect" class="text-link acct-settings-btn" ng-click="disconnectFromProvider(provider.provider)" ng-bind="\'Action.SocialDisconnect\' | translate"></a> </div> </div> </div> </div> <div class="section" ng-show="xbox.isDisconnectXboxBoxShown"> <div class="container-header"> <h3 ng-bind="\'Heading.Xbox\' | translate"></h3> </div> <div class="section-content xbox-section"> <div class="col-sm-12"> <div class="form-group account-security-settings-container"> <span class="security-settings-text" ng-bind="\'Label.XboxConnected\' | translate"></span> <button id="XboxDisconnect" class="btn-control-sm acct-settings-btn" ng-click="disconnectFromXbox()" ng-bind="\'Action.SocialDisconnect\' | translate"></button> </div> </div> </div> </div> <div class="section"> <div class="container-header"> <h3 ng-bind="\'Heading.SecureSignOut\' | translate"></h3> </div> <div class="section-content settings-security-setting-container"> <div class="col-sm-12"> <div class="form-group account-security-settings-container"> <span class="security-settings-text" ng-bind="\'Label.SignOutAllSessions\' | translate"></span> <button id="SignOut" class="btn-control-sm acct-settings-btn" ng-click="signOutFromSessions()" ng-bind="\'Action.SignoutAllSessions\' | translate"></button> </div> </div> </div> </div> </div>'},592:function(e){e.exports='<div class="section" ng-if="accountSettingsPolicy.displaySocialMedia" ng-cloak> <div class="container-header"> <h3 ng-bind="\'Heading.SocialNetworks\' | translate"></h3> </div> <div class="section-content remove-panel settings-social-networks-container"> <div class="col-sm-12"> <div class="form-group facebook-container"> <label class="text-label account-settings-label" ng-bind="\'Label.Facebook\' | translate">Facebook:</label> <input class="form-control input-field" id="facebook" placeholder="{{ \'Example.Facebook\' | translate }}" ng-model="socialNetworks.FacebookUrl"/> </div> <div class="form-group twitter-container"> <label class="text-label account-settings-label" ng-bind="\'Label.Twitter\' | translate"></label> <input class="form-control input-field" id="twitter" placeholder="{{ \'Example.Twitter\' | translate }}" ng-model="socialNetworks.TwitterUrl"/> </div> <div class="form-group youtube-container"> <label class="text-label account-settings-label" ng-bind="\'Label.YouTube\' | translate"></label> <input class="form-control input-field" id="youtube" placeholder="{{ \'Example.YouTube\' | translate }}" ng-model="socialNetworks.YouTubeUrl"/> </div> <div class="form-group twitch-container"> <label class="text-label account-settings-label" ng-bind="\'Label.Twitch\' | translate"></label> <input class="form-control input-field" id="twitch" placeholder="{{ \'Example.Twitch\' | translate }}" ng-model="socialNetworks.TwitchUrl"/> </div> <div class="form-group visible-container"> <label class="text-label account-settings-label" ng-bind="\'Label.SocialLinksVisibility\' | translate"></label> <div id="visible-to" class="rbx-select-group select-group"> <select class="input-field rbx-select select-option" id="social-network-visibility" ng-model="socialNetworks.SocialNetworksVisibilityPrivacy" ng-options="option.value as option.name for option in populateAccount.visibility"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> <div class="form-group col-sm-12 save-settings-container"> <button id="save-social-settings" class="btn-control-sm acct-settings-btn" ng-click="updateSocialNetworks()" ng-bind="\'Action.Save\' | translate"></button> </div> </div> </div> </div>'},7466:function(e){e.exports='<div id="change-display-name-modal" class="modal-content change-display-name-modal"> <div class="modal-header"> <button type="button" class="close" ng-click="close()"> <span aria-hidden="true"><span class="icon-close"></span></span> <span class="sr-only">{{modalLayout.modalCancel}}</span> </button> <h5>{{modalLayout.modalTitle}}</h5> </div> <form name="displayNameForm"> <div class="modal-body"> <div ng-class="{\'form-has-error\': isInputFormInvalidated(), \'form-has-feedback\': isInputFormInvalidated() }" class="form-change-display-name"> <input type="text" focus-me="true" ng-model="modalData.currentDisplayName" placeholder="{{modalData.originalDisplayName}} " maxlength="{{modalLayout.maxCharactersForDisplayName}}" class="form-control input-field" autocomplete="off" ng-change="validateInputChange()"/> <div class="font-caption-body change-display-name-feedback-container"> <p ng-class="{\'invisible\': isInputFormInvalidated() }" class="font-caption-body form-control-feedback" ng-bind="modalLayout.displayErrorMsg"></p> <span class="count-down">{{modalData.currentDisplayName.length}}/{{modalLayout.maxCharactersForDisplayName}}</span> </div> <p class="text-description font-caption-body important-description"> {{modalLayout.modalDescriptionWarning}} </p> </div> </div> <div class="modal-footer"> <button class="btn-primary-md btn-min-width" ng-disabled="isInputFormInvalidated()" ng-click="saveDisplayName()"> {{modalLayout.modalSave}} </button> <button class="btn-secondary-md btn-min-width" ng-click="close()"> {{modalLayout.modalCancel}} </button> </div> </form> </div>'},6431:function(e){e.exports='<div class="enable-authenticator-modal"> <div class="modal-header"> <button type="button" class="close" ng-click="dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span> <span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4><span ng-bind="\'Heading.Dialog.AuthenticatorSetup\' | translate"></span></h4> </div> <div class="modal-body"> <div class="spinner spinner-default" ng-show="!layout.setupToken && !layout.errorMessage"></div> <div ng-show="layout.setupToken"> <div class="img-container modal-image-container" ng-show="layout.viewQrCode"> <img class="modal-thumb" src="{{ layout.qrCodeImage }}"/> <br/> <a class="text-link xsmall" ng-click="toggleQrCode()" ng-bind="\'Action.Dialog.AuthenticatorSetupViewManualEntryKey\' | translate"></a> </div> <div class="body-text section-content-off" ng-hide="layout.viewQrCode" ng-bind="layout.manualEntryKey"></div> <a class="text-link xsmall toggle-qr-code" ng-click="toggleQrCode()" ng-hide="layout.viewQrCode" ng-bind="\'Action.Dialog.AuthenticatorSetupViewQRCode\' | translate"></a> <br/> <div class="body-text text-description" ng-show="layout.viewQrCode" ng-bind="\'Description.Dialog.AuthenticatorSetupQRCode\' | translate"></div> <div class="body-text text-description" ng-hide="layout.viewQrCode" ng-bind="\'Description.Dialog.AuthenticatorSetupManualEntryKey\' | translate"></div> <br/> <form class="form-horizontal" autocomplete="off" role="form" name="enterCodeForm" ng-submit="submit(enterCodeForm)"> <input type="text" class="hidden" name="fake-input"> <input type="password" class="hidden" name="fake-password" autocomplete="new-password"> <div class="form-group" ng-class="{\'form-has-feedback form-has-error\': layout.errorMessage}"> <input class="form-control input-field" placeholder="{{\'Label.Dialog.AuthenticatorSetupCodeInputPlaceholder\' | translate: {codeLength: layout.authenticatorCodeLength} }}" ng-model="layout.code" ng-disabled="layout.debounce" ng-keyup="clearErrorMessage()" numbers-only pattern="[0-9]*" maxlength="{{ layout.authenticatorCodeLength }}" autofocus/> <p class="form-control-label" ng-bind="layout.errorMessage"></p> </div> <div class="form-group" ng-class="{\'form-has-feedback form-has-error\': layout.passwordErrorMessage}" ng-if="layout.passwordRequired"> <input id="password-text-box" name="password-textbox" class="form-control input-field" placeholder="{{\'Label.Dialog.VerifyPassword\' | translate}}" type="password" ng-model="layout.password" ng-disabled="layout.debounce" ng-keyup="clearPasswordErrorMessage()" autofocus/> <p class="form-control-label" ng-bind="layout.passwordErrorMessage"></p> </div> <input type="submit" class="hidden" ng-disabled="enterCodeForm.$invalid || !canVerify()"/> </form> <div class="xsmall text-link toggle-qr-code"> <a ng-click="openHelpLink()" ng-bind="\'Action.Dialog.AuthenticatorHelpMessage\' | translate"></a> </div> </div> <p ng-if="!layout.setupToken && layout.errorMessage" class="body-text text-description" ng-bind="layout.errorMessage"></p> </div> <div class="modal-footer" ng-if="layout.setupToken"> <div class="spinner spinner-sm spinner-no-margin spinner-block" ng-show="layout.debounce"></div> <div ng-hide="layout.debounce"> <button type="submit" class="btn-secondary-md" ng-click="submit(enterCodeForm)" ng-disabled="enterCodeForm.$invalid || !canVerify()" ng-bind="\'Action.Dialog.Verify\' | translate"></button> <button ng-click="dismiss()" class="btn-control-md" ng-bind="\'Action.Dialog.Cancel\' | translate"></button> </div> </div> </div>'},9445:function(e){e.exports='<div class="update-birhtdate"> <div class="modal-header"> <button type="button" class="close" ng-click="dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span> <span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4><span ng-bind="\'Response.Dialog.Warning\' | translate"></span></h4> </div> <div class="modal-body"> <div class="account-change-birhtdate"> <div ng-bind="\'Response.Dialog.BirthdayChangeDefaultWarning\' | translate"></div> <br/> </div> <form class="form-horizontal" autocomplete="off" role="form" name="changeBirthdateForm" ng-submit="submit(changeBirthdateForm)"> <input type="text" class="hidden" name="fake-input"> <input type="password" class="hidden" name="fake-password" autocomplete="new-password"> <div class="form-group" ng-class="{\'form-has-feedback form-has-error\': layout.errorMessage}"> <input id="password-text-box" name="password-textbox" class="form-control input-field" placeholder="{{\'Label.Dialog.VerifyPassword\' | translate}}" type="password" ng-model="layout.password" ng-disabled="layout.debounce" ng-keyup="clearErrorMessage()" autofocus/> <p class="form-control-label" ng-bind="layout.errorMessage"></p> </div> <input type="submit" class="hidden" ng-disabled="changeBirthdateForm.$invalid || !canSubmit()"/> </form> </div> <div class="modal-footer"> <div class="update-button-container" toggle-loading is-loading="layout.debounce"> <button type="submit" class="btn-secondary-md" ng-click="submit(changeBirthdateForm)" ng-disabled="changeBirthdateForm.$invalid || !canSubmit()" ng-bind="\'Action.Dialog.Yes\' | translate"></button> <button ng-click="dismiss()" class="btn-control-md" ng-disabled="layout.debounce" ng-bind="\'Action.Dialog.No\' | translate"></button> </div> </div> </div>'},9011:function(e){e.exports='<div> <div class="modal-header"> <button type="button" class="close" ng-click="dismiss()"> <span aria-hidden="true"> <span class="icon-close"></span> </span> <span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4 ng-bind="title()"></h4> </div> <div class="modal-body"> <div class="border-warning two-step-warning" ng-show="!addEmail && !emailSetSuccess && !emailRequired"> <span class="icon-warning-orange"></span> <span class="small text-warning form-warning-text" ng-bind="\'Description.Dialog.ChangeEmailWarning\' | translate"></span> </div> <div ng-if="emailRequired" ng-bind="action"> </div> <form class="form-horizontal" ng-show="!emailSetSuccess && !emailRequired" autocomplete="off" role="form" name="updateEmailForm" ng-submit="submit(updateEmailForm)"> <div class="form-group"> <input id="emailAddress" name="userInfo.emailAddress" type="email" class="form-control input-field" placeholder="{{title()}}" autocomplete="off" ng-pattern="regexData.email" ng-model="userInfo.emailAddress" ng-required="true"/> </div> <input type="text" class="hidden" name="fake-username"> <input type="password" class="hidden" name="fake-password" autocomplete="new-password"> <div class="form-group" ng-if="showPasswordField"> <input id="password" name="userInfo.password" class="form-control input-field" placeholder="{{\'Label.Dialog.VerifyPassword\' | translate}}" type="password" key-press-enter="submit(updateEmailForm)" autocomplete="new-password" ng-model="userInfo.password" ng-required="doesPasswordExist"/> <p class="text-error form-control-label modal-error-message change-email-message"> <span ng-bind="emailErrorMessage(updateEmailForm)"></span> </p> </div> </form> <div ng-if="emailSetSuccess" ng-bind="\'Response.Dialog.EmailSentForVerification\' | translate"></div> </div> <div class="modal-buttons"> <button type="submit" ng-show="!emailSetSuccess && !emailRequired" id="purchaseConfirm" class="modal-button btn-secondary-md" ng-click="submit(updateEmailForm)" ng-disabled="updateEmailForm.$invalid || isProcessing" ng-bind="submitButtonText()"> </button> <button ng-if="emailSetSuccess" type="button" class="modal-button btn-control-md" ng-click="$close(true)" ng-bind="modalConstants.default.submitButtonText" key-press-enter="$close(true)" focus-me="true"></button> <button ng-show="emailRequired" type="submit" class="modal-button btn-secondary-md" ng-click="toggleEmailRequired(false)" ng-bind="\'Action.Dialog.AddEmail\' | translate"></button> </div> </div>'},8878:function(e){e.exports='<div> <div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span> <span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4 ng-if="verifiedEmailRequired" ng-bind="\'Heading.Dialog.VerifiedEmailRequired\' | translate"></h4> <h4 ng-if="!verifiedEmailRequired" ng-bind="\'Heading.Dialog.VerifyEmail\' | translate"></h4> </div> <div class="modal-body"> <span ng-if="verifiedEmailRequired" ng-show="!verificationEmailError" ng-bind="contextForVerification"></span> <span ng-if="!verifiedEmailRequired" ng-show="!verificationEmailError" ng-bind="\'Description.Dialog.EmailVerificationSent\' | translate"></span> <span ng-show="verificationEmailError" ng-bind="error"></span> </div> <div class="modal-buttons"> <button ng-if="verifiedEmailRequired" class="modal-button btn-secondary-md" ng-click="sendVerificationEmail()" ng-bind="\'Action.Dialog.VerifyEmailPrimary\' | translate" key-press-enter="sendVerificationEmail()" focus-me="true"></button> <button ng-if="!verifiedEmailRequired && !verificationEmailError" class="modal-button btn-secondary-md" ng-click="$close(true)" ng-bind="\'Action.Dialog.VerifyEmailOk\' | translate" key-press-enter="$close(true)" focus-me="true"></button> <button ng-show="verificationEmailError" class="modal-button btn-secondary-md" ng-click="beginAccountVerifyEmailAddress()" ng-bind="\'Action.Dialog.VerifyEmailRetry\' | translate" key-press-enter="beginAccountVerifyEmailAddress()" focus-me="true"></button> </div> </div>'},4140:function(e){e.exports='<div class="korea-id-verification-modal"> <div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span><span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4 class="id-verification-header" ng-bind="\'Heading.IDVerification\' | translate"></h4> </div> <div class="modal-body"> <div class="text-emphasis" ng-bind="\'Description.ChooseIdentityOptions\' | translate"></div> <div class="verification-options" ng-repeat="option in verificationOptions"> <button type="button" class="btn-control-md btn-full-width btn-verification-method" ng-click="verificationHandler(option.value)" ng-bind="option.label"></button> </div> </div> </div> '},3008:function(e){e.exports='<div> <div class="modal-header"> <button type="button" class="close" ng-click="dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span><span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4 ng-bind="passwordSetSuccess ? passwordSetSuccessTitle : title"></h4> </div> <div class="modal-body"> <form class="form-horizontal" ng-show="!passwordSetSuccess" role="form" name="changePasswordForm" ng-submit="submit(changePasswordForm)"> <div class="form-group" ng-show="facebookDisconnect"> <p ng-bind="\'Description.Dialog.FacebookDisconnectWarning\' | translate"></p> </div> <div class="form-group" ng-show="doesPasswordExist"> <input id="old-password-text-box" name="passwordInfo.currentPassword" class="form-control input-field" placeholder="{{\'Label.Dialog.ChangePasswordCurrent\' | translate}}" type="password" rbx-valid-password ng-model="passwordInfo.currentPassword" ng-trim="false" ng-required="changePassword && doesPasswordExist ? true : false"/> </div> <div class="form-group"> <input id="new-password-text-box" name="passwordInfo.newPassword" class="form-control input-field" placeholder="{{\'Label.Dialog.ChangePasswordNew\' | translate}}" type="password" rbx-valid-password ng-model="passwordInfo.newPassword" ng-trim="false" ng-required="true"/> </div> <div class="form-group"> <input id="confirm-password-text-box" name="passwordInfo.confirmPassword" class="form-control input-field" placeholder="{{\'Label.Dialog.ChangePasswordConfirm\' | translate}}" type="password" key-press-enter="submit(changePasswordForm)" rbx-valid-password-confirm match-field="passwordInfo.newPassword" ng-model="passwordInfo.confirmPassword" ng-trim="false" ng-required="true"/> <p class="text-error form-control-label modal-error-message"> <span ng-bind="passwordErrorMessage(changePasswordForm)"></span> </p> </div> </form> <div ng-if="passwordSetSuccess" ng-bind="\'Description.Dialog.ChangePasswordConfirmation\' | translate"></div> </div> <div class="modal-buttons"> <button type="submit" ng-show="!passwordSetSuccess" class="modal-button btn-secondary-md" ng-click="submit(changePasswordForm)" ng-disabled="changePasswordForm.$invalid" ng-bind="\'Action.Dialog.ChangePassword\' | translate"> </button> <button ng-if="passwordSetSuccess" class="modal-button btn-control-md" ng-click="$close(true)" ng-bind="\'Action.SuccessDialogButtonText\' | translate" key-press-enter="$close(true)" focus-me="true"></button> </div> </div>'},9854:function(e){e.exports='<div ng-show="layout.showDeleteModal" class="update-phone"> <div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span> <span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4 ng-bind="\'Heading.Dialog.RemovePhone\' | translate"></h4> </div> <div class="modal-body"> <div class="account-delete-phone-info" ng-bind="\'Description.Dialog.RemovePhoneWarning\' | translate:{phoneLast4:phoneModalData.lastDigits}"> </div> <form class="form-horizontal" autocomplete="off" role="form" name="deletePhoneForm"> <input type="text" class="hidden"> <input type="password" class="hidden"> <div class="form-group"> <input id="password-delete-text-box" name="password-textbox" class="form-control input-field" placeholder="{{\'Label.Dialog.VerifyPassword\' | translate}}" type="password" autocomplete="new-password" key-press-enter="deletePhone()" ng-model="phoneInfo.password" ng-keypress="clearDeletePhoneError()" required/> <p class="text-error form-control-label modal-error-message"> <span ng-bind="layout.deletePhoneError"> </span> </p> </div> </form> </div> <div class="modal-footer"> <div class="delete-button-container" toggle-loading is-loading="layout.isDeletePhoneBusy"> <button type="submit" class="btn-alert-md" ng-click="deletePhone()" key-press-enter="deletePhone()" ng-disabled="deletePhoneForm.$invalid" ng-bind="\'Action.Dialog.RemovePhonePrimary\' | translate"> </button> <button ng-click="$dismiss()" class="btn-control-md" ng-bind="\'Action.Dialog.RemovePhoneSecondary\' | translate"> </button> </div> </div> </div>'},7265:function(e){e.exports="<div> <div ng-include=\"'modal-phone-update'\"></div> <div ng-include=\"'modal-phone-delete'\"></div> <div ng-include=\"'modal-phone-verify'\"></div> </div>"},9494:function(e){e.exports='<div ng-show="layout.showEditModal" class="update-phone"> <div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span> <span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4><span ng-bind="phoneModalData.action"></span></h4> </div> <div class="modal-body"> <div class="account-change-phone-info" ng-bind="\'Description.Dialog.AddPhone\' | translate"></div> <div ng-if="phoneModalData.isAttemptToChangePhone" class="current-phone"> <span ng-bind="\'Label.Dialog.EditPhoneCurrentNumber\' | translate"></span> <span ng-bind="phoneModalData.maskedNumber"></span> </div> <div class="border-warning two-step-warning" ng-show="phoneModalData.isAttemptToChangePhone"> <span class="icon-warning-orange"></span> <span class="small text-warning form-warning-text" ng-bind="\'Description.Dialog.EditPhoneWarning\' | translate"></span> </div> <form class="form-horizontal" autocomplete="off" role="form" name="updatePhoneForm"> <div class="form-group"> <div id="country-list" class="rbx-select-group phone-prefix-list"> <select class="input-field rbx-select" ng-model="phoneInfo.phonePrefix" ng-options="p|phonePrefix for p in accountInfoSettings.phonePrefixes"></select> </div> <p id="prefix-list-error" class="text-error form-control-label modal-error-message phone-error-message"> <span ng-bind="layout.countryError"> </span> </p> </div> <div class="input-group form-group phone-number-group"> <div class="clearfix phone-input-row"> <div class="form-control input-field phone-prefix" ng-bind="getPhonePrefix()"> </div> <div class="icon-close-gray-16x16 clear-phone" ng-show="phoneModalData.isAttemptToChangePhone" ng-click="clearPhone()"></div> <input id="phone-text-box" class="form-control input-field last-input phone-input" name="phoneTextbox" type="tel" placeholder="{{\'Label.Dialog.AddPhoneField\' | translate}}" autocomplete="off" phone-number-format country-code="phoneInfo.phonePrefix.code" maxlength="20" ng-keypress="clearUpdatePhoneError()" ng-model="phoneInfo.phone" required> </div> <p id="invalid-phone-error" class="text-error form-control-label modal-error-message phone-error-message"> <span ng-show="phoneInfo.phone && !updatePhoneForm.phoneTextbox.$valid" ng-bind="\'Response.Dialog.InvalidPhoneNumber\' | translate"></span> </p> </div> <input type="text" class="hidden" name="fake-input"> <input type="password" class="hidden" name="fake-password" autocomplete="new-password"> <div class="form-group" ng-show="doesPasswordExist"> <input id="password-text-box" name="password-textbox" class="form-control input-field" placeholder="{{\'Label.Dialog.VerifyPassword\' | translate}}" type="password" autocomplete="new-password" key-press-enter="updatePhone()" ng-model="phoneInfo.password" ng-keypress="clearUpdatePhoneError()" ng-required="doesPasswordExist"/> <p class="text-error form-control-label modal-error-message"> <span ng-bind="layout.updatePhoneError" id="phone-update-error"> </span> </p> </div> </form> <div class="text-error" ng-bind="layout.error"></div> </div> <div class="modal-footer"> <div class="update-button-container" toggle-loading is-loading="layout.isUpdatePhoneBusy"> <button type="submit" class="btn-secondary-md" ng-click="updatePhone()" key-press-enter="updatePhone()" ng-disabled="updatePhoneForm.$invalid"> <span ng-bind="phoneModalData.action"></span> </button> <div> <span ng-show="phoneModalData.isAttemptToChangePhone" class="text-report remove-phone" ng-click="initiateDeletePhone()" ng-bind="\'Action.Dialog.EditPhoneSecondary\' | translate"></span> </div> </div> </div> </div>'},5713:function(e){e.exports='<div ng-show="layout.showVerifyModal" class="update-phone"> <div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span> <span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4 ng-bind="\'Heading.Dialog.VerifyPhone\' | translate"></h4> </div> <div class="modal-body"> <div class="sms-img"></div> <div ng-bind="\'Label.Dialog.VerifyPhoneCodeLabel\' | translate"></div> <form class="form-horizontal"> <input class="hidden" type="text" name="fakeusernameremembered"> <div class="form-group verification-code-input"> <input class="form-control input-field" autocomplete="false" name="verification-code" placeholder="Enter Code ({{phoneModalData.codeLength}}-digit)" key-press-enter="submitCode()" minLength="{{phoneModalData.codeLength}}" maxLength="{{phoneModalData.codeLength}}" numbers-only ng-trim="false" ng-disabled="layout.isVerifyPhoneBusy" ng-model="phoneInfo.code" ng-keypress="clearCodeError()" focus-me="{{layout.focusOnCodeInput}}" required> <p class="text-error form-control-label modal-error-message"> <span ng-bind="layout.codeError"> </span> </p> </div> </form> </div> <div class="modal-footer"> <div toggle-loading is-loading="layout.isVerifyPhoneBusy"> <button type="submit" class="btn-secondary-md" ng-click="submitCode()" ng-disabled="updatePhoneForm.$invalid" ng-bind="\'Action.Dialog.VerifyPhonePrimary\' | translate"> </button> <button ng-click="$dismiss()" class="btn-control-md" ng-bind="\'Action.Dialog.VerifyPhoneSecondary\' | translate"> </button> <div> <span ng-click="resendCode()" class="text-link resend-code" ng-bind="\'Action.Dialog.VerifyPhoneResendLink\' | translate"> </span> </div> </div> </div> </div>'},2016:function(e){e.exports='<div> <div class="modal-header"> <button type="button" class="close" ng-click="dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span><span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4 ng-show="pinCreateSuccess" ng-bind="\'Heading.Dialog.PinCreateSuccessConfirmation\' | translate"></h4> <h4 ng-show="!pinCreateSuccess" ng-bind="\'Heading.Dialog.PinCreate\' | translate"></h4> </div> <div class="modal-body" id="modal-body"> <form role="form" ng-show="!pinCreateSuccess" name="pinCreateForm" ng-submit="submit(pinCreateForm)"> <div class="text-label pin-fields-email"> <span ng-bind="\'Label.Dialog.VerifiedEmail\' | translate"></span> <span ng-bind="userEmail"></span> </div> <div class="pin-fields"> <div class="pin-fields-label"> <span ng-bind="\'Label.Dialog.CreatePin\' | translate: {digitCount: accountPinLength}"></span> </div> <input type="tel" class="form-control input-field pin-field" name="newPin" autocomplete="off" ng-trim="false" ng-model="pinInfo.newPin" minLength="{{accountPinLength}}" maxLength="{{accountPinLength}}" ng-minlength="{{accountPinLength}}" ng-maxlength="{{accountPinLength}}" ng-required="true" numbers-only autofocus/> <div class="pin-fields-label" ng-bind="\'Label.Dialog.ConfirmPin\' | translate"></div> <input type="tel" class="form-control input-field pin-field" name="newPinConfirm" autocomplete="off" ng-trim="false" ng-model="pinInfo.newPinConfirm" minLength="{{accountPinLength}}" maxLength="{{accountPinLength}}" ng-minlength="{{accountPinLength}}" ng-maxlength="{{accountPinLength}}" ng-required="true" key-press-enter="submit(pinCreateForm)" numbers-only match-field="pinInfo.newPin"/> </div> <div class="pin-fields-error text-center text-error"> <span ng-bind="pinErrorMessage(pinCreateForm)"></span> <span ng-if="!pinErrorMessage(pinCreateForm)"> </span> </div> <input type="submit" class="hidden" ng-disabled="pinCreateForm.$invalid"/> </form> <div ng-if="pinCreateSuccess" ng-bind="\'Response.Dialog.PinCreateConfirmation\' | translate"></div> </div> <div class="modal-buttons"> <button type="submit" class="modal-button btn-secondary-md" ng-show="!pinCreateSuccess" ng-click="submit(pinCreateForm)" ng-disabled="pinCreateForm.$invalid" ng-bind="\'Action.Dialog.PinCreate\' | translate"> </button> <button ng-if="pinCreateSuccess" class="modal-button btn-control-md" ng-click="$close(true)" ng-bind="\'Action.Dialog.PinCreateOk\' | translate"></button> </div> </div>'},8790:function(e){e.exports='<div> <div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span><span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4 ng-bind="\'Heading.Dialog.PinUnlock\' | translate"></h4> </div> <div class="modal-body" id="modal-body"> <form role="form" ng-show="!pinCreateSuccess" name="pinUnlockForm" ng-submit="submit(pinUnlockForm)"> <div class="pin-fields"> <div class="pin-fields-label" ng-bind="\'Description.Dialog.PinUnlock\' | translate"></div> <input type="tel" class="form-control pin-field" name="pin" autocomplete="off" ng-trim="false" ng-model="pinInfo.pin" minLength="{{accountPinLength}}" maxLength="{{accountPinLength}}" ng-minlength="{{accountPinLength}}" ng-maxlength="{{accountPinLength}}" ng-required="true" key-press-enter="submit(pinUnlockForm)" numbers-only autofocus/> </div> <div class="pin-fields-error text-center text-error"> <span ng-bind="pinErrorMessage(pinUnlockForm)"></span> <span ng-if="!pinErrorMessage(pinUnlockForm)"> </span> </div> <input type="submit" class="hidden" ng-disabled="pinUnlockForm.$invalid"/> </form> </div> <div class="modal-buttons"> <button type="submit" class="modal-button btn-secondary-md" ng-show="!pinCreateSuccess" ng-click="submit(pinUnlockForm)" ng-disabled="pinUnlockForm.$invalid" ng-bind="\'Action.Dialog.PinUnlock\' | translate"> </button> </div> </div>'},3164:function(e){e.exports='<div class="recovery-codes-modal"> <div class="modal-header"> <div class="modal-header-close-button" ng-if="!layout.recoveryCodes"> <button type="button" class="close" ng-click="dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span> <span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> </div> <h4> <span ng-hide="layout.recoveryCodes" ng-bind="\'Heading.GenerateNewRecoveryCodes\' | translate"></span> <span ng-show="layout.recoveryCodes" ng-bind="\'Heading.RecoveryCodesGenerated\' | translate"></span> </h4> </div> <div class="modal-body"> <div class="spinner spinner-default" ng-show="layout.loading"></div> <div ng-show="!layout.recoveryCodes && !layout.loading && !layout.loadErrorMessage"> <div class="body-text text-description" ng-bind="\'Description.Dialog.GenerateNewRecoveryCodes\' | translate" ng-if="layout.passwordRequired"></div> <div class="body-text text-description" ng-if="layout.activeRecoveryCodeCount > 0 && !layout.passwordRequired" ng-bind="\'Label.Dialog.GenerateNewRecoveryCodesClearNotice\' | translate: { activeCodeCount: layout.activeRecoveryCodeCount }"></div> <br ng-if="layout.passwordRequired || layout.activeRecoveryCodeCount > 0"/> <form class="form-horizontal" autocomplete="off" role="form" name="enterPasswordForm" ng-submit="submit(enterPasswordForm)"> <input type="text" class="hidden" name="fake-input"> <input type="password" class="hidden" name="fake-password" autocomplete="new-password"> <div class="form-group" ng-class="{\'form-has-feedback form-has-error\': layout.errorMessage}" ng-if="layout.passwordRequired"> <input class="form-control input-field" type="password" placeholder="{{ \'Label.Dialog.VerifyPassword\' | translate }}" ng-model="layout.password" ng-disabled="layout.debounce" ng-keyup="clearErrorMessage()" autofocus/> <p class="form-control-label" ng-bind="layout.errorMessage"></p> </div> <input type="submit" class="hidden" ng-disabled="enterPasswordForm.$invalid || !canContinue()"/> </form> </div> <div ng-if="layout.recoveryCodes"> <div class="body-text text-description" ng-bind="\'Description.Dialog.RecoveryCodesGenerated\' | translate"></div> <br/> <div class="section-content-off recovery-codes-container"> <pre class="recovery-codes-list text-secondary" ng-bind="formatRecoveryCodes(layout.recoveryCodesLeft)"></pre> <pre class="recovery-codes-list text-secondary" ng-bind="formatRecoveryCodes(layout.recoveryCodesRight)"></pre> </div> <br/> <div class="checkbox"> <input id="confirm-recovery-codes-checkbox" type="checkbox" ng-model="layout.confirmSavedCodes"/> <label for="confirm-recovery-codes-checkbox" ng-bind="\'Label.Dialog.RecoveryCodesSavedConfirmation\' | translate"></label> </div> </div> <p ng-if="layout.loadErrorMessage" class="body-text text-description" ng-bind="layout.loadErrorMessage"></p> </div> <div class="modal-footer" ng-if="!layout.recoveryCodes" ng-hide="layout.loading || layout.loadErrorMessage"> <div class="spinner spinner-sm spinner-no-margin spinner-block" ng-show="layout.debounce"></div> <button type="submit" class="btn-cta-md btn-full-width" ng-click="submit(enterPasswordForm)" ng-hide="layout.debounce" ng-disabled="enterPasswordForm.$invalid || !canContinue()" ng-bind="\'Action.Dialog.Continue\' | translate"></button> <span class="text-footer" ng-if="layout.activeRecoveryCodeCount > 0 && layout.passwordRequired" ng-bind="\'Label.Dialog.GenerateNewRecoveryCodesClearNotice\' | translate: { activeCodeCount: layout.activeRecoveryCodeCount } "></span> </div> <div class="modal-footer" ng-if="layout.recoveryCodes"> <button type="submit" class="btn-secondary-md btn-full-width" ng-click="close()" ng-disabled="!layout.confirmSavedCodes" ng-bind="\'Action.Dialog.Close\' | translate"></button> </div> </div>'},3712:function(e){e.exports='<div id="verification-input"> <div class="modal-header"> <div class="modal-title"> <h4 ng-bind="\'Label.TwoStepVerification\' | translate"></h4> </div> </div> <div class="modal-body"> <p class="body-text text-description" ng-bind="\'Label.EnterEmailCode\' | translate"></p> <div class="form-group" ng-class="{\'form-has-feedback form-has-error\': layout.invalidCodeError}"> <input class="input-field text-center" autocomplete="false" name="verification-code" placeholder="{{ layout.codeInputPlaceholder }}" maxlength="{{ layout.codeLength }}" numbers-only ng-trim="false" ng-model="properties.code"/> <p class="text-error" ng-show="layout.invalidCodeError" ng-bind="layout.invalidCodeErrorMessage"></p> </div> <div class="code-message-action text-center"> <div class="text-block" ng-if="layout.codeSent"> <span class="xsmall text-name" ng-bind="\'Response.CodeSent\' | translate"></span> </div> <br ng-if="layout.codeSent"/> <div class="text-block"> <a class="text-name small" ng-click="resendCode()" ng-bind="\'Action.Resend\' | translate"></a> </div> </div> <div class="modal-buttons" is-inline="true"> <button type="button" ng-show="!layout.isPendingVerification" ng-disabled="properties.code.length != layout.codeLength" class="btn-primary-md" ng-click="verifyChallengeCode()" ng-bind="\'Action.Verify\' | translate"> </button> <div class="loading spinner spinner-default" ng-show="layout.isPendingVerification"></div> </div> </div> <div class="modal-footer-note"> <span class="text-footer" ng-bind-html="layout.supportPageLinkPhrase"></span> </div> </div>'},4349:function(e){e.exports='<div> <div class="modal-header"> <button type="button" class="close" ng-click="dismiss()"> <span aria-hidden="true"> <span class="icon-close"></span> </span> <span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4 class="text-center" ng-bind="getTitle()"></h4> </div> <div class="modal-body"> <div class="text-center text-description text-new-line" ng-bind="\'Description.UnlinkLogOutWarning\' | translate"> </div> <form class="form-horizontal" autocomplete="off" role="form" name="socialDisconnectForm" ng-submit="submit(socialDisconnectForm)"> <div class="form-group" ng-class="{\'form-has-error form-has-feedback\': hasPasswordError()}"> <input id="password" name="data.password" class="form-control input-field" placeholder="{{\'Placeholder.Password\' | translate}}" type="password" autocomplete="off" key-press-enter="submit(socialDisconnectForm)" ng-model="data.password" ng-change="clearPasswordError()" ng-required="true"/> <p class="text-error form-control-label modal-error-message"> <span ng-bind="getPasswordErrorMessage(socialDisconnectForm)"></span> </p> </div> </form> </div> <div class="modal-buttons"> <button type="button" class="modal-button btn-control-md" ng-click="dismiss()" ng-disabled="socialDisconnectForm.$invalid || layout.isProcessing" ng-bind="\'Action.Cancel\' | translate"></button> <button type="submit" class="modal-button btn-secondary-md" ng-click="submit(socialDisconnectForm)" ng-disabled="socialDisconnectForm.$invalid || layout.isProcessing" ng-bind="\'Action.Unlink\' | translate"></button> </div> </div>'},6161:function(e){e.exports='<div class="update-two-step"> <div class="modal-header"> <button type="button" class="close" ng-click="dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span> <span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4><span ng-bind="\'Response.Dialog.Warning\' | translate"></span></h4> </div> <div class="modal-body"> <div class="account-change-two-step-info"> <div ng-bind="layout.disableTwoStepWarningMessage | translate"></div> <br/> </div> <form class="form-horizontal" autocomplete="off" role="form" name="disableTwoStepForm" ng-submit="submit(disableTwoStepForm)"> <input type="text" class="hidden" name="fake-input"> <input type="password" class="hidden" name="fake-password" autocomplete="new-password"> <div class="form-group" ng-class="{\'form-has-feedback form-has-error\': layout.errorMessage}"> <input id="password-text-box" name="password-textbox" class="form-control input-field" placeholder="{{\'Label.Dialog.VerifyPassword\' | translate}}" type="password" ng-model="layout.password" ng-disabled="layout.debounce" ng-keyup="clearErrorMessage()" autofocus/> <p class="form-control-label" ng-bind="layout.errorMessage"></p> </div> <input type="submit" class="hidden" ng-disabled="disableTwoStepForm.$invalid || !canSubmit()"/> </form> </div> <div class="modal-footer"> <div class="update-button-container" toggle-loading is-loading="layout.debounce"> <button type="submit" class="btn-secondary-md" ng-click="submit(disableTwoStepForm)" ng-disabled="disableTwoStepForm.$invalid || !canSubmit()" ng-bind="\'Action.Dialog.Yes\' | translate"></button> <button ng-click="dismiss()" class="btn-control-md" ng-disabled="layout.debounce" ng-bind="\'Action.Dialog.No\' | translate"></button> </div> </div> </div>'},916:function(e){e.exports='<div class="update-two-step"> <div class="modal-header"> <button type="button" class="close" ng-click="dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span> <span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4><span ng-bind="\'Response.Dialog.EnableTwoStepVerification\' | translate"></span></h4> </div> <div class="modal-body"> <div class="account-change-two-step-info"> <div ng-bind="\'Response.Dialog.EnableTwoStepVerificationMessage\' | translate"></div> <br/> </div> <form class="form-horizontal" autocomplete="off" role="form" name="enableTwoStepForm" ng-submit="submit(enableTwoStepForm)"> <input type="text" class="hidden" name="fake-input"> <input type="password" class="hidden" name="fake-password" autocomplete="new-password"> <div class="form-group" ng-class="{\'form-has-feedback form-has-error\': layout.errorMessage}"> <input id="password-text-box" name="password-textbox" class="form-control input-field" placeholder="{{\'Label.Dialog.VerifyPassword\' | translate}}" type="password" ng-model="layout.password" ng-disabled="layout.debounce" ng-keyup="clearErrorMessage()" autofocus/> <p class="form-control-label" ng-bind="layout.errorMessage"></p> </div> <input type="submit" class="hidden" ng-disabled="enableTwoStepForm.$invalid || !canSubmit()"/> </form> </div> <div class="modal-footer"> <div class="spinner spinner-sm spinner-no-margin spinner-block" ng-show="layout.debounce"></div> <button type="submit" class="btn-cta-md btn-full-width" ng-click="submit(enableTwoStepForm)" ng-hide="layout.debounce" ng-disabled="enableTwoStepForm.$invalid || !canSubmit()" ng-bind="\'Action.Dialog.Continue\' | translate"></button> </div> </div> '},2360:function(e){e.exports='<div> <div class="modal-header"> <button type="button" class="close" ng-click="dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span> <span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4 ng-if="usernameUpdateSuccess" ng-bind="\'Heading.Dialog.DefaultSuccess\' | translate"></h4> <h4 ng-if="!usernameUpdateSuccess" ng-bind="\'Description.Dialog.ChangeUsernameTitle\' | translate"></h4> </div> <div class="modal-body"> <div class="change-username-price" ng-show="!usernameUpdateSuccess" ng-bind-html="getChangePriceText()"> </div> <div class="small" ng-show="!usernameUpdateSuccess"> </div> <form class="form-horizontal" ng-show="!usernameUpdateSuccess" role="form" name="changeUsernameForm" ng-submit="submit(changeUsernameForm)"> <div class="form-group"> <input id="desired-username-text-box" name="username" class="form-control input-field" placeholder="{{\'Label.Dialog.ChangeUsernameField\' | translate}}" autocomplete="off" ng-model="user.username" ng-blur="onChange()" ng-keyup="onChange()" ng-change="onChange()" account-valid-username required/> <p class="text-error form-control-label modal-error-message"> <span ng-show="changeUsernameForm.username.$dirty && !changeUsernameForm.username.$valid" ng-bind="changeUsernameForm.username.$usernameMessage"></span> </p> </div> <div class="form-group"> <input id="account-password-text-box" name="password" class="form-control input-field" placeholder="{{\'Label.Dialog.ChangeUsernameAccountPassword\' | translate}}" type="password" autocomplete="off" key-press-enter="submit(changeUsernameForm)" ng-model="user.password" required/> <p class="text-error form-control-label modal-error-message" id="generic-error-message"> <span ng-bind="usernameErrorMessage(changeUsernameForm)"></span> </p> </div> </form> <div ng-if="usernameUpdateSuccess" ng-bind="result.message ? result.message : (\'Response.Dialog.ChangeUsernameSuccess\' | translate)"> </div> <div ng-show="!usernameUpdateSuccess" ng-bind="\'Description.Dialog.ChangeUsernameDisclaimer\' | translate"></div> </div> <div class="modal-buttons"> <div ng-if="!usernameUpdateSuccess"> <button type="submit" class="modal-button btn-primary-md" ng-if="!isFreeUsernameChangeAllowed" ng-click="submit(changeUsernameForm)" ng-disabled="changeUsernameForm.$invalid" ng-bind="\'Action.Dialog.ChangeUsernameBuy\' | translate"> </button> <button type="submit" class="modal-button btn-secondary-md" ng-if="isFreeUsernameChangeAllowed" ng-click="submit(changeUsernameForm)" ng-disabled="changeUsernameForm.$invalid" ng-bind="\'Action.Dialog.Update\' | translate"></button> </div> <div class="text-center" ng-if="usernameUpdateSuccess"> <button type="submit" class="modal-button btn-control-md" ng-click="$close(true)" ng-bind="\'Action.SuccessDialogButtonText\' | translate" key-press-enter="$close(true)" focus-me="true"></button> </div> </div> </div>'},9399:function(e){e.exports='<div ng-show="accountPinContent.isEnabled && accountContent.userInfo.data.IsAccountPinEnabled"> <div class="pin-toggle-button"> <span ng-click="toggleAccountPinLockSetting()"> <span class="tooltip-container" data-toggle="tooltip" ng-show="!accountPinContent.isUnlocked" title="{{\'Label.ToolTip.PinLocked\' | translate}}"> <button type="button" class="btn-generic-locked-sm"> <span class="icon-locked"></span> </button> </span> <span class="tooltip-container" data-toggle="tooltip" title="{{\'Label.ToolTip.PinUnlocked\' | translate}}" ng-show="accountPinContent.isUnlocked"> <button type="button" class="btn-generic-unlocked-sm"> <span class="icon-unlocked"></span> </button> </span> </span> </div> <div class="text-warning small pin-time-remaining" ng-show="accountPinContent.isUnlocked"> <div class="text-warning small" ng-bind="\'Label.PinTimeRemaining\' | translate"></div> <span class="font-bold"> <span ng-bind="accountPinContent.timeRemainingMin"></span> <span ng-bind="\'Label.PinTimeMins\' | translate"></span> <span ng-bind="accountPinContent.timeRemainingSec"></span> <span ng-bind="\'Label.PinTimeSecs\' | translate"></span> </span> </div> </div>'},9804:function(e){e.exports='<div ng-controller="accountsController"> <system-feedback></system-feedback> <div class="section" ng-hide="accountData.stateProperties.isMyAccountSectionHeaderHidden"> <div class="container-header"> <h1 class="user-account-header" ng-bind="\'Heading.PageTitle\' | translate"></h1> </div> <div class="container-header"> <div class="tab-dropdown" ng-hide="accountData.stateProperties.hideMobileTabList" ng-cloak> <div class="input-group-btn" uib-dropdown> <button type="button" uib-dropdown-toggle="" class="input-dropdown-btn" ng-disabled="disabled" aria-haspopup="true" aria-expanded="false"> <span class="rbx-selection-label" ng-bind="currentData.stateLabel"></span> <span class="icon-down-16x16"></span> </button> <ul class="dropdown-menu" role="menu" uib-dropdown-menu> <li ng-repeat="tab in accountsTabs"> <a ng-bind="tab.label" ui-sref="{{ tab.name }}"></a> </li> </ul> </div> </div> </div> </div> <div id="settings-container"> <div class="left-navigation"> <ul id="vertical-menu" class="menu-vertical submenus" role="tablist" ng-init="currentData.activeTab" ng-cloak> <li class="menu-option" ng-repeat="tab in accountsTabs" ng-class="{\'active\': currentData.activeTab == tab.name}"> <a class="menu-option-content" ui-sref="{{tab.name}}"> <span class="font-caption-header" ng-bind="tab.label"></span> </a> </li> </ul> </div> <div class="tab-content rbx-tab-content" ng-controller="accountsContentController"> <div account-pin-status></div> <div ui-view></div> </div> </div> </div>'},292:function(e){"use strict";e.exports=CoreRobloxUtilities},4720:function(e){"use strict";e.exports=CoreUtilities},957:function(e){"use strict";e.exports=HeaderScripts},792:function(e){"use strict";e.exports=Roblox},5734:function(e){"use strict";e.exports=angular}},a={};function l(e){if(a[e])return a[e].exports;var t=a[e]={exports:{}};return n[e](t,t.exports,l),t.exports}l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,{a:t}),t},l.d=function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var t,a,e=l(5734),n=l.n(e),i=l(726),o=l(4720);function s(){var e;e=document.getElementById("notification-settings"),t=e.getAttribute("data-can-toggle-mobile-push-notifications"),a=e.getAttribute("data-notifications-domain")}var e=(t=!1,a="",s(),{initialize:s,isPushEnabled:function(t){var e={url:"".concat(a,"/v2/push-notifications/get-current-device-destination"),withCredentials:!0};o.httpService.get(e).then(function(e){e=e.data;null!=e&&e.destination?t(!0):t(!1)},function(e){console.log(e)})},canToggleMobilePushNotifications:function(){return t},deregisterCurrentDevice:function(t,n){var e={url:"".concat(a,"/v2/push-notifications/deregister-current-device"),withCredentials:!0};o.httpService.post(e).then(function(e){e=e.data;"Success"===(null==e?void 0:e.statusMessage)&&t&&"function"==typeof t&&t(!0)},function(e){n&&"function"==typeof n&&n(e)})}}),r=l(4395);window.Roblox.NotificationSettingsAuthority=e,(0,i.importFilesUnderPath)(l(9731)),(0,i.importFilesUnderPath)(l(9073)),(0,i.importFilesUnderPath)(l(1765)),(0,i.importFilesUnderPath)(l(2625)),(0,i.importFilesUnderPath)(l(2583));var e=l(360),c=(0,i.templateCacheGenerator)(n(),"accountSettingsTemplates",e);n().element(function(){n().bootstrap("#user-account",[r.Z.name,c.name])})}()}();
//# sourceMappingURL=https://rocrafterowebapp.vercel.app/assets/607abcdc4e85a38a51d2-accountSettings.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("AccountSettings");